(function(){var e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,C,w,k,S,_,T,N,R,E,A,M,P,D,B,I,L,O,F,H,z,W,V,U,j,q,$,Y,X=[].slice,K={}.hasOwnProperty,G=function(e,t){function n(){this.constructor=e}for(var r in t)K.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},J=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(x={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},R=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==A&&(A=function(e){return setTimeout(e,50)},y=function(e){return clearTimeout(e)}),P=function(e){var t,n;return t=R(),(n=function(){var r;return(r=R()-t)>=33?(t=R(),e(r,function(){return A(n)})):setTimeout(n,33-r)})()},M=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?X.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},C=function(){var e,t,n,r,i,o,a;for(t=arguments[0],o=0,a=(r=2<=arguments.length?X.call(arguments,1):[]).length;a>o;o++)if(n=r[o])for(e in n)K.call(n,e)&&(i=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=i&&"object"==typeof i?C(t[e],i):t[e]=i);return t},m=function(e){var t,n,r,i;for(n=t=0,r=0,i=e.length;i>r;r++)n+=Math.abs(e[r]),t++;return n/t},k=function(e,t){var n,r;if(null==e&&(e="options"),null==t&&(t=!0),r=document.querySelector("[data-pace-"+e+"]")){if(n=r.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(o){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",o):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,n,r){var i;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,i;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,i=[];n<this.bindings[e].length;)i.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return i}},e.prototype.trigger=function(){var e,t,n,r,i,o,a,s;if(n=arguments[0],e=2<=arguments.length?X.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(r=0,s=[];r<this.bindings[n].length;)i=(a=this.bindings[n][r]).once,a.handler.apply(null!=(t=a.ctx)?t:this,e),s.push(i?this.bindings[n].splice(r,1):r++);return s}},e}(),u=window.Pace||{},window.Pace=u,C(u,a.prototype),E=u.options=C({},x,window.paceOptions,k()),V=0,j=($=["ajax","document","eventLag","elements"]).length;j>V;V++)!0===E[L=$[V]]&&(E[L]=x[L]);l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return G(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(E.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t,n,r,i,o;if(null==document.querySelector(E.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",r=0,i=(o=["webkitTransform","msTransform","transform"]).length;i>r;r++)e.children[0].style[o[r]]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),s=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,r,i,o;if(null!=this.bindings[e]){for(o=[],n=0,r=(i=this.bindings[e]).length;r>n;n++)o.push(i[n].call(this,t));return o}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),W=window.XMLHttpRequest,z=window.XDomainRequest,H=window.WebSocket,w=function(e,t){var n,r;for(n in r=[],t.prototype)try{null==e[n]&&"function"!=typeof t[n]?"function"==typeof Object.defineProperty?r.push(Object.defineProperty(e,n,{get:function(){return t.prototype[n]},configurable:!0,enumerable:!0})):r.push(e[n]=t.prototype[n]):r.push(void 0)}catch(o){}return r},T=[],u.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?X.call(arguments,1):[],T.unshift("ignore"),n=t.apply(null,e),T.shift(),n},u.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?X.call(arguments,1):[],T.unshift("track"),n=t.apply(null,e),T.shift(),n},I=function(e){var t;if(null==e&&(e="GET"),"track"===T[0])return"force";if(!T.length&&E.ajax){if("socket"===e&&E.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),J.call(E.ajax.trackMethods,t)>=0)return!0}return!1},c=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(r,i,o){return I(r)&&n.trigger("request",{type:r,url:i,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new W(t),e(n),n};try{w(window.XMLHttpRequest,W)}catch(r){}if(null!=z){window.XDomainRequest=function(){var t;return t=new z,e(t),t};try{w(window.XDomainRequest,z)}catch(r){}}if(null!=H&&E.ajax.trackWebSockets){window.WebSocket=function(e,t){var r;return r=null!=t?new H(e,t):new H(e),I("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:r}),r};try{w(window.WebSocket,H)}catch(r){}}}return G(t,s),t}(),U=null,B=function(e){var t,n,r,i;for(n=0,r=(i=E.ajax.ignoreURLs).length;r>n;n++)if("string"==typeof(t=i[n])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(S=function(){return null==U&&(U=new c),U})().on("request",function(t){var n,r,i,o;return o=t.type,i=t.request,B(t.url)?void 0:u.running||!1===E.restartOnRequestAfter&&"force"!==I(o)?void 0:(r=arguments,"boolean"==typeof(n=E.restartOnRequestAfter||0)&&(n=0),setTimeout(function(){var t,n,a,s,l;if("socket"===o?i.readyState<2:0<(a=i.readyState)&&4>a){for(u.restart(),l=[],t=0,n=(s=u.sources).length;n>t;t++){if((L=s[t])instanceof e){L.watch.apply(L,r);break}l.push(void 0)}return l}},n))}),e=function(){function e(){var e=this;this.elements=[],S().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,r;return r=e.type,t=e.request,B(e.url)?void 0:(n="socket"===r?new h(t):new p(t),this.elements.push(n))},e}(),p=function(e){var t,n,r,i,o=this;if(this.progress=0,null!=window.ProgressEvent)for(e.addEventListener("progress",function(e){return o.progress=e.lengthComputable?100*e.loaded/e.total:o.progress+(100-o.progress)/2},!1),t=0,n=(i=["load","abort","timeout","error"]).length;n>t;t++)e.addEventListener(i[t],function(){return o.progress=100},!1);else r=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?o.progress=100:3===e.readyState&&(o.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}},h=function(e){var t,n,r,i=this;for(this.progress=0,t=0,n=(r=["error","open"]).length;n>t;t++)e.addEventListener(r[t],function(){return i.progress=100},!1)},r=function(e){var t,n,r;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),t=0,n=(r=e.selectors).length;n>t;t++)this.elements.push(new i(r[t]))},i=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},E.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),o=function(){var e,t,n,r,i,o=this;this.progress=0,e=0,i=[],r=0,n=R(),t=setInterval(function(){var a;return a=R()-n-50,n=R(),i.push(a),i.length>E.eventLag.sampleCount&&i.shift(),e=m(i),++r>=E.eventLag.minSamples&&e<E.eventLag.lagThreshold?(o.progress=100,clearInterval(t)):o.progress=3/(e+3)*100},50)},f=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=E.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=M(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=M(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/E.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,E.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+E.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),O=null,D=null,v=null,F=null,g=null,b=null,u.running=!1,_=function(){return E.restartOnPushState?u.restart():void 0},null!=window.history.pushState&&(q=window.history.pushState,window.history.pushState=function(){return _(),q.apply(window.history,arguments)}),null!=window.history.replaceState&&(Y=window.history.replaceState,window.history.replaceState=function(){return _(),Y.apply(window.history,arguments)}),d={ajax:e,elements:r,document:n,eventLag:o},(N=function(){var e,n,r,i,o,a,s,l;for(u.sources=O=[],n=0,i=(a=["ajax","elements","document","eventLag"]).length;i>n;n++)!1!==E[e=a[n]]&&O.push(new d[e](E[e]));for(r=0,o=(l=null!=(s=E.extraSources)?s:[]).length;o>r;r++)O.push(new(L=l[r])(E));return u.bar=v=new t,D=[],F=new f})(),u.stop=function(){return u.trigger("stop"),u.running=!1,v.destroy(),b=!0,null!=g&&("function"==typeof y&&y(g),g=null),N()},u.restart=function(){return u.trigger("restart"),u.stop(),u.start()},u.go=function(){var e;return u.running=!0,v.render(),e=R(),b=!1,g=P(function(t,n){var r,i,o,a,s,l,c,d,h,p,g,m,y;for(r=d=0,i=!0,a=h=0,g=O.length;g>h;a=++h)for(L=O[a],c=null!=D[a]?D[a]:D[a]=[],s=p=0,m=(o=null!=(y=L.elements)?y:[L]).length;m>p;s=++p)i&=(l=null!=c[s]?c[s]:c[s]=new f(o[s])).done,l.done||(r++,d+=l.tick(t));return v.update(F.tick(t,d/r)),v.done()||i||b?(v.update(100),u.trigger("done"),setTimeout(function(){return v.finish(),u.running=!1,u.trigger("hide")},Math.max(E.ghostTime,Math.max(E.minTime-(R()-e),0)))):n()})},u.start=function(e){C(E,e),u.running=!0;try{v.render()}catch(t){l=t}return document.querySelector(".pace")?(u.trigger("start"),u.go()):setTimeout(u.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return u}):"object"==typeof exports?module.exports=u:E.startOnPageLoad&&u.start()}).call(this),function(e,t){"use strict";function n(e,n,o){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(o===t)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,o=[],a=0;a<e.length;++a){if(!(n=i[e[a]]||r(e[a])))throw"module definition dependecy not found: "+e[a];o.push(n)}t.apply(null,o)}(n,function(){i[e]=o.apply(null,arguments)})}function r(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}var i={},o="tinymce/geom/Rect",a="tinymce/util/Promise",s="tinymce/util/Delay",l="tinymce/Env",u="tinymce/dom/EventUtils",c="tinymce/dom/Sizzle",d="tinymce/util/Arr",f="tinymce/util/Tools",h="tinymce/dom/DomQuery",p="tinymce/html/Styles",g="tinymce/dom/TreeWalker",m="tinymce/dom/Range",v="tinymce/html/Entities",b="tinymce/dom/StyleSheetLoader",y="tinymce/dom/DOMUtils",x="tinymce/dom/ScriptLoader",C="tinymce/AddOnManager",w="tinymce/dom/NodeType",k="tinymce/text/Zwsp",S="tinymce/caret/CaretContainer",_="tinymce/dom/RangeUtils",T="tinymce/NodeChange",N="tinymce/html/Node",R="tinymce/html/Schema",E="tinymce/html/SaxParser",A="tinymce/html/DomParser",M="tinymce/html/Writer",P="tinymce/html/Serializer",D="tinymce/dom/Serializer",B="tinymce/dom/TridentSelection",I="tinymce/util/VK",L="tinymce/dom/ControlSelection",O="tinymce/util/Fun",F="tinymce/caret/CaretCandidate",H="tinymce/geom/ClientRect",z="tinymce/text/ExtendingChar",W="tinymce/caret/CaretPosition",V="tinymce/caret/CaretBookmark",U="tinymce/dom/BookmarkManager",j="tinymce/dom/Selection",q="tinymce/dom/ElementUtils",$="tinymce/fmt/Preview",Y="tinymce/fmt/Hooks",X="tinymce/Formatter",K="tinymce/undo/Diff",G="tinymce/undo/Fragments",J="tinymce/undo/Levels",Q="tinymce/UndoManager",Z="tinymce/EnterKey",ee="tinymce/ForceBlocks",te="tinymce/caret/CaretUtils",ne="tinymce/caret/CaretWalker",re="tinymce/InsertList",ie="tinymce/InsertContent",oe="tinymce/EditorCommands",ae="tinymce/util/URI",se="tinymce/util/Class",le="tinymce/util/EventDispatcher",ue="tinymce/data/Binding",ce="tinymce/util/Observable",de="tinymce/data/ObservableObject",fe="tinymce/ui/Selector",he="tinymce/ui/Collection",pe="tinymce/ui/DomUtils",ge="tinymce/ui/BoxUtils",me="tinymce/ui/ClassList",ve="tinymce/ui/ReflowQueue",be="tinymce/ui/Control",ye="tinymce/ui/Factory",xe="tinymce/ui/KeyboardNavigation",Ce="tinymce/ui/Container",we="tinymce/ui/DragHelper",ke="tinymce/ui/Scrollable",Se="tinymce/ui/Panel",_e="tinymce/ui/Movable",Te="tinymce/ui/Resizable",Ne="tinymce/ui/FloatPanel",Re="tinymce/ui/Window",Ee="tinymce/ui/MessageBox",Ae="tinymce/WindowManager",Me="tinymce/ui/Tooltip",Pe="tinymce/ui/Widget",De="tinymce/ui/Progress",Be="tinymce/ui/Notification",Ie="tinymce/NotificationManager",Le="tinymce/dom/NodePath",Oe="tinymce/util/Quirks",Fe="tinymce/EditorObservable",He="tinymce/Mode",ze="tinymce/Shortcuts",We="tinymce/file/Uploader",Ve="tinymce/file/Conversions",Ue="tinymce/file/ImageScanner",je="tinymce/file/BlobCache",qe="tinymce/file/UploadStatus",$e="tinymce/ErrorReporter",Ye="tinymce/EditorUpload",Xe="tinymce/caret/FakeCaret",Ke="tinymce/dom/Dimensions",Ge="tinymce/caret/LineWalker",Je="tinymce/caret/LineUtils",Qe="tinymce/dom/MousePosition",Ze="tinymce/DragDropOverrides",et="tinymce/SelectionOverrides",tt="tinymce/util/Uuid",nt="tinymce/ui/Sidebar",rt="tinymce/Editor",it="tinymce/util/I18n",ot="tinymce/FocusManager",at="tinymce/EditorManager",st="tinymce/util/XHR",lt="tinymce/util/JSON",ut="tinymce/util/JSONRequest",ct="tinymce/util/JSONP",dt="tinymce/util/LocalStorage",ft="tinymce/Compat",ht="tinymce/ui/Layout",pt="tinymce/ui/AbsoluteLayout",gt="tinymce/ui/Button",mt="tinymce/ui/ButtonGroup",vt="tinymce/ui/Checkbox",bt="tinymce/ui/ComboBox",yt="tinymce/ui/ColorBox",xt="tinymce/ui/PanelButton",Ct="tinymce/ui/ColorButton",wt="tinymce/util/Color",kt="tinymce/ui/ColorPicker",St="tinymce/ui/Path",_t="tinymce/ui/ElementPath",Tt="tinymce/ui/FormItem",Nt="tinymce/ui/Form",Rt="tinymce/ui/FieldSet",Et="tinymce/content/LinkTargets",At="tinymce/ui/FilePicker",Mt="tinymce/ui/FitLayout",Pt="tinymce/ui/FlexLayout",Dt="tinymce/ui/FlowLayout",Bt="tinymce/fmt/FontInfo",It="tinymce/ui/FormatControls",Lt="tinymce/ui/GridLayout",Ot="tinymce/ui/Iframe",Ft="tinymce/ui/InfoBox",Ht="tinymce/ui/Label",zt="tinymce/ui/Toolbar",Wt="tinymce/ui/MenuBar",Vt="tinymce/ui/MenuButton",Ut="tinymce/ui/MenuItem",jt="tinymce/ui/Throbber",qt="tinymce/ui/Menu",$t="tinymce/ui/ListBox",Yt="tinymce/ui/Radio",Xt="tinymce/ui/ResizeHandle",Kt="tinymce/ui/SelectBox",Gt="tinymce/ui/Slider",Jt="tinymce/ui/Spacer",Qt="tinymce/ui/SplitButton",Zt="tinymce/ui/StackLayout",en="tinymce/ui/TabPanel",tn="tinymce/ui/TextBox";n(o,[],function(){function e(e,n,r){var o,a,s,l,u,c;return o=n.x,a=n.y,s=e.w,l=e.h,u=n.w,c=n.h,"b"===(r=(r||"").split(""))[0]&&(a+=c),"r"===r[1]&&(o+=u),"c"===r[0]&&(a+=i(c/2)),"c"===r[1]&&(o+=i(u/2)),"b"===r[3]&&(a-=l),"r"===r[4]&&(o-=s),"c"===r[3]&&(a-=i(l/2)),"c"===r[4]&&(o-=i(s/2)),t(o,a,s,l)}function t(e,t,n,r){return{x:e,y:t,w:n,h:r}}var n=Math.min,r=Math.max,i=Math.round;return{inflate:function(e,n,r){return t(e.x-n,e.y-r,e.w+2*n,e.h+2*r)},relativePosition:e,findBestRelativePosition:function(t,n,r,i){var o,a;for(a=0;a<i.length;a++)if((o=e(t,n,i[a])).x>=r.x&&o.x+o.w<=r.w+r.x&&o.y>=r.y&&o.y+o.h<=r.h+r.y)return i[a];return null},intersect:function(e,i){var o,a,s,l;return o=r(e.x,i.x),a=r(e.y,i.y),s=n(e.x+e.w,i.x+i.w),l=n(e.y+e.h,i.y+i.h),s-o<0||l-a<0?null:t(o,a,s-o,l-a)},clamp:function(e,n,i){var o,a,s,l,u,c,d,f,h,p;return c=e.y,d=e.x+e.w,f=e.y+e.h,h=n.x+n.w,p=n.y+n.h,o=r(0,n.x-(u=e.x)),a=r(0,n.y-c),s=r(0,d-h),l=r(0,f-p),u+=o,c+=a,i&&(d+=o,f+=a,u-=s,c-=l),t(u,c,(d-=s)-u,(f-=l)-c)},create:t,fromClientRect:function(e){return t(e.left,e.top,e.width,e.height)}}}),n(a,[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(a){i.call(this,a)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function s(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t(function(t,o){n.call(i,new a(e,r,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0==--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},t}),n(s,[a],function(e){function t(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function n(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function r(e,n){var r,i;return(i=function(){var i=arguments;clearTimeout(r),r=t(function(){e.apply(this,i)},n)}).stop=function(){clearTimeout(r)},i}var i;return{requestAnimationFrame:function(t,n){return i?void i.then(t):void(i=new e(function(e){n||(n=document.body),function(e,t){var n,r=window.requestAnimationFrame,i=["ms","moz","webkit"];for(n=0;n<i.length&&!r;n++)r=window[i[n]+"RequestAnimationFrame"];r||(r=function(e){window.setTimeout(e,0)}),r(e,t)}(e,n)}).then(t))},setTimeout:t,setInterval:n,setEditorTimeout:function(e,n,r){return t(function(){e.removed||n()},r)},setEditorInterval:function(e,t,r){var i;return i=n(function(){e.removed?clearInterval(i):t()},r)},debounce:r,throttle:r,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}}),n(l,[],function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t,n,r,i,o,a,s,l,u,c,d,f,h,p=navigator,g=p.userAgent;return t=window.opera&&window.opera.buildNumber,u=/Android/.test(g),r=(r=!(n=/WebKit/.test(g))&&!t&&/MSIE/gi.test(g)&&/Explorer/gi.test(p.appName))&&/MSIE (\w+)\./.exec(g)[1],i=-1!=g.indexOf("Trident/")&&(-1!=g.indexOf("rv:")||-1!=p.appName.indexOf("Netscape"))&&11,o=-1!=g.indexOf("Edge/")&&!r&&!i&&12,r=r||i||o,a=!n&&!i&&/Gecko/.test(g),s=-1!=g.indexOf("Mac"),l=/(iPad|iPhone)/.test(g),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=e("only screen and (max-device-width: 480px)")&&(u||l),f=e("only screen and (min-width: 800px)")&&(u||l),h=-1!=g.indexOf("Windows Phone"),o&&(n=!1),{opera:t,webkit:n,ie:r,gecko:a,mac:s,iOS:l,android:u,contentEditable:!l||c||g.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=r,range:window.getSelection&&"Range"in window,documentMode:r&&!o?document.documentMode||7:10,fileApi:c,ceFalse:!1===r||r>8,canHaveCSP:!1===r||r>11,desktop:!d&&!f,windowsPhone:h}}),n(u,[s,l],function(e,t){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,n){function r(){return!1}function i(){return!0}var o,a,s=n||{};for(o in e)u[o]||(s[o]=e[o]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=function(e,t){var n,r=s.target;return(n=e.path)&&n.length>0&&(r=n[0]),e.deepPath&&(n=e.deepPath())&&n.length>0&&(r=n[0]),r}(e)),e&&l.test(e.type)&&e.pageX===a&&e.clientX!==a){var c=s.target.ownerDocument||document,d=c.documentElement,f=c.body;s.pageX=e.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),s.pageY=e.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=i,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=r,s.isPropagationStopped=r,s.isImmediatePropagationStopped=r),void 0===s.metaKey&&(s.metaKey=!1),s}function o(t,i,o){function a(){o.domLoaded||(o.domLoaded=!0,i(l))}var s=t.document,l={type:"ready"};return o.domLoaded?void i(l):(s.addEventListener?"complete"===s.readyState?a():n(t,"DOMContentLoaded",a):(n(s,"readystatechange",function e(){("complete"===s.readyState||"interactive"===s.readyState&&s.body)&&(r(s,"readystatechange",e),a())}),s.documentElement.doScroll&&t.self===t.top&&function n(){try{s.documentElement.doScroll("left")}catch(t){return void e.setTimeout(n)}a()}()),void n(t,"load",a))}function a(){function e(e,t){var n,r,i,o,a=f[t];if(n=a&&a[e.type])for(r=0,i=n.length;r<i;r++)if((o=n[r])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t,a,l,u,c,d=this,f={};a=s+(+new Date).toString(32),u="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,d.domLoaded=!1,d.events=f,d.bind=function(r,s,h,p){function g(t){e(i(t||k.event),m)}var m,v,b,y,x,C,w,k=window;if(r&&3!==r.nodeType&&8!==r.nodeType){for(r[a]?m=r[a]:(m=t++,r[a]=m,f[m]={}),p=p||r,b=(s=s.split(" ")).length;b--;)C=g,x=w=!1,"DOMContentLoaded"===(y=s[b])&&(y="ready"),d.domLoaded&&"ready"===y&&"complete"==r.readyState?h.call(p,i({type:y})):(u||(x=c[y])&&(C=function(t){var n,r;if(n=t.currentTarget,(r=t.relatedTarget)&&n.contains)r=n.contains(r);else for(;r&&r!==n;)r=r.parentNode;r||((t=i(t||k.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,m))}),l||"focusin"!==y&&"focusout"!==y||(w=!0,x="focusin"===y?"focus":"blur",C=function(t){(t=i(t||k.event)).type="focus"===t.type?"focusin":"focusout",e(t,m)}),(v=f[m][y])?"ready"===y&&d.domLoaded?h({type:y}):v.push({func:h,scope:p}):(f[m][y]=v=[{func:h,scope:p}],v.fakeName=x,v.capture=w,v.nativeHandler=C,"ready"===y?o(r,C,d):n(r,x||y,C,w)));return r=v=0,h}},d.unbind=function(e,t,n){var i,o,s,l,u,c;if(!e||3===e.nodeType||8===e.nodeType)return d;if(i=e[a]){if(c=f[i],t){for(s=(t=t.split(" ")).length;s--;)if(o=c[u=t[s]]){if(n)for(l=o.length;l--;)if(o[l].func===n){var p=o.nativeHandler,g=o.fakeName,m=o.capture;(o=o.slice(0,l).concat(o.slice(l+1))).nativeHandler=p,o.fakeName=g,o.capture=m,c[u]=o}n&&0!==o.length||(delete c[u],r(e,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in c)r(e,(o=c[u]).fakeName||u,o.nativeHandler,o.capture);c={}}for(u in c)return d;delete f[i];try{delete e[a]}catch(h){e[a]=null}}return d},d.fire=function(t,n,r){var o;if(!t||3===t.nodeType||8===t.nodeType)return d;(r=i(null,r)).type=n,r.target=t;do{(o=t[a])&&e(r,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!r.isPropagationStopped());return d},d.clean=function(e){var t,n,r=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[a]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[a]&&r(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var s="mce-data-",l=/^(?:mouse|contextmenu)|click/,u={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(a.Event=new a).bind(window,"ready",function(){}),a}),n(c,[],function(){function e(e,t,n,r){var i,o,a,s,l,u,d,h,p,g;if((t?t.ownerDocument||t:z)!==P&&M(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||P).nodeType)&&9!==s)return[];if(B&&!r){if(i=ve.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!I||!I.test(e))){if(h=d=H,p=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=_(e),(d=t.getAttribute("id"))?h=d.replace(xe,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+f(u[l]);p=be.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return Z.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{d||t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,r)}function n(){var e=[];return function t(n,r){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function r(e){return e[H]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==Y&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=V++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[H]||(t[H]={}))[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?v:m(v,f,e,s,l),y=n?o||(r?e:p||i)?[]:a:b;if(n&&n(b,y,s,l),i)for(u=m(y,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(b[h[c]]=d));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?te.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function b(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==R)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];s<i;s++)if(n=w.relative[e[s].type])c=[h(p(c),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[H]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return v(s>1&&p(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&b(e.slice(s,r)),r<i&&b(e=e.slice(r)),r<i&&f(e))}c.push(n)}return p(c)}function y(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,d,f,h=0,p="0",g=r&&[],v=[],b=R,y=r||o&&w.find.TAG("*",u),x=W+=null==b?1:Math.random()||.1,C=y.length;for(u&&(R=a!==P&&a);p!==C&&null!=(c=y[p]);p++){if(o&&c){for(d=0;f=t[d++];)if(f(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!f&&c)&&h--,r&&g.push(c))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=J.call(l));v=m(v)}Z.apply(l,v),u&&!r&&v.length>0&&h+n.length>1&&e.uniqueSort(l)}return u&&(W=x,R=b),g};return i?r(a):a}var x,C,w,k,S,_,T,N,R,E,A,M,P,D,B,I,L,O,F,H="sizzle"+-new Date,z=window.document,W=0,V=0,U=n(),j=n(),q=n(),$=function(e,t){return e===t&&(A=!0),0},Y=typeof t,X=1<<31,K={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,Z=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ue=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),ce=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(G=ee.call(z.childNodes),z.childNodes)}catch(ye){Z={apply:G.length?function(e,t){Q.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(x in C=e.support={},S=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=e.setDocument=function(e){var n,r=e?e.ownerDocument||e:z,o=r.defaultView;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,D=r.documentElement,B=!S(r),o&&o!==function(e){try{return e.top}catch(t){}return null}(o)&&(o.addEventListener?o.addEventListener("unload",function(){M()},!1):o.attachEvent&&o.attachEvent("onunload",function(){M()})),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=me.test(r.getElementsByClassName),C.getById=i(function(e){return D.appendChild(e).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),C.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==Y&&B){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Ce,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Ce,we);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=C.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Y)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=C.getElementsByClassName&&function(e,t){if(B)return t.getElementsByClassName(e)},L=[],I=[],(C.qsa=me.test(r.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(C.matchesSelector=me.test(O=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){C.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),L.push("!=",ae)}),I=I.length&&new RegExp(I.join("|")),L=L.length&&new RegExp(L.join("|")),n=me.test(D.compareDocumentPosition),F=n||me.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=n?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===z&&F(z,e)?-1:t===r||t.ownerDocument===z&&F(z,t)?1:E?te.call(E,e)-te.call(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:E?te.call(E,e)-te.call(E,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===z?-1:u[i]===z?1:0},r):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&M(t),n=n.replace(ce,"='$1']"),C.matchesSelector&&B&&(!L||!L.test(n))&&(!I||!I.test(n)))try{var r=O.call(t,n);if(r||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,P,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==P&&M(e),F(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==P&&M(e);var r=w.attrHandle[n.toLowerCase()],i=r&&K.call(w.attrHandle,n.toLowerCase())?r(e,n,!B):t;return i!==t?i:C.attributes||!B?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!C.detectDuplicates,E=!C.sortStable&&e.slice(0),e.sort($),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return E=null,e},k=e.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},(w=e.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,we),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&b){for(f=(u=(c=m[H]||(m[H]={}))[e]||[])[0]===W&&u[2],d=(h=u[0]===W&&u[1])&&m.childNodes[h];d=++h&&d&&d[g]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,h,f];break}}else if(b&&(u=(t[H]||(t[H]={}))[e])&&u[0]===W)f=u[1];else for(;(d=++h&&d&&d[g]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[H]||(d[H]={}))[e]=[W,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=te.call(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(se,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(e){return e=e.replace(Ce,we),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ce,we).toLowerCase(),function(e){var n;do{if(n=B?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===D},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,_=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=j[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){for(a in r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length)),w.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):j(t,l).slice(0)},T=e.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)(o=b(t[n]))[H]?r.push(o):i.push(o);(o=q(e,y(i,r))).selector=e}return o},N=e.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&_(e=u.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&B&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(Ce,we),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&!w.relative[s=(a=o[i]).type];)if((l=w.find[s])&&(r=l(a.matches[0].replace(Ce,we),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Z.apply(n,r),n;break}}return(u||T(e,d))(r,t,!B,n,be.test(e)&&c(t.parentNode)||t),n},C.sortStable=H.split("").sort($).join("")===H,C.detectDuplicates=!!A,M(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),e}),n(d,[],function(){function e(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;i<o;i++)if(!1===n.call(r,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===n.call(r,e[i],i,e))return 0;return 1}function n(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:r,toArray:function(e){var t,n,i=e;if(!r(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:e,map:function(t,n){var r=[];return e(t,function(e,i){r.push(n(e,i,t))}),r},filter:function(t,n){var r=[];return e(t,function(e,i){n&&!n(e,i,t)||r.push(e)}),r},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n},findIndex:n,find:function(e,r,i){var o=n(e,r,i);return-1!==o?e[o]:t},last:function(e){return e[e.length-1]}}}),n(f,[l,d],function(e,n){function r(e){return null===e||e===t?"":(""+e).replace(o,"")}function i(e,r){return r?!("array"!=r||!n.isArray(e))||typeof e==r:e!==t}var o=/^\s*|\s*$/g;return{trim:r,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,n){var r,i,o,a,s=arguments;for(r=1,i=s.length;r<i;r++)for(o in n=s[r])n.hasOwnProperty(o)&&(a=n[o])!==t&&(e[o]=a);return e},create:function(e,t,n){var r,i,o,a,s,l=this,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(i=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return i[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[o]));t[o]||(t[o]=function(){},u=1),i[o]=t[o],l.extend(i[o].prototype,t),e[5]&&(r=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[o],i[o]=u?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],l.each(r,function(e,t){i[o].prototype[t]=r[t]}),l.each(t,function(e,t){r[t]?i[o].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!=o&&(i[o].prototype[t]=e)})),l.each(t.static,function(e,t){i[o][t]=e})}},walk:function e(t,r,i,o){o=o||this,t&&(i&&(t=t[i]),n.each(t,function(t,n){return!1!==r.call(o,t,n,i)&&void e(t,r,i,o)}))},createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||i(e,"array")?e:n.map(e.split(t||","),r)},_addCacheSuffix:function(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}}}),n(h,[u,c,f,l],function(e,n,r,i){function o(e){return void 0!==e}function a(e){return"string"==typeof e}function s(e,t){var n,r,i;for(i=(t=t||C).createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function l(e,t,n,r){var i;if(a(t))t=s(t,g(e[0]));else if(t.length&&!t.nodeType){if(t=d.makeArray(t),r)for(i=t.length-1;i>=0;i--)l(e,t[i],n,r);else for(i=0;i<t.length;i++)l(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function u(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function c(e,t,n){var r,i;return t=d(t)[0],e.each(function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e}function d(e,t){return new d.fn.init(e,t)}function f(e){return null===e||e===x?"":(""+e).replace(D,"")}function h(e,t){var n,r,i,o;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(o=e[r],r,o))break}else for(i=0;i<n&&!1!==t.call(o=e[i],i,o);i++);return e}function p(e,t){var n=[];return h(e,function(e,r){t(r,e)&&n.push(r)}),n}function g(e){return e?9==e.nodeType?e:e.ownerDocument:C}function m(e,n,r){var i=[],o=e[n];for("string"!=typeof r&&r instanceof d&&(r=r[0]);o&&9!==o.nodeType;){if(r!==t){if(o===r)break;if("string"==typeof r&&d(o).is(r))break}1===o.nodeType&&i.push(o),o=o[n]}return i}function v(e,n,r,i){var o=[];for(i instanceof d&&(i=i[0]);e;e=e[n])if(!r||e.nodeType===r){if(i!==t){if(e===i)break;if("string"==typeof i&&d(e).is(i))break}o.push(e)}return o}function b(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function y(e,t,n){h(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})}var x,C=document,w=Array.prototype.push,k=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,_=e.Event,T=r.makeMap("children,contents,next,prev"),N=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),R=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),E={for:"htmlFor",class:"className",readonly:"readOnly"},A={float:"cssFloat"},M={},P={},D=/^\s*|\s*$/g;return d.fn=d.prototype={constructor:d,selector:"",context:null,length:0,init:function(e,t){var n,r,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return d(e).attr(t);i.context=t=document}if(a(e)){if(i.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:S.exec(e)))return d(t).find(e);if(n[1])for(r=s(e,g(t)).firstChild;r;)w.call(i,r),r=r.nextSibling;else{if(!(r=g(t).getElementById(n[2])))return i;if(r.id!==n[2])return i.find(e);i.length=1,i[0]=r}}else this.add(e,!1);return i},toArray:function(){return r.toArray(this)},add:function(e,t){var n,r,i=this;if(a(e))return i.add(d(e));if(!1!==t)for(n=d.unique(i.toArray().concat(d.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else w.apply(i,d.makeArray(e));return i},attr:function(e,t){var n,r=this;if("object"==typeof e)h(e,function(e,t){r.attr(e,t)});else{if(!o(t)){if(r[0]&&1===r[0].nodeType){if((n=M[e])&&n.get)return n.get(r[0],e);if(R[e])return r.prop(e)?e:x;null===(t=r[0].getAttribute(e,2))&&(t=x)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=M[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=E[e]||e))h(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var i,a,l=this;if("object"==typeof e)h(e,function(e,t){l.css(e,t)});else if(o(t))e=n(e),"number"!=typeof t||N[e]||(t+="px"),l.each(function(){var n=this.style;if((a=P[e])&&a.set)a.set(this,t);else{try{this.style[A[e]||e]=t}catch(l){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))}});else{if(i=l[0],(a=P[e])&&a.get)return a.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(r(e))}catch(s){return x}else if(i.currentStyle)return i.currentStyle[n(e)]}return l},remove:function(){for(var e,t=this.length;t--;)_.clean(e=this[t]),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(o(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){d(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(o(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return l(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?l(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?l(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return d(e).append(this),this},prependTo:function(e){return d(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return c(this,e)},wrapAll:function(e){return c(this,e,!0)},wrapInner:function(e){return this.each(function(){d(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),d(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?h(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,o;(o=u(r,e))!==t&&(i=r.className,o?r.className=f((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)}),n)},hasClass:function(e){return u(this[0],e)},each:function(e){return h(this,e)},on:function(e,t){return this.each(function(){_.bind(this,e,t)})},off:function(e,t){return this.each(function(){_.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?_.fire(this,e.type,e):_.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new d(k.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)d.find(e,this[t],r);return d(r)},filter:function(e){return d("function"==typeof e?p(this.toArray(),function(t,n){return e(n,t)}):d.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof d&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&d(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),d(t)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(i=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:w,sort:[].sort,splice:[].splice},r.extend(d,{extend:r.extend,makeArray:function(e){return function(e){return e&&e==e.window}(e)||e.nodeType?[e]:r.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:r.isArray,each:h,trim:f,grep:p,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return 1===t.length?d.find.matchesSelector(t[0],e)?[t[0]]:[]:d.find.matches(e,t)}}),h({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m(e,"parentNode")},next:function(e){return b(e,"nextSibling",1)},prev:function(e){return b(e,"previousSibling",1)},children:function(e){return v(e.firstChild,"nextSibling",1)},contents:function(e){return r.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){d.fn[e]=function(n){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(d.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(T[e]||(r=d.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=d(r),n?r.filter(n):r}}),h({parentsUntil:function(e,t){return m(e,"parentNode",t)},nextUntil:function(e,t){return v(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return v(e,"previousSibling",1,t).slice(1)}},function(e,t){d.fn[e]=function(n,r){var i=[];return this.each(function(){var e=t.call(i,this,n,i);e&&(d.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=d.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse())),i=d(i),r?i.filter(r):i}}),d.fn.is=function(e){return!!e&&this.filter(e).length>0},d.fn.init.prototype=d.fn,d.overrideDefaults=function(e){function t(r,i){return n=n||e(),0===arguments.length&&(r=n.element),i||(i=n.context),new t.fn.init(r,i)}var n;return d.extend(t,this),t},i.ie&&i.ie<8&&(y(M,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?x:t},size:function(e){var t=e.size;return 20===t?x:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?x:t}}),y(M,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(A.float="styleFloat",y(P,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),d.attrHooks=M,d.cssHooks=P,d}),n(p,[],function(){return function(e,t){function n(e,t,n,r){function i(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var r,i,o,a,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d={},f="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),a=t.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+f).split(" "),r=0;r<i.length;r++)d[i[r]]=f+r,d[f+r]=i[r];return{toHex:function(e){return e.replace(s,n)},parse:function(t){function i(e,t,n){var i,o,a,s;if((i=C[e+"-top"+t])&&(o=C[e+"-right"+t])&&(a=C[e+"-bottom"+t])&&(s=C[e+"-left"+t])){var l=[i,o,a,s];for(r=l.length-1;r--&&l[r]===l[r+1];);r>-1&&n||(C[e+t]=-1==r?l[0]:l.join(" "),delete C[e+"-top"+t],delete C[e+"-right"+t],delete C[e+"-bottom"+t],delete C[e+"-left"+t])}}function o(e){var t,n=C[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return C[e]=n[0],!0}}function a(e){return x=!0,d[e]}function h(e,t){return x&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(e){return String.fromCharCode(parseInt(e.slice(1),16))}function g(e){return e.replace(/\\[0-9a-f]+/gi,p)}function m(t,n,r,i,o,a){if(o=o||a)return"'"+(o=h(o)).replace(/\'/g,"\\'")+"'";if(n=h(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return w&&(n=w.call(k,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var v,b,y,x,C={},w=e.url_converter,k=e.url_converter_scope||this;if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,a).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,a)});v=u.exec(t);)if(u.lastIndex=v.index+v[0].length,b=v[1].replace(c,"").toLowerCase(),y=v[2].replace(c,""),b&&y){if(b=g(b),y=g(y),-1!==b.indexOf(f)||-1!==b.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"==b||/expression\s*\(|\/\*|\*\//.test(y)))continue;"font-weight"===b&&"700"===y?y="bold":"color"!==b&&"background-color"!==b||(y=y.toLowerCase()),y=(y=y.replace(s,n)).replace(l,m),C[b]=x?h(y,!0):y}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),function(e,t,n,r){o(t)&&o(n)&&o(r)&&(C.border=C[t]+" "+C[n]+" "+C[r],delete C[t],delete C[n],delete C[r])}(0,"border-width","border-style","border-color"),"medium none"===C.border&&delete C.border,"none"===C["border-image"]&&delete C["border-image"]}return C},serialize:function(e,t){function n(t){var n,r,i,a;if(n=o[t])for(r=0,i=n.length;r<i;r++)(a=e[t=n[r]])&&(l+=(l.length>0?" ":"")+t+": "+a+";")}function r(e,t){var n;return!((n=a["*"])&&n[e]||(n=a[t],n&&n[e]))}var i,s,l="";if(t&&o)n("*"),n(t);else for(i in e)!(s=e[i])||a&&!r(i,t)||(l+=(l.length>0?" ":"")+i+": "+s+";");return l}}}}),n(g,[],function(){return function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}}var r=e;this.current=function(){return r},this.next=function(e){return r=n(r,"firstChild","nextSibling",e)},this.prev=function(e){return r=n(r,"lastChild","previousSibling",e)},this.prev2=function(e){return r=function(e,n,r,i){var o,a,s;if(e){if(o=e.previousSibling,t&&o===t)return;if(o){if(!i)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}(r,"lastChild",0,e)}}}),n(m,[f],function(e){function t(n){function r(){return w.createDocumentFragment()}function i(e,t){d(_,e,t)}function o(e,t){d(T,e,t)}function a(e){i(e.parentNode,P(e))}function s(e){o(e.parentNode,P(e)+1)}function l(){return f(k)}function u(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n||e}function c(e,t,r,i){var o,a,s,l,u,c;if(e==r)return t==i?0:t<i?-1:1;for(o=r;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(o=e;o&&o.parentNode!=r;)o=o.parentNode;if(o){for(a=0,s=r.firstChild;s!=o&&a<i;)a++,s=s.nextSibling;return a<i?-1:1}for(l=n.findCommonAncestor(e,r),u=e;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=r;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function d(e,t,r){var i,o;for(e?(C[R]=t,C[N]=r):(C[E]=t,C[A]=r),i=C[E];i.parentNode;)i=i.parentNode;for(o=C[R];o.parentNode;)o=o.parentNode;o==i?c(C[R],C[N],C[E],C[A])>0&&C.collapse(e):C.collapse(e),C.collapsed=C[R]==C[E]&&C[N]==C[A],C.commonAncestorContainer=n.findCommonAncestor(C[R],C[E])}function f(e){var t,n,r,i,o,a,s,l=0,u=0;if(C[R]==C[E])return h(e);for(n=(t=C[E]).parentNode;n;t=n,n=n.parentNode){if(n==C[R])return p(t,e);++l}for(n=(t=C[R]).parentNode;n;t=n,n=n.parentNode){if(n==C[E])return g(t,e);++u}for(r=u-l,i=C[R];r>0;)i=i.parentNode,r--;for(o=C[E];r<0;)o=o.parentNode,r++;for(a=i.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)i=a,o=s;return m(i,o,e)}function h(e){var t,n,i,o,a,s,l,c;if(e!=S&&(t=r()),C[N]==C[A])return t;if(3==C[R].nodeType){if(n=C[R].nodeValue.substring(C[N],C[A]),e!=k&&(i=C[R],c=C[A]-C[N],0===(l=C[N])&&c>=i.nodeValue.length-1?i.parentNode.removeChild(i):i.deleteData(l,c),C.collapse(_)),e==S)return;return n.length>0&&t.appendChild(w.createTextNode(n)),t}for(i=u(C[R],C[N]),o=C[A]-C[N];i&&o>0;)a=i.nextSibling,s=x(i,e),t&&t.appendChild(s),--o,i=a;return e!=k&&C.collapse(_),t}function p(e,t){var n,i,o,a,s;if(t!=S&&(n=r()),i=v(e,t),n&&n.appendChild(i),(o=P(e)-C[N])<=0)return t!=k&&(C.setEndBefore(e),C.collapse(T)),n;for(i=e.previousSibling;o>0;)a=i.previousSibling,s=x(i,t),n&&n.insertBefore(s,n.firstChild),--o,i=a;return t!=k&&(C.setEndBefore(e),C.collapse(T)),n}function g(e,t){var n,i,o,a,s,l;for(t!=S&&(n=r()),o=b(e,t),n&&n.appendChild(o),i=P(e),a=C[A]-++i,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=x(o,t),n&&n.appendChild(l),--a,o=s;return t!=k&&(C.setStartAfter(e),C.collapse(_)),n}function m(e,t,n){var i,o,a,s,l,u;for(n!=S&&(o=r()),i=b(e,n),o&&o.appendChild(i),a=P(e),s=P(t)-++a,l=e.nextSibling;s>0;)u=l.nextSibling,i=x(l,n),o&&o.appendChild(i),l=u,--s;return i=v(t,n),o&&o.appendChild(i),n!=k&&(C.setStartAfter(e),C.collapse(_)),o}function v(e,t){var n,r,i,o,a,s=u(C[E],C[A]-1),l=s!=C[E];if(s==e)return y(s,l,T,t);for(r=y(n=s.parentNode,T,T,t);n;){for(;s;)i=s.previousSibling,o=y(s,l,T,t),t!=S&&r.insertBefore(o,r.firstChild),l=_,s=i;if(n==e)return r;s=n.previousSibling,a=y(n=n.parentNode,T,T,t),t!=S&&a.appendChild(r),r=a}}function b(e,t){var n,r,i,o,a,s=u(C[R],C[N]),l=s!=C[R];if(s==e)return y(s,l,_,t);for(r=y(n=s.parentNode,T,_,t);n;){for(;s;)i=s.nextSibling,o=y(s,l,_,t),t!=S&&r.appendChild(o),l=_,s=i;if(n==e)return r;s=n.nextSibling,a=y(n=n.parentNode,T,_,t),t!=S&&a.appendChild(r),r=a}}function y(e,t,r,i){var o,a,s,l,u;if(t)return x(e,i);if(3==e.nodeType){if(o=e.nodeValue,r?(a=o.substring(l=C[N]),s=o.substring(0,l)):(a=o.substring(0,l=C[A]),s=o.substring(l)),i!=k&&(e.nodeValue=s),i==S)return;return(u=n.clone(e,T)).nodeValue=a,u}return i!=S?n.clone(e,T):void 0}function x(e,t){return t!=S?t==k?n.clone(e,_):e:void e.parentNode.removeChild(e)}var C=this,w=n.doc,k=1,S=2,_=!0,T=!1,N="startOffset",R="startContainer",E="endContainer",A="endOffset",M=e.extend,P=n.nodeIndex;return M(C,{startContainer:w,startOffset:0,endContainer:w,endOffset:0,collapsed:_,commonAncestorContainer:w,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:o,setStartBefore:a,setStartAfter:function(e){i(e.parentNode,P(e)+1)},setEndBefore:function(e){o(e.parentNode,P(e))},setEndAfter:s,collapse:function(e){e?(C[E]=C[R],C[A]=C[N]):(C[R]=C[E],C[N]=C[A]),C.collapsed=_},selectNode:function(e){a(e),s(e)},selectNodeContents:function(e){i(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)},compareBoundaryPoints:function(e,t){var n=C[R],r=C[N],i=C[E],o=C[A],a=t.startContainer,s=t.startOffset,l=t.endContainer,u=t.endOffset;return 0===e?c(n,r,a,s):1===e?c(i,o,a,s):2===e?c(i,o,l,u):3===e?c(n,r,l,u):void 0},deleteContents:function(){f(S)},extractContents:function(){return f(0)},cloneContents:l,insertNode:function(e){var t,r,i=this[R],o=this[N];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(i.childNodes.length>0&&(r=i.childNodes[o]),r?i.insertBefore(e,r):3==i.nodeType?n.insertAfter(e,i):i.appendChild(e)):o?o>=i.nodeValue.length?n.insertAfter(e,i):(t=i.splitText(o),i.parentNode.insertBefore(e,t)):i.parentNode.insertBefore(e,i)},surroundContents:function(e){var t=C.extractContents();C.insertNode(e),e.appendChild(t),C.selectNode(e)},cloneRange:function(){return M(new t(n),{startContainer:C[R],startOffset:C[N],endContainer:C[E],endOffset:C[A],collapsed:C.collapsed,commonAncestorContainer:C.commonAncestorContainer})},toStringIE:function(){return n.create("body",null,l()).outerText}}),C}return t.prototype.toString=function(){return this.toStringIE()},t}),n(v,[f],function(e){function t(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(a[i]=o="&"+e[n+1]+";",a[o]=i);return a}}var n,r,i,o=e.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,c={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},n=t("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var d={encodeRaw:function(e,t){return e.replace(t?a:s,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:s,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,i){return i=i||n,e.replace(t?a:s,function(e){return r[e]||i[e]||e})},getEncodeFunc:function(e,i){return i=t(i)||n,(e=o(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?a:s,function(e){return r[e]||i[e]||"&#"+e.charCodeAt(0)+";"||e})}:e.named?i?function(e,t){return d.encodeNamed(e,t,i)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(u,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):c[t]||String.fromCharCode(t):i[e]||n[e]||function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.textContent||t.innerText||e}(e)})}};return d}),n(b,[f,s],function(e,t){return function(n,r){function i(e){n.getElementsByTagName("head")[0].appendChild(e)}var o,a=0,s={};o=(r=r||{}).maxLoadTime||5e3,this.load=function(r,l,u){function c(){for(var e=v.passed,t=e.length;t--;)e[t]();v.status=2,v.passed=[],v.failed=[]}function d(){for(var e=v.failed,t=e.length;t--;)e[t]();v.status=3,v.passed=[],v.failed=[]}function f(e,n){e()||((new Date).getTime()-m<o?t.setTimeout(n):d())}function h(){f(function(){for(var e,t,r=n.styleSheets,i=r.length;i--;)if((t=(e=r[i]).ownerNode?e.ownerNode:e.owningElement)&&t.id===p.id)return c(),!0},h)}var p,g,m,v;if(r=e._addCacheSuffix(r),s[r]?v=s[r]:s[r]=v={passed:[],failed:[]},l&&v.passed.push(l),u&&v.failed.push(u),1!=v.status){if(2==v.status)return void c();if(3==v.status)return void d();if(v.status=1,(p=n.createElement("link")).rel="stylesheet",p.type="text/css",p.id="u"+a++,p.async=!1,p.defer=!1,m=(new Date).getTime(),"onload"in p&&!function(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}())p.onload=h,p.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return(g=n.createElement("style")).textContent='@import "'+r+'"',function e(){f(function(){try{var e=g.sheet.cssRules;return c(),!!e}catch(t){}},e)}(),void i(g);h()}i(p),p.href=r}}}}),n(y,[c,h,p,u,g,m,v,l,f,b],function(e,n,r,i,o,a,s,l,u,c){function d(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function f(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(i++,n=r);return i}function h(e,t){var o,a=this;a.doc=e,a.win=window,a.files={},a.counter=0,a.stdMode=!b||e.documentMode>=8,a.boxModel=!b||"CSS1Compat"==e.compatMode||a.stdMode,a.styleSheetLoader=new c(e),a.boundEvents=[],a.settings=t=t||{},a.schema=t.schema,a.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),a.fixDoc(e),a.events=t.ownEvents?new i(t.proxy):i.Event,a.attrHooks=function(e,t){var n,r={},i=t.keep_values;return n={set:function(n,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,i,n[0])),n.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},r={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(i&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},i&&(r.href=r.src=n),r}(a,t),o=t.schema?t.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:e,element:a.getRoot()}}),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}var p=u.each,g=u.is,m=u.grep,v=u.trim,b=l.ie,y=/^([a-z0-9],?)+$/i,x=/^[ \t\r\n]*$/;return h.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(b&&n.schema)for(t in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)}),n.schema.getCustomElements())e.createElement(t)},clone:function(e,t){var n,r=this;return!b||1!==e.nodeType||t?e.cloneNode(t):t?n.firstChild:(n=r.doc.createElement(e.nodeName),p(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,r=this;return e=r.get(e),t=r.getPos(e),n=r.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,r=this;return e=r.get(e),t=r.getStyle(e,"width"),n=r.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var o,a=this,s=[];for(e=a.get(e),i=i===t,r=r||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),g(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])},is:function(n,r){var i;if(n.length===t){if("*"===r)return 1==n.nodeType;if(y.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(r,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,r,i){var o=this;return this.run(e,function(e){var a;return a=g(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,i="";for(r in i+="<"+e,t)t.hasOwnProperty(r)&&null!=t[r]&&(i+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?i+">"+n+"</"+e+">":i+" />"},createFragment:function(e){var t,n,r,i=this.doc;for(r=i.createElement("div"),t=i.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&d(this,e)},getStyle:function(e,n,r){return e=this.$$(e),r?e.css(n):("float"==(n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&d(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,i,o=this,a=o.settings;""===n&&(n=null),r=(e=o.$$(e)).attr(t),e.length&&((i=o.attrHooks[t])&&i.set?i.set(e,n,t):e.attr(t,n),r!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){p(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r,i;return(e=this.$$(e)).length&&(i=(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===i&&(i=n||""),i},getPos:function(e,t){var r,i,o=this,a=0,s=0,l=o.doc,u=l.body;if(t=t||u,e=o.get(e)){if(t===u&&e.getBoundingClientRect&&"static"===n(u).css("position"))return{x:a=(i=e.getBoundingClientRect()).left+(l.documentElement.scrollLeft||u.scrollLeft)-(t=o.boxModel?l.documentElement:u).clientLeft,y:s=i.top+(l.documentElement.scrollTop||u.scrollTop)-t.clientTop};for(r=e;r&&r!=t&&r.nodeType;)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!=t&&r.nodeType;)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this.doc;if(this!==h.DOM&&r===document){var i=h.DOM.addedStyles;if((i=i||[])[e])return;i[e]=!0,h.DOM.addedStyles=i}(n=r.getElementById("mceDefaultStyles"))||((n=r.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=r.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,r=n.doc;return n!==h.DOM&&r===document?void h.DOM.loadCSS(e):(e||(e=""),t=r.getElementsByTagName("head")[0],void p(e.split(","),function(e){var i;e=u._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,i=n.create("link",{rel:"stylesheet",href:e}),b&&r.documentMode&&r.recalc&&(i.onload=function(){r.recalc&&r.recalc(),i.onload=null}),t.appendChild(i))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),b?e.each(function(e,r){if(!1!==r.canHaveHTML){for(;r.firstChild;)r.removeChild(r.firstChild);try{r.innerHTML="<br>"+t,r.removeChild(r.firstChild)}catch(i){n("<div></div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t}}):e.html(t)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:n("<div></div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var r=this;r.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}r.remove(n(this).html(t),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,(r=t.nextSibling)?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){return this.run(t,function(t){return g(t,"array")&&(e=e.cloneNode(!0)),n&&p(m(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,r=this;return e.nodeName!=t.toUpperCase()&&(n=r.create(t),p(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(u.trim(e))},run:function(e,t,n){var r,i=this;return"string"==typeof e&&(e=i.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(r=[],p(e,function(e,o){e&&("string"==typeof e&&(e=i.get(e)),r.push(t.call(n,e,o)))}),r))},getAttribs:function(e){var t;return(e=this.get(e))?b?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(e,t){var n,r,i,a,s,l,u=this,c=0;if(e=e.firstChild){s=new o(e,e.parentNode),t=t||(u.schema?u.schema.getNonEmptyElements():null),a=u.schema?u.schema.getWhiteSpaceElements():{};do{if(1===(i=e.nodeType)){var d=e.getAttribute("data-mce-bogus");if(d){e=s.next("all"===d);continue}if(l=e.nodeName.toLowerCase(),t&&t[l]){if("br"===l){c++,e=s.next();continue}return!1}for(n=(r=u.getAttribs(e)).length;n--;)if("name"===(l=r[n].nodeName)||"data-mce-bookmark"===l)return!1}if(8==i)return!1;if(3===i&&!x.test(e.nodeValue))return!1;if(3===i&&e.parentNode&&a[e.parentNode.nodeName]&&x.test(e.nodeValue))return!1;e=s.next()}while(e)}return c<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:f,split:function(e,t,n){function r(e){var t,n=e.childNodes,i=e.nodeType;if(1!=i||"bookmark"!=e.getAttribute("data-mce-type")){for(t=n.length-1;t>=0;t--)r(n[t]);if(9!=i){if(3==i&&e.nodeValue.length>0){var o=v(e.nodeValue).length;if(!s.isBlock(e.parentNode)||o>0||0===o&&function(e){return e.previousSibling&&"SPAN"==e.previousSibling.nodeName&&e.nextSibling&&"SPAN"==e.nextSibling.nodeName}(e))return}else if(1==i&&(1==(n=e.childNodes).length&&n[0]&&1==n[0].nodeType&&"bookmark"==n[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(n[0],e),n.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var i,o,a,s=this,l=s.createRng();if(e&&t)return l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),i=l.extractContents(),(l=s.createRng()).setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),(a=e.parentNode).insertBefore(r(i),e),a.insertBefore(n||t,e),a.insertBefore(r(o),e),s.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(u.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r,i=this;if(u.isArray(e)){for(r=e.length;r--;)e[r]=i.unbind(e[r],t,n);return e}if(i.boundEvents&&(e===i.doc||e===i.win))for(r=i.boundEvents.length;r--;){var o=i.boundEvents[r];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},h.DOM=new h(document),h.nodeIndex=f,h}),n(x,[y,f],function(e,t){function n(){function e(e,n,i){function o(){u.remove(l),s&&(s.onreadystatechange=s.onload=s=null),n()}var s,l,u=r;l=u.uniqueId(),(s=document.createElement("script")).id=l,s.type="text/javascript",s.src=t._addCacheSuffix(e),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&o()}:s.onload=o,s.onerror=function(){a(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}var n,s={},l=[],u={},c=[],d=0;this.isDone=function(e){return 2==s[e]},this.markDone=function(e){s[e]=2},this.add=this.load=function(e,t,r,i){s[e]==n&&(l.push(e),s[e]=0),t&&(u[e]||(u[e]=[]),u[e].push({success:t,failure:i,scope:r||this}))},this.remove=function(e){delete s[e],delete u[e]},this.loadQueue=function(e,t,n){this.loadScripts(l,e,t,n)},this.loadScripts=function(t,r,l,f){function h(e,t){i(u[t],function(t){a(t[e])&&t[e].call(t.scope)}),u[t]=n}var p,g=[];c.push({success:r,failure:f,scope:l||this}),(p=function(){var n=o(t);t.length=0,i(n,function(t){return 2===s[t]?void h("success",t):3===s[t]?void h("failure",t):void(1!==s[t]&&(s[t]=1,d++,e(t,function(){s[t]=2,d--,h("success",t),p()},function(){s[t]=3,d--,g.push(t),h("failure",t),p()})))}),d||(i(c,function(e){0===g.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,g)}),c.length=0)})()}}var r=e.DOM,i=t.each,o=t.grep,a=function(e){return"function"==typeof e};return n.ScriptLoader=new n,n}),n(C,[x,f],function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&!1!==r.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1==n.indexOf(","+i+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(n,o,a,s,l){function u(){var r=c.dependencies(n);i(r,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&a.call(s||e)}var c=this,d=o;c.urls[n]||("object"==typeof o&&(d=o.prefix+o.resource+o.suffix),0!==d.indexOf("/")&&-1==d.indexOf("://")&&(d=r.baseURL+"/"+d),c.urls[n]=d.substring(0,d.lastIndexOf("/")),c.lookup[n]?u():e.ScriptLoader.add(d,u,s,l))}},r.PluginManager=new r,r.ThemeManager=new r,r}),n(w,[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}}function n(e){return function(t){if(r(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var r=e(1);return{isText:e(3),isElement:r,isComment:e(8),isBr:t("br"),isContentEditableTrue:n("true"),isContentEditableFalse:n("false"),matchNodeNames:t,hasPropValue:function(e,t){return function(n){return r(n)&&n[e]===t}},hasAttributeValue:function(e,t){return function(n){return r(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){return t=t.toLowerCase().split(" "),function(n){var i;if(r(n))for(i=0;i<t.length;i++)if(getComputedStyle(n,null).getPropertyValue(e)===t[i])return!0;return!1}},isBogus:function(e){return r(e)&&e.hasAttribute("data-mce-bogus")}}}),n(k,[],function(){var e="\ufeff";return{isZwsp:function(t){return t==e},ZWSP:e,trim:function(t){return t.replace(new RegExp(e,"g"),"")}}}),n(S,[w,k],function(e,t){function n(e){return d(e)&&(e=e.parentNode),c(e)&&e.hasAttribute("data-mce-caret")}function r(e){return d(e)&&t.isZwsp(e.data)}function i(e){return n(e)||r(e)}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function a(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)}function s(e){return d(e)&&e.data[0]==t.ZWSP}function l(e){return d(e)&&e.data[e.data.length-1]==t.ZWSP}function u(t){var n=t.getElementsByTagName("br"),r=n[n.length-1];e.isBogus(r)&&r.parentNode.removeChild(r)}var c=e.isElement,d=e.isText;return{isCaretContainer:i,isCaretContainerBlock:n,isCaretContainerInline:r,showCaretContainerBlock:function(e){return e&&e.hasAttribute("data-mce-caret")?(u(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},insertInline:function(e,n){var r,o,a;if(o=e.ownerDocument.createTextNode(t.ZWSP),a=e.parentNode,n){if(d(r=e.previousSibling)){if(i(r))return r;if(l(r))return r.splitText(r.data.length-1)}a.insertBefore(o,e)}else{if(d(r=e.nextSibling)){if(i(r))return r;if(s(r))return r.splitText(1),r}e.nextSibling?a.insertBefore(o,e.nextSibling):a.appendChild(o)}return o},insertBlock:function(e,t,n){var r,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}()),i=t.parentNode,n?i.insertBefore(r,t):t.nextSibling?i.insertBefore(r,t.nextSibling):i.appendChild(r),r},hasContent:a,remove:function(e){c(e)&&i(e)&&(a(e)?e.removeAttribute("data-mce-caret"):o(e)),d(e)&&function(e,t){0===t.length?o(e):e.nodeValue=t}(e,t.trim(function(e){try{return e.nodeValue}catch(t){return""}}(e)))},startsWithCaretContainer:s,endsWithCaretContainer:l}}),n(_,[f,g,w,m,S],function(e,t,n,r,i){function o(e){return f(e)||h(e)}function a(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function s(e){return"_mce_caret"===e.id}function l(e,t){return p(e)&&!1===function(e,t,n){return null!==a(e,t,s)}(e,t)}function u(e){this.walk=function(t,n){function r(e){var t;return 3===(t=e[0]).nodeType&&t===g&&m>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===b&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function i(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function o(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function a(e,t,o){var a=o?"nextSibling":"previousSibling";for(f=(c=e).parentNode;c&&c!=t;c=f)f=c.parentNode,(h=i(c==e?c:c[a],a)).length&&(o||h.reverse(),n(r(h)))}var s,l,u,c,f,h,p,g=t.startContainer,m=t.startOffset,v=t.endContainer,b=t.endOffset;if((p=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)d(p,function(e){n([e])});else{if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[m]),1==v.nodeType&&v.hasChildNodes()&&(v=function(e,t){var n=v.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||v}(0,b)),g==v)return n(r([g]));for(s=e.findCommonAncestor(g,v),c=g;c;c=c.parentNode){if(c===v)return a(g,s,!0);if(c===s)break}for(c=v;c;c=c.parentNode){if(c===g)return a(v,s);if(c===s)break}l=o(g,s)||g,u=o(v,s)||v,a(g,l,!0),(h=i(l==g?l:l.nextSibling,"nextSibling",u==v?u.nextSibling:u)).length&&n(r(h)),a(v,u)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?r>0&&r<n.nodeValue.length&&(n=(i=t(n,r)).previousSibling,o>r?(n=i=t(i,o-=r).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&r>0&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&o>0&&o<i.nodeValue.length&&(o=(i=t(i,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(n){function r(r){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,r){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||y);n=i[r?"prev":"next"]();)if("BR"===n.nodeName)return!0}function u(n,r){var a,s,u;if(u=e.getParent((r=r||c).parentNode,e.isBlock)||y,n&&"BR"==r.nodeName&&b&&e.isEmpty(u))return c=r.parentNode,d=e.nodeIndex(r),void(i=!0);for(a=new t(r,u);g=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(g)||l(g,e.getRoot()))return;if(3===g.nodeType&&g.nodeValue.length>0)return c=g,d=n?g.nodeValue.length:0,void(i=!0);if(e.isBlock(g)||m[g.nodeName.toLowerCase()])return;s=g}o&&s&&(c=s,i=!0,d=0)}var c,d,f,g,m,v,b,y=e.getRoot();if(d=n[(r?"start":"end")+"Offset"],b=1==(c=n[(r?"start":"end")+"Container"]).nodeType&&d===c.childNodes.length,m=e.schema.getNonEmptyElements(),v=r,!p(c)){if(1==c.nodeType&&d>c.childNodes.length-1&&(v=!1),9===c.nodeType&&(c=e.getRoot(),d=0),c===y){if(v&&(g=c.childNodes[d>0?d-1:0])){if(p(g))return;if(m[g.nodeName]||"TABLE"==g.nodeName)return}if(c.hasChildNodes()){if(d=Math.min(!v&&d>0?d-1:d,c.childNodes.length-1),c=c.childNodes[d],d=0,!o&&c===y.lastChild&&"TABLE"===c.nodeName)return;if(function(e){for(;e&&e!=y;){if(h(e))return!0;e=e.parentNode}return!1}(c)||p(c))return;if(c.hasChildNodes()&&!/TABLE/.test(c.nodeName)){g=c,f=new t(c,y);do{if(h(g)||p(g)){i=!1;break}if(3===g.nodeType&&g.nodeValue.length>0){d=v?0:g.nodeValue.length,c=g,i=!0;break}if(m[g.nodeName.toLowerCase()]&&!a(g)){d=e.nodeIndex(g),c=g.parentNode,"IMG"!=g.nodeName||v||d++,i=!0;break}}while(g=v?f.next():f.prev())}}}o&&(3===c.nodeType&&0===d&&u(!0),1===c.nodeType&&((g=c.childNodes[d])||(g=c.childNodes[d-1]),!g||"BR"!==g.nodeName||g.previousSibling&&"A"==g.previousSibling.nodeName||s(g)||s(g,!0)||u(!0,g))),v&&!o&&3===c.nodeType&&d===c.nodeValue.length&&u(!1),i&&n["set"+(r?"Start":"End")](c,d)}}var i,o;return o=n.collapsed,r(!0),o||r(),i&&o&&n.collapse(!0),i}}function c(t,n,r){var i,o,s;if(i=r.elementFromPoint(t,n),o=r.body.createTextRange(),i&&"HTML"!=i.tagName||(i=r.body),o.moveToElementText(i),(s=(s=e.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-Math.abs(Math.max(t.top-n,t.bottom-n))})).length>0){n=(s[0].bottom+s[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(a){}}return null}var d=e.each,f=n.isContentEditableTrue,h=n.isContentEditableFalse,p=i.isCaretContainer;return u.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},u.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),(r=n.createRange()).setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=c(e,t,n)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return h(a(n,t,o))?null:e}(r,n.body)}return r},u.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},u.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},u}),n(T,[_,l,s],function(e,t,n){return function(r){var i,o=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,o;o={startContainer:(n=r.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(o,i)||r.fire("SelectionChange"),i=o}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var e=r.selection.getStart(!0);!t.range&&r.selection.isCollapsed()||!function(e){var t,n;if((n=r.$(e).parentsUntil(r.getBody()).add(e)).length===o.length){for(t=n.length;t>=0&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?n.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t,n,i,o=r.selection;r.initialized&&o&&!r.settings.disable_nodechange&&!r.readonly&&(i=r.getBody(),(t=o.getStart()||i).ownerDocument==r.getDoc()&&r.dom.isChildOf(t,i)||(t=i),"IMG"==t.nodeName&&o.isCollapsed()&&(t=t.parentNode),n=[],r.dom.getParent(t,function(e){return e===i||void n.push(e)}),(e=e||{}).element=t,e.parents=n,r.fire("NodeChange",e))}}}),n(N,[],function(){function e(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,r,i=this;if("string"!=typeof e){for(r in e)i.attr(r,e[r]);return i}if(n=i.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),i;return i}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,i}return n.map[e]}},clone:function(){var e,n,r,i,o,a=this,s=new t(a.name,a.type);if(r=a.attributes){for((o=[]).map={},e=0,n=r.length;e<n;e++)"id"!==(i=r[e]).name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n,r=[];for(n=this.firstChild;n;n=e(n,this))n.name===t&&r.push(n);return r},empty:function(){var t,n,r,i=this;if(i.firstChild){for(t=[],r=i.firstChild;r;r=e(r,i))t.push(r);for(n=t.length;n--;)(r=t[n]).parent=r.firstChild=r.lastChild=r.next=r.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(t,r){var i,o,a=this.firstChild;if(r=r||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if("name"===(o=a.attributes[i].name)||0===o.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1;if(3===a.type&&a.parent&&r[a.parent.name]&&n.test(a.value))return!1}while(a=e(a,this));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,o;if(i=new t(e,r[e]||1),n)for(o in n)i.attr(o,n[o]);return i},t}),n(R,[f],function(e){function t(t,n){return(t=e.trim(t))?t.split(n||" "):[]}function n(e){function n(e,n,r){function i(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i}var s,l,u;for(n=n||"","string"==typeof(r=r||[])&&(r=t(r)),s=(e=t(e)).length;s--;)u={attributes:i(l=t([a,n].join(" "))),attributesOrder:l,children:i(r,o)},h[e[s]]=u}function r(e,n){var r,i,o,a;for(r=(e=t(e)).length,n=t(n);r--;)for(i=h[e[r]],o=0,a=n.length;o<a;o++)i.attributes[n[o]]={},i.attributesOrder.push(n[o])}var a,l,u,c,d,f,h={};return i[e]?i[e]:(a="id accesskey class dir lang style tabindex title",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",u="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure header footer hgroup section nav",u+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(a+=" xml:lang",u=[u,f="acronym applet basefont big font strike tt"].join(" "),s(t(f),function(e){n(e,"",u)}),l=[l,d="center dir isindex noframes"].join(" "),c=[l,u].join(" "),s(t(d),function(e){n(e,"",c)})),c=c||[l,u].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",c),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),n("param","name value"),n("map","name",[c,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",[c,"legend"].join(" ")),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?c:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[c,"li"].join(" ")),n("noscript","",c),"html4"!=e&&(n("wbr"),n("ruby","",[u,"rt rp"].join(" ")),n("figcaption","",c),n("mark rt rp summary bdi","",u),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[u,"option"].join(" ")),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[c,"figcaption"].join(" ")),n("time","datetime",u),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",[c,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid code codebase codetype archive standby align border hspace vspace"),r("embed","align name hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),function(e){h[e]&&delete h[e].children[e]}),delete h.caption.children.table,delete h.script,i[e]=h,h)}function r(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,function(e,r){n[r]=n[r.toUpperCase()]="map"==t?a(e,/[, ]/):u(e,/[, ]/)})),n}var i={},o={},a=e.makeMap,s=e.each,l=e.extend,u=e.explode,c=e.inArray;return function(e){function o(t,n,r){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=i[t])||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,r),i[t]=o),o}function d(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function f(e){var n,r,i,o,s,l,u,f,h,p,g,m,v,b,y,x,C,w,k,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=t(e,","),M["@"]&&(x=M["@"].attributes,C=M["@"].attributesOrder),n=0,r=e.length;n<r;n++)if(s=S.exec(e[n])){if(h=s[2],y=s[3],f=s[5],l={attributes:m={},attributesOrder:v=[]},"#"===(b=s[1])&&(l.paddEmpty=!0),"-"===b&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),x){for(w in x)m[w]=x[w];v.push.apply(v,C)}if(f)for(i=0,o=(f=t(f,"|")).length;i<o;i++)if(s=_.exec(f[i])){if(u={},g=s[1],p=s[2].replace(/::/g,":"),b=s[3],k=s[4],"!"===g&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),u.required=!0),"-"===g){delete m[p],v.splice(c(v,p),1);continue}b&&("="===b&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:k}),u.defaultValue=k),":"===b&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:k}),u.forcedValue=k),"<"===b&&(u.validValues=a(k,"?"))),T.test(p)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(p),l.attributePatterns.push(u)):(m[p]||v.push(p),m[p]=u)}x||"@"!=h||(x=m,C=v),y&&(l.outputName=h,M[y]=l),T.test(h)?(l.pattern=d(h),D.push(l)):M[h]=l}}function h(e){M={},D=[],f(e),s(y,function(e,t){P[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,s(t(e,","),function(e){var t=n.exec(e),r="~"===t[1],i=r?"span":"div",o=t[2];if(P[o]=P[i],B[o]=i,r||(_[o.toUpperCase()]={},_[o]={}),!M[o]){var a=M[i];delete(a=l({},a)).removeEmptyAttrs,delete a.removeEmpty,M[o]=a}s(P,function(e,t){e[i]&&(P[t]=e=l({},P[t]),e[o]=e[i])})}))}function g(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[e.schema]=null,n&&s(t(n,","),function(e){var n,i,o=r.exec(e);o&&(n=(i=o[1])?P[o[2]]:P[o[2]]={"#comment":{}},n=P[o[2]],s(t(o[3],"|"),function(e){"-"===i?delete n[e]:n[e]={}}))})}function m(e){var t,n=M[e];if(n)return n;for(t=D.length;t--;)if((n=D[t]).pattern.test(e))return n}var v,b,y,x,C,w,k,S,_,T,N,R,E,A=this,M={},P={},D=[],B={},I={};y=n((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),v=r(e.valid_styles),b=r(e.invalid_styles,"map"),S=r(e.valid_classes,"map"),x=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),w=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),T=o("non_empty_elements","td th iframe video audio object script pre code",w),N=o("move_caret_before_on_enter_elements","table",T),R=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),_=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",R),E=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),function(e){I[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?h(e.valid_elements):(s(y,function(e,t){M[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},P[t]=e.children}),"html5"!=e.schema&&s(t("strong/b em/i"),function(e){e=t(e,"/"),M[e[1]].outputName=e[0]}),s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){M[e]&&(M[e].removeEmpty=!0)}),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){M[e].paddEmpty=!0}),s(t("span"),function(e){M[e].removeEmptyAttrs=!0})),p(e.custom_elements),g(e.valid_children),f(e.extended_valid_elements),g("+ol[ul|ol],+ul[ul|ol]"),s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){M[n]&&(M[n].parentsRequired=t(e))}),e.invalid_elements&&s(u(e.invalid_elements),function(e){M[e]&&delete M[e]}),m("span")||f("span[!data-mce-type|*]"),A.children=P,A.getValidStyles=function(){return v},A.getInvalidStyles=function(){return b},A.getValidClasses=function(){return S},A.getBoolAttrs=function(){return k},A.getBlockElements=function(){return _},A.getTextBlockElements=function(){return R},A.getTextInlineElements=function(){return E},A.getShortEndedElements=function(){return w},A.getSelfClosingElements=function(){return C},A.getNonEmptyElements=function(){return T},A.getMoveCaretBeforeOnEnterElements=function(){return N},A.getWhiteSpaceElements=function(){return x},A.getSpecialElements=function(){return I},A.isValidChild=function(e,t){var n=P[e];return!(!n||!n[t])},A.isValid=function(e,t){var n,r,i=m(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},A.getElementRule=m,A.getCustomElements=function(){return B},A.addValidElements=f,A.setValidElements=h,A.addCustomElements=p,A.addValidChildren=g,A.elements=M}}),n(E,[R,v,f],function(e,t,n){function r(e,t,n){var r,i,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;i=o.exec(t);){if(r=o.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return r}function i(i,a){function s(){}var l=this;i=i||{},l.schema=a=a||new e,!1!==i.fix_self_closing&&(i.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(e){e&&(l[e]=i[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=F.length;t--&&F[t].name!==e;);if(t>=0){for(n=F.length-1;n>=t;n--)(e=F[n]).valid&&L.end(e.name);F.length=t}}function s(e,t,n,r,o){var a,s;if(n=(t=t.toLowerCase())in b?t:z(n||r||o||""),x&&!g&&0!==t.indexOf("data-")){if(!(a=_[t])&&T){for(s=T.length;s--&&!(a=T[s]).pattern.test(t););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(W[t]&&!i.allow_script_urls){var l=n.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(O){l=unescape(l)}if(V.test(l))return;if(!i.allow_html_data_urls&&U.test(l)&&!/^data:image\//i.test(l))return}d.map[t]=n,d.push({name:t,value:n})}var l,u,c,d,f,h,p,g,m,v,b,y,x,C,w,k,S,_,T,N,R,E,A,M,P,D,B,I,L=this,O=0,F=[],H=0,z=t.decode,W=n.makeMap("src,href,data,background,formaction,poster"),V=/((java|vb)script|mhtml):/i,U=/^data:/i;for(M=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),A=i.self_closing_elements||a.getSelfClosingElements(),b=a.getBoolAttrs(),x=i.validate,m=i.remove_internals,I=i.fix_self_closing,D=a.getSpecialElements();l=M.exec(e);){if(O<l.index&&L.text(z(e.substr(O,l.index-O))),u=l[6])":"===(u=u.toLowerCase()).charAt(0)&&(u=u.substr(1)),o(u);else if(u=l[7]){if(":"===(u=u.toLowerCase()).charAt(0)&&(u=u.substr(1)),y=u in v,I&&A[u]&&F.length>0&&F[F.length-1].name===u&&o(u),!x||(C=a.getElementRule(u))){if(w=!0,x&&(_=C.attributes,T=C.attributePatterns),(S=l[8])?((g=-1!==S.indexOf("data-mce-type"))&&m&&(w=!1),(d=[]).map={},S.replace(P,s)):(d=[]).map={},x&&!g){if(N=C.attributesRequired,R=C.attributesDefault,C.removeEmptyAttrs&&!d.length&&(w=!1),E=C.attributesForced)for(f=E.length;f--;)"{$uid}"===(B=(k=E[f]).value)&&(B="mce_"+H++),d.map[p=k.name]=B,d.push({name:p,value:B});if(R)for(f=R.length;f--;)(p=(k=R[f]).name)in d.map||("{$uid}"===(B=k.value)&&(B="mce_"+H++),d.map[p]=B,d.push({name:p,value:B}));if(N){for(f=N.length;f--&&!(N[f]in d.map););-1===f&&(w=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){O=r(a,e,M.lastIndex),M.lastIndex=O;continue}w=!1}}w&&L.start(u,d,y)}else w=!1;if(c=D[u]){c.lastIndex=O=l.index+l[0].length,(l=c.exec(e))?(w&&(h=e.substr(O,l.index-O)),O=l.index+l[0].length):(h=e.substr(O),O=e.length),w&&(h.length>0&&L.text(h,!0),L.end(u)),M.lastIndex=O;continue}y||(S&&S.indexOf("/")==S.length-1?w&&L.end(u):F.push({name:u,valid:w}))}else(u=l[1])?(">"===u.charAt(0)&&(u=" "+u),i.allow_conditional_comments||"[if"!==u.substr(0,3).toLowerCase()||(u=" "+u),L.comment(u)):(u=l[2])?L.cdata(u):(u=l[3])?L.doctype(u):(u=l[4])&&L.pi(u,l[5]);O=l.index+l[0].length}for(O<e.length&&L.text(z(e.substr(O))),f=F.length-1;f>=0;f--)(u=F[f]).valid&&L.end(u.name)}}var o=n.each;return i.findEndTag=r,i}),n(A,[N,R,E,f],function(e,t,n,r){var i=r.makeMap,o=r.each,a=r.explode,s=r.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e("br","1")).shortEnded=!0:n.empty().append(new e("#text","3")).value="\xa0"},u=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(c,d){function f(t){var n,r,o,a,s,l,c,f,p,g,m,v,b,y,x,C;for(v=i("tr,td,th,tbody,thead,tfoot,table"),g=d.getNonEmptyElements(),m=d.getWhiteSpaceElements(),b=d.getTextBlockElements(),y=d.getSpecialElements(),n=0;n<t.length;n++)if((r=t[n]).parent&&!r.fixed)if(b[r.name]&&"li"==r.parent.name){for(x=r.next;x&&b[x.name];)x.name="li",x.fixed=!0,r.parent.insert(x,r.parent),x=x.next;r.unwrap(r)}else{for(a=[r],o=r.parent;o&&!d.isValidChild(o.name,r.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=h.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(d.isValidChild(l.name,a[p].name)?(c=h.filterNode(a[p].clone()),l.append(c)):c=l,f=a[p].firstChild;f&&f!=a[p+1];)C=f.next,c.append(f),f=C;l=c}s.isEmpty(g,m)?o.insert(r,a[0],!0):(o.insert(s,a[0],!0),o.insert(r,s)),((o=a[0]).isEmpty(g,m)||u(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((x=r.prev)&&("ul"===x.name||"ul"===x.name)){x.append(r);continue}if((x=r.next)&&("ul"===x.name||"ul"===x.name)){x.insert(r,x.firstChild,!0);continue}r.wrap(h.filterNode(new e("ul",1)));continue}d.isValidChild(r.parent.name,"div")&&d.isValidChild("div",r.name)?r.wrap(h.filterNode(new e("div",1))):y[r.name]?r.empty().remove():r.unwrap()}}}var h=this,p={},g=[],m={},v={};(c=c||{}).validate=!("validate"in c)||c.validate,c.root_name=c.root_name||"body",h.schema=d=d||new t,h.filterNode=function(e){var t,n,r;n in p&&((r=m[n])?r.push(e):m[n]=[e]),t=g.length;for(;t--;)(n=g[t].name)in e.attributes.map&&((r=v[n])?r.push(e):v[n]=[e]);return e},h.addNodeFilter=function(e,t){o(a(e),function(e){var n=p[e];n||(p[e]=n=[]),n.push(t)})},h.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<g.length;n++)if(g[n].name===e)return void g[n].callbacks.push(t);g.push({name:e,callbacks:[t]})})},h.parse=function(t,r){function o(t,n){var r,i=new e(t,n);return t in p&&((r=m[t])?r.push(i):m[t]=[i]),i}function a(e){var t,n,r,i,o=d.getBlockElements();for(t=e.prev;t&&3===t.type;){if((r=t.value.replace(A,"")).length>0)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}var u,h,b,y,x,C,w,k,S,_,T,N,R,E,A,M,P,D,B,I,L,O=[];if(r=r||{},m={},v={},N=s(i("script,style,head,html,body,title,meta,param"),d.getBlockElements()),I=d.getNonEmptyElements(),B=d.children,T=c.validate,L="forced_root_block"in r?r.forced_root_block:c.forced_root_block,D=d.getWhiteSpaceElements(),R=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,u=new n({validate:T,allow_script_urls:c.allow_script_urls,allow_conditional_comments:c.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(d.getSelfClosingElements()),cdata:function(e){b.append(o("#cdata",4)).value=e},text:function(e,t){var n;E||(e=e.replace(M," "),b.lastChild&&N[b.lastChild.name]&&(e=e.replace(R,""))),0!==e.length&&((n=o("#text",3)).raw=!!t,b.append(n).value=e)},comment:function(e){b.append(o("#comment",8)).value=e},pi:function(e,t){b.append(o(e,7)).value=t,a(b)},doctype:function(e){b.append(o("#doctype",10)).value=e,a(b)},start:function(e,t,n){var r,i,s,l,u;if(s=T?d.getElementRule(e):{}){for((r=o(s.outputName||e,1)).attributes=t,r.shortEnded=n,b.append(r),(u=B[b.name])&&B[r.name]&&!u[r.name]&&O.push(r),i=g.length;i--;)(l=g[i].name)in t.map&&((S=v[l])?S.push(r):v[l]=[r]);N[e]&&a(r),n||(b=r),!E&&D[e]&&(E=!0)}},end:function(e){var t,n,r,i,o;if(n=T?d.getElementRule(e):{}){if(N[e]&&!E){if((t=b.firstChild)&&3===t.type)if((r=t.value.replace(R,"")).length>0)t.value=r,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)i=t.next,(0===(r=t.value).length||P.test(r))&&(t.remove(),t=i),t=i;if((t=b.lastChild)&&3===t.type)if((r=t.value.replace(A,"")).length>0)t.value=r,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)i=t.prev,(0===(r=t.value).length||P.test(r))&&(t.remove(),t=i),t=i}if(E&&D[e]&&(E=!1),(n.removeEmpty||n.paddEmpty)&&b.isEmpty(I,D))if(n.paddEmpty)l(c,b);else if(!b.attributes.map.name&&!b.attributes.map.id)return o=b.parent,N[b.name]?b.empty().remove():b.unwrap(),void(b=o);b=b.parent}}},d),h=b=new e(r.context||c.root_name,11),u.parse(t),T&&O.length&&(r.context?r.invalid=!0:f(O)),L&&("body"==h.name||r.isRootContent)&&function(){function e(e){e&&((r=e.firstChild)&&3==r.type&&(r.value=r.value.replace(R,"")),(r=e.lastChild)&&3==r.type&&(r.value=r.value.replace(A,"")))}var t,n,r=h.firstChild;if(d.isValidChild(h.name,L.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!N[r.name]&&!r.attr("data-mce-type")?n?n.append(r):((n=o(L,1)).attr(c.forced_root_block_attrs),h.insert(n,r),n.append(r)):(e(n),n=null),r=t;e(n)}}(),!r.invalid){for(_ in m){for(S=p[_],w=(y=m[_]).length;w--;)y[w].parent||y.splice(w,1);for(x=0,C=S.length;x<C;x++)S[x](y,_,r)}for(x=0,C=g.length;x<C;x++)if((S=g[x]).name in v){for(w=(y=v[S.name]).length;w--;)y[w].parent||y.splice(w,1);for(w=0,k=S.callbacks.length;w<k;w++)S.callbacks[w](y,S.name,r)}}return h},c.remove_trailing_brs&&h.addNodeFilter("br",function(t){var n,r,i,o,a,u,f,h,p=t.length,g=s({},d.getBlockElements()),m=d.getNonEmptyElements(),v=d.getNonEmptyElements();for(g.body=1,n=0;n<p;n++)if(i=(r=t[n]).parent,g[r.parent.name]&&r===i.lastChild){for(a=r.prev;a;){if("span"!==(u=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==u)break;if("br"===u){r=null;break}}a=a.prev}r&&(r.remove(),i.isEmpty(m,v)&&(f=d.getElementRule(i.name))&&(f.removeEmpty?i.remove():f.paddEmpty&&l(c,i)))}else{for(o=r;i&&i.firstChild===o&&i.lastChild===o&&(o=i,!g[i.name]);)i=i.parent;o===i&&!0!==c.padd_empty_with_br&&((h=new e("#text",3)).value="\xa0",r.replace(h))}}),c.allow_unsafe_link_target||h.addAttributeFilter("href",function(e){function t(e){var t=new RegExp("("+s.replace(" ","|")+")","g");return e&&(e=r.trim(e.replace(t,""))),e||null}function n(e,n){return n?function(e){return(e=t(e))?[e,s].join(" "):s}(e):t(e)}for(var i,o,a=e.length,s="noopener noreferrer";a--;)o=(i=e[a]).attr("rel"),"a"===i.name&&i.attr("rel",n(o,"_blank"==i.attr("target")))}),c.allow_html_in_named_anchor||h.addAttributeFilter("id,name",function(e){for(var t,n,r,i,o=e.length;o--;)if("a"===(i=e[o]).name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do{n=t.prev,r.insert(t,i),t=n}while(t)}}),c.fix_list_elements&&h.addNodeFilter("ul,ol",function(t){for(var n,r,i=t.length;i--;)if("ul"===(r=(n=t[i]).parent).name||"ol"===r.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var o=new e("li",1);o.attr("style","list-style-type: none"),n.wrap(o)}}),c.validate&&d.getValidClasses()&&h.addAttributeFilter("class",function(e){for(var t,n,r,i,o,a,s,l=e.length,u=d.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",r=0;r<n.length;r++)i=n[r],s=!1,(a=u["*"])&&a[i]&&(s=!0),a=u[t.name],!s&&a&&a[i]&&(s=!0),s&&(o&&(o+=" "),o+=i);o.length||(o=null),t.attr("class",o)}})}}),n(M,[v,f],function(e,t){var n=t.makeMap;return function(t){var r,i,o,a,s,l=[];return r=(t=t||{}).indent,i=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var u,c,d,f;if(r&&i[e]&&l.length>0&&(f=l[l.length-1]).length>0&&"\n"!==f&&l.push("\n"),l.push("<",e),t)for(u=0,c=t.length;u<c;u++)l.push(" ",(d=t[u]).name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&r&&o[e]&&l.length>0&&(f=l[l.length-1]).length>0&&"\n"!==f&&l.push("\n")},end:function(e){var t;l.push("</",e,">"),r&&o[e]&&l.length>0&&(t=l[l.length-1]).length>0&&"\n"!==t&&l.push("\n")},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),r&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),n(P,[M,R],function(e,t){return function(n,r){var i=this,o=new e(n);(n=n||{}).validate=!("validate"in n)||n.validate,i.schema=r=r||new t,i.writer=o,i.serialize=function(e){function t(e){var n,s,l,u,c,d,f,h,p,g=i[e.type];if(g)g(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1&&((d=[]).map={},p=r.getElementRule(e.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(u=p.attributesOrder[f])in l.map&&(d.map[u]=c=l.map[u],d.push({name:u,value:c}));for(f=0,h=l.length;f<h;f++)(u=l[f].name)in d.map||(d.map[u]=c=l.map[u],d.push({name:u,value:c}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do{t(e)}while(e=e.next);o.end(n)}}}var i,a;return a=n.validate,i={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do{t(e)}while(e=e.next)}},o.reset(),1!=e.type||n.inner?i[11](e):t(e),o.getContent()}}}),n(D,[y,A,E,v,P,N,R,l,f,k],function(e,t,n,r,i,o,a,s,l,u){var c=l.each,d=l.trim,f=e.DOM;return function(e,o){function h(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+b.join("|")+')="[^"]+"'].join("|"),"gi");return u.trim(e.replace(t,""))}function p(e){var t,r,i,a,s,l=e,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=o.schema;for(l=h(l),s=c.getShortEndedElements();a=u.exec(l);)r=u.lastIndex,i=a[0].length,t=s[a[1]]?r:n.findEndTag(c,l,r),l=l.substring(0,r-i)+l.substring(t),u.lastIndex=r-i;return l}var g,m,v,b=["data-mce-selected"];return o&&(g=o.dom,m=o.schema),g=g||f,m=m||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,(v=new t(e,m)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),v.addAttributeFilter("src,href,style",function(t,n){for(var r,i,o=t.length,a="data-mce-"+n,s=e.url_converter,l=e.url_converter_scope;o--;)void 0!==(i=(r=t[o]).attributes.map[a])?(r.attr(n,i.length>0?i:null),r.attr(a,null)):(i=r.attributes.map[n],"style"===n?i=g.serializeStyle(g.parseStyle(i),r.name):s&&(i=s.call(l,i,n,r.name)),r.attr(n,i.length>0?i:null))}),v.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),v.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)"bookmark"!==(r=e[i]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),v.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=r.decode(t.value))}),v.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r,i,o,a=e.length;a--;)i=(r=e[a]).firstChild?r.firstChild.value:"","script"===t?((o=r.attr("type"))&&r.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),i.length>0&&(r.firstChild.value="// <![CDATA[\n"+n(i)+"\n// ]]>")):i.length>0&&(r.firstChild.value="\x3c!--\n"+n(i)+"\n--\x3e")}),v.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),v.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),v.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:m,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:function(t,n){var r,o,a,l,f,h;return s.ie&&g.select("script,style,select,map").length>0?(f=t.innerHTML,t=t.cloneNode(!1),g.setHTML(t,f)):t=t.cloneNode(!0),(r=document.implementation).createHTMLDocument&&(o=r.createHTMLDocument(""),c("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,a=g.doc,g.doc=o),(n=n||{}).format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,this.onPreProcess(n)),function(e){function t(e){return e&&"br"===e.name}var n,r;t(n=e.lastChild)&&t(r=n.prev)&&(n.remove(),r.remove())}(h=v.parse(d(n.getInner?t.innerHTML:g.getOuterHTML(t)),n)),l=new i(e,m),n.content=l.serialize(h),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||this.onPostProcess(n),a&&(g.doc=a),n.node=null,n.content},addRules:function(e){m.addValidElements(e)},setRules:function(e){m.setValidElements(e)},onPreProcess:function(e){o&&o.fire("PreProcess",e)},onPostProcess:function(e){o&&o.fire("PostProcess",e)},addTempAttr:function(e){-1===l.inArray(b,e)&&(v.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),b.push(e))},trimHtml:h,getTrimmedContent:function(){return p(o.getBody().innerHTML)},trimContent:p}}}),n(B,[],function(){return function(e){function t(t,n){var r,i,o,a,s,l,u,c,d=0,f=-1;if((r=t.duplicate()).collapse(n),(c=r.parentElement()).ownerDocument===e.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(i=(a=c.children).length-1;d<=i;)if(u=Math.floor((d+i)/2),r.moveToElementText(s=a[u]),(f=r.compareEndPoints(n?"StartToStart":"EndToEnd",t))>0)i=u-1;else{if(!(f<0))return{node:s};d=u+1}if(f<0)for(s?r.collapse(!1):(r.moveToElementText(c),r.collapse(!0),s=c,o=!0),l=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",1)&&c==r.parentElement();)l++;else for(r.collapse(!0),l=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",-1)&&c==r.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}var n=this,r=e.dom,i=!1;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(o=(i=t.children).length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)(i=e[n])<=(o=t.children).length-1&&(t=o[i]);return t}function n(n){var r,a,s,l=e[n?"start":"end"];l&&(r=l.position>0,(a=o.createTextRange()).moveToElementText(t(l.indexes)),void 0!==(s=l.offset)?(a.collapse(l.inside||r),a.moveStart("character",r?-s:s)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?((i=o.createControlRange()).addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,d,f;a=r.create("a"),t=e?s:u,n=e?l:c,d=o.duplicate(),t!=g&&t!=g.documentElement||(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),o.setEndPoint(e?"StartToStart":"EndToEnd",d)):((f=t.childNodes).length?(n>=f.length?r.insertAfter(a,f[f.length-1]):t.insertBefore(a,f[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",d.moveToElementText(a=t.firstChild),d.collapse(i)),o.setEndPoint(e?"StartToStart":"EndToEnd",d),r.remove(a))}var o,a,s,l,u,c,d,f,p,g=e.dom.doc,m=g.body;if(s=t.startContainer,l=t.startOffset,u=t.endContainer,c=t.endOffset,o=m.createTextRange(),s==u&&1==s.nodeType){if(l==c&&!s.hasChildNodes()){if(s.canHaveHTML)return(d=s.previousSibling)&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",o.moveToElementText(s.lastChild),o.select(),r.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=r.nodeIndex(s),s=s.parentNode}if(l==c-1)try{if(p=s.childNodes[l],(a=m.createControlRange()).addElement(p),a.select(),(f=e.getRng()).item&&p===f.item(0))return}catch(h){}}n(!0),n(),o.select()},this.getRangeAt=function(){function i(e){var n,r,i,o,a=t(d,e),s=0;if(n=a.node,r=a.offset,!a.inside||n.hasChildNodes())if(void 0!==r){if(a.position<0){if(!(i=a.inside?n.firstChild:n.nextSibling))return void f[e?"setStartAfter":"setEndAfter"](n);if(!r)return void(3==i.nodeType?f[e?"setStart":"setEnd"](i,0):f[e?"setStartBefore":"setEndBefore"](i));for(;i;){if(3==i.nodeType&&(s+=(o=i.nodeValue).length)>=r){n=i,s=o.length-(s-=r);break}i=i.nextSibling}}else{if(!(i=n.previousSibling))return f[e?"setStartBefore":"setEndBefore"](n);if(!r)return void(3==n.nodeType?f[e?"setStart":"setEnd"](i,n.nodeValue.length):f[e?"setStartAfter":"setEndAfter"](i));for(;i;){if(3==i.nodeType&&(s+=i.nodeValue.length)>=r){n=i,s-=r;break}i=i.previousSibling}}f[e?"setStart":"setEnd"](n,s)}else f[e?"setStartBefore":"setEndAfter"](n);else f[e?"setStart":"setEnd"](n,0)}var o,a,s,l,c,d=e.getRng(),f=r.createRng();if((o=d.item?d.item(0):d.parentElement()).ownerDocument!=r.doc)return f;if(a=e.isCollapsed(),d.item)return f.setStart(o.parentNode,r.nodeIndex(o)),f.setEnd(f.startContainer,f.startOffset+1),f;try{i(!0),a||i()}catch(u){if(-2147024809!=u.number)throw u;c=n.getBookmark(2),(s=d.duplicate()).collapse(!0),o=s.parentElement(),a||((s=d.duplicate()).collapse(!1),(l=s.parentElement()).innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,n.moveToBookmark(c),d=e.getRng(),i(!0),a||i()}return f}}}),n(I,[l],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),n(L,[I,f,s,l,w],function(e,t,n,r,i){function o(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=i.isContentEditableFalse,s=i.isContentEditableTrue;return function(i,s){function l(e){var t=s.settings.object_resizing;return!1!==t&&!r.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=s.getBody()&&s.dom.is(e,t))}function u(t){var n,r,i,o;O=(O=(n=t.screenX-E)*N[2]+D)<5?5:O,F=(F=(r=t.screenY-A)*N[3]+B)<5?5:F,("IMG"==k.nodeName&&!1!==s.settings.resize_img_proportional?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==k.nodeName&&N[2]*N[3]!=0)&&($(n)>$(r)?(F=Y(O*I),O=Y(F/I)):(O=Y(F/I),F=Y(O*I))),W.setStyles(S,{width:O,height:F}),W.setStyles(_,{left:i=(i=N.startPos.x+n)>0?i:0,top:o=(o=N.startPos.y+r)>0?o:0,display:"block"}),_.innerHTML=O+" &times; "+F,N[2]<0&&S.clientWidth<=O&&W.setStyle(S,"left",M+(D-O)),N[3]<0&&S.clientHeight<=F&&W.setStyle(S,"top",P+(B-F)),(n=X.scrollWidth-H)+(r=X.scrollHeight-z)!=0&&W.setStyles(_,{left:i-n,top:o-r}),L||(s.fire("ObjectResizeStart",{target:k,width:D,height:B}),L=!0)}function c(){function e(e,t){t&&(k.style[e]||!s.schema.isValid(k.nodeName.toLowerCase(),e)?W.setStyle(k,e,t):W.setAttrib(k,e,t))}L=!1,e("width",O),e("height",F),W.unbind(U,"mousemove",u),W.unbind(U,"mouseup",c),j!=U&&(W.unbind(j,"mousemove",u),W.unbind(j,"mouseup",c)),W.remove(S),W.remove(_),q&&"TABLE"!=k.nodeName||d(k),s.fire("ObjectResized",{target:k,width:O,height:F}),W.setAttrib(k,"style",W.getAttrib(k,"style")),s.nodeChanged()}function d(e,t,n){var i,o,a,d,h;f(),x(),i=W.getPos(e,X),M=i.x,P=i.y,h=e.getBoundingClientRect(),o=h.width||h.right-h.left,a=h.height||h.bottom-h.top,k!=e&&(y(),k=e,O=F=0),d=s.fire("ObjectSelected",{target:e}),l(e)&&!d.isDefaultPrevented()?V(T,function(e,i){function s(t){E=t.screenX,A=t.screenY,I=(B=k.clientHeight)/(D=k.clientWidth),N=e,e.startPos={x:o*e[0]+M,y:a*e[1]+P},H=X.scrollWidth,z=X.scrollHeight,S=k.cloneNode(!0),W.addClass(S,"mce-clonedresizable"),W.setAttrib(S,"data-mce-bogus","all"),S.contentEditable=!1,S.unSelectabe=!0,W.setStyles(S,{left:M,top:P,margin:0}),S.removeAttribute("data-mce-selected"),X.appendChild(S),W.bind(U,"mousemove",u),W.bind(U,"mouseup",c),j!=U&&(W.bind(j,"mousemove",u),W.bind(j,"mouseup",c)),_=W.add(X,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},D+" &times; "+B)}var l;return t?void(i==t&&s(n)):((l=W.get("mceResizeHandle"+i))&&W.remove(l),l=W.add(X,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),r.ie&&(l.contentEditable=!1),W.bind(l,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)}),e.elm=l,void W.setStyles(l,{left:o*e[0]+M-l.offsetWidth/2,top:a*e[1]+P-l.offsetHeight/2}))}):f(),k.setAttribute("data-mce-selected","1")}function f(){var e,t;for(e in x(),k&&k.removeAttribute("data-mce-selected"),T)(t=W.get("mceResizeHandle"+e))&&(W.unbind(t),W.remove(t))}function h(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,r;if(!L&&!s.removed)return V(W.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"==e.type?e.target:i.getNode(),t(r=W.$(r).closest(q?"table":"table,img,hr")[0],X)&&(C(),t(n=i.getStart(!0),r)&&t(i.getEnd(!0),r)&&(!q||r!=n&&"IMG"!==n.nodeName))?void d(r):void f()}function p(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function g(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function m(e){var t,n,r,i,o,a,l=e.srcElement;for(n in t=l.getBoundingClientRect(),o=R.clientX-t.left,a=R.clientY-t.top,T)if(i=l.offsetHeight*(r=T[n])[1],$(l.offsetWidth*r[0]-o)<8&&$(i-a)<8){N=r;break}L=!0,s.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight}),s.getDoc().selection.empty(),d(l,n,R)}function v(e){return a(o(s.getBody(),e))}function b(e){var t=e.srcElement;if(v(t))!function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(e);else if(t!=k){if(s.fire("ObjectSelected",{target:t}),y(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(f(),k=t,p(t,"resizestart",m))}}function y(){g(k,"resizestart",m)}function x(){for(var e in T){var t=T[e];t.elm&&(W.unbind(t.elm),delete t.elm)}}function C(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function w(e){var t;if(q){t=U.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}var k,S,_,T,N,R,E,A,M,P,D,B,I,L,O,F,H,z,W=s.dom,V=t.each,U=s.getDoc(),j=document,q=r.ie&&r.ie<11,$=Math.abs,Y=Math.round,X=s.getBody();T={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var K=".mce-content-body";return s.contentStyles.push(K+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+K+" .mce-resizehandle:hover {background: #000}"+K+" img[data-mce-selected],"+K+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+K+" .mce-clonedresizable {position: absolute;"+(r.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+K+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){q?(s.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(f(),w(e.target))}),p(X,"controlselect",b),s.on("mousedown",function(e){R=e})):(C(),r.ie>=11&&(s.on("mousedown click",function(e){var t=e.target,n=t.nodeName;L||!/^(TABLE|IMG|HR)$/.test(n)||v(t)||(s.selection.select(t,"TABLE"==n),"mousedown"==e.type&&s.nodeChanged())}),s.dom.bind(X,"mscontrolselect",function(e){function t(e){n.setEditorTimeout(s,function(){s.selection.select(e)})}return v(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))})));var e=n.throttle(function(e){s.composing||h(e)});s.on("nodechange ResizeEditor ResizeWindow drop",e),s.on("keyup compositionend",function(t){k&&"TABLE"==k.nodeName&&e(t)}),s.on("hide blur",f)}),s.on("remove",x),{isResizable:l,showResizeRect:d,hideResizeRect:f,updateResizeRect:h,controlSelect:w,destroy:function(){k=S=null,q&&(y(),g(X,"controlselect",b))}}}}),n(O,[],function(){var e=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:function t(n){var r=e.call(arguments);return r.length-1>=n.length?n.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return t.apply(this,e)}},compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}}}),n(F,[w,d,S],function(e,t,n){function r(e){return!f(e)&&(l(e)?!u(e.parentNode):c(e)||s(e)||d(e)||a(e))}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(a(e))return!1;if(o(e))return!0}return!0}var o=e.isContentEditableTrue,a=e.isContentEditableFalse,s=e.isBr,l=e.isText,u=e.matchNodeNames("script style textarea"),c=e.matchNodeNames("img input textarea hr iframe video audio object"),d=e.matchNodeNames("table"),f=n.isCaretContainer;return{isCaretCandidate:r,isInEditable:i,isAtomic:function(e){return c(e)||function(e){return!!a(e)&&!0!==t.reduce(e.getElementsByTagName("*"),function(e,t){return e||o(t)},!1)}(e)},isEditableCaretCandidate:function(e,t){return r(e)&&i(e,t)}}}),n(H,[],function(){function e(e){return e?{left:a(e.left),top:a(e.top),bottom:a(e.bottom),right:a(e.right),width:a(e.width),height:a(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function n(e,n){return e.bottom<n.top||!(e.top>n.bottom)&&t(n.top-e.bottom,e,n)}function r(e,n){return e.top>n.bottom||!(e.bottom<n.top)&&t(n.bottom-e.top,e,n)}function i(e,t){return e.left<t.left}function o(e,t){return e.right>t.right}var a=Math.round;return{clone:e,collapse:function(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:n,isBelow:r,isLeft:i,isRight:o,compare:function(e,t){return n(e,t)?-1:r(e,t)?1:i(e,t)?-1:o(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),n(z,[],function(){var e=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}}}),n(W,[O,w,y,_,F,H,z],function(e,t,n,r,i,o,a){function s(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\r\n\t ]/.test(e)}function u(e){var t,n=e.startContainer,r=e.startOffset;return!!(l(e.toString())&&m(n.parentNode)&&(t=n.data,l(t[r-1])||l(t[r+1])))}function c(t,n,r){function i(){return r||(r=function(e){function t(e){var t,n;return n=e.getClientRects(),t=o.clone(n.length>0?n[0]:e.getBoundingClientRect()),b(e)&&0===t.left?function(e){var t,n=e.ownerDocument,r=s(n),i=n.createTextNode("\xa0"),a=e.parentNode;return a.insertBefore(i,e),r.setStart(i,0),r.setEnd(i,1),t=o.clone(r.getBoundingClientRect()),a.removeChild(i),t}(e):t}function n(e,t){return(e=o.collapse(e,t)).width=1,e.right=e.left+1,e}function r(e){0!==e.height&&(f.length>0&&o.isEqual(e,f[f.length-1])||f.push(e))}function i(e,i){var o=s(e.ownerDocument);if(i<e.data.length){if(a.isExtendingChar(e.data[i]))return f;if(a.isExtendingChar(e.data[i-1])&&(o.setStart(e,i),o.setEnd(e,i+1),!u(o)))return r(n(t(o),!1)),f}i>0&&(o.setStart(e,i-1),o.setEnd(e,i),u(o)||r(n(t(o),!1))),i<e.data.length&&(o.setStart(e,i),o.setEnd(e,i+1),u(o)||r(n(t(o),!0)))}var l,c,f=[];if(v(e.container()))return i(e.container(),e.offset()),f;if(d(e.container()))if(e.isAtEnd())c=x(e.container(),e.offset()),v(c)&&i(c,c.data.length),g(c)&&!b(c)&&r(n(t(c),!1));else{if(c=x(e.container(),e.offset()),v(c)&&i(c,0),g(c)&&e.isAtEnd())return r(n(t(c),!1)),f;l=x(e.container(),e.offset()-1),g(l)&&!b(l)&&(h(l)||h(c)||!g(c))&&r(n(t(l),!1)),g(c)&&r(n(t(c),!0))}return f}(new c(t,n))),r}return{container:e.constant(t),offset:e.constant(n),toRange:function(){var e;return(e=s(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:i,isVisible:function(){return i().length>0},isAtStart:function(){return v(t),0===n},isAtEnd:function(){return v(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return x(t,e?n-1:n)}}}var d=t.isElement,f=i.isCaretCandidate,h=t.matchStyleValues("display","block table"),p=t.matchStyleValues("float","left right"),g=e.and(d,f,e.negate(p)),m=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),v=t.isText,b=t.isBr,y=n.nodeIndex,x=r.getNode;return c.fromRangeStart=function(e){return new c(e.startContainer,e.startOffset)},c.fromRangeEnd=function(e){return new c(e.endContainer,e.endOffset)},c.after=function(e){return new c(e.parentNode,y(e)+1)},c.before=function(e){return new c(e.parentNode,y(e))},c}),n(V,[w,y,O,d,W],function(e,t,n,r,i){function o(e){return e?r.reduce(e.childNodes,function(e,t){return d(t)&&"BR"!=t.nodeName?e=e.concat(o(t)):e.push(t),e},[]):[]}function a(e){return function(t){return e===t}}function s(t){var n,i,s;return n=o(function e(t){var n=t.parentNode;return d(n)?e(n):n}(t)),i=r.findIndex(n,a(t),t),n=n.slice(0,i+1),s=r.reduce(n,function(e,t,r){return c(t)&&c(n[r-1])&&e++,e},0),n=r.filter(n,e.matchNodeNames(t.nodeName)),(i=r.findIndex(n,a(t),t))-s}function l(e){return(c(e)?"text()":e.nodeName.toLowerCase())+"["+s(e)+"]"}function u(t,n,i){var a=o(t);return a=r.filter(a,function(e,t){return!c(e)||!c(a[t-1])}),(a=r.filter(a,e.matchNodeNames(n)))[i]}var c=e.isText,d=e.isBogus,f=t.nodeIndex;return{create:function(t,i){var o,a,s,u,d,f=[];return o=i.container(),a=i.offset(),c(o)?s=function(e,t){for(;(e=e.previousSibling)&&c(e);)t+=e.data.length;return t}(o,a):(a>=(u=o.childNodes).length?(s="after",a=u.length-1):s="before",o=u[a]),f.push(l(o)),d=function(e,t,n){var r=[];for(t=t.parentNode;t!=e;t=t.parentNode)r.push(t);return r}(t,o),d=r.filter(d,n.negate(e.isBogus)),(f=f.concat(r.map(d,function(e){return l(e)}))).reverse().join("/")+","+s},resolve:function(e,t){var n,o,a;return t?(n=t.split(","),t=n[0].split("/"),a=n.length>1?n[1]:"before",(o=r.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),u(e,t[1],parseInt(t[2],10))):null},e))?c(o)?function(e,t){for(var n,r=e,o=0;c(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!c(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}(o,parseInt(a,10)):(a="after"===a?f(o)+1:f(o),new i(o.parentNode,a)):null):null}}}),n(U,[l,f,S,V,W,w,_],function(e,t,n,r,i,o,a){function s(s){var u=s.dom;this.getBookmark=function(e,c){function d(e,n){var r=0;return t.each(u.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=n&&void r++}),r}function f(e){function t(t){var n,r,i,o=t?"start":"end";r=e[o+"Offset"],1==(n=e[o+"Container"]).nodeType&&"TR"==n.nodeName&&(n=(i=n.childNodes)[Math.min(t?r:r-1,i.length-1)])&&e["set"+(t?"Start":"End")](n,r=t?0:n.childNodes.length)}return t(!0),t(),e}var h,p,g,m,v,b,y,C="&#xFEFF;";if(2==e)return v=(b=s.getNode())?b.nodeName:null,h=s.getRng(),l(b)||"IMG"==v?{name:v,index:d(v,b)}:s.tridentSel?s.tridentSel.getBookmark(e):(b=function(e){function t(e,t){var r;if(o.isElement(e)&&(e=a.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),l(r=e.previousSibling))return r;if(l(r=e.nextSibling))return r}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}(h))?{name:v=b.tagName,index:d(v,b)}:function(e){function t(e,t){var r,i,o=e[t?"startContainer":"endContainer"],a=e[t?"startOffset":"endOffset"],s=[],l=0;if(3==o.nodeType){if(c)for(r=o.previousSibling;r&&3==r.nodeType;r=r.previousSibling)a+=r.nodeValue.length;s.push(a)}else a>=(i=o.childNodes).length&&i.length&&(l=1,a=Math.max(0,i.length-1)),s.push(u.nodeIndex(i[a],c)+l);for(;o&&o!=n;o=o.parentNode)s.push(u.nodeIndex(o,c));return s}var n=u.getRoot(),r={};return r.start=t(e,!0),s.isCollapsed()||(r.end=t(e)),r}(h);if(3==e)return h=s.getRng(),{start:r.create(u.getRoot(),i.fromRangeStart(h)),end:r.create(u.getRoot(),i.fromRangeEnd(h))};if(e)return{rng:s.getRng()};if(h=s.getRng(),g=u.uniqueId(),m=s.isCollapsed(),y="overflow:hidden;line-height:0px",h.duplicate||h.item){if(h.item)return{name:v=(b=h.item(0)).nodeName,index:d(v,b)};p=h.duplicate();try{h.collapse(),h.pasteHTML('<span data-mce-type="bookmark" id="'+g+'_start" style="'+y+'">'+C+"</span>"),m||(p.collapse(!1),h.moveToElementText(p.parentElement()),0===h.compareEndPoints("StartToEnd",p)&&p.move("character",-1),p.pasteHTML('<span data-mce-type="bookmark" id="'+g+'_end" style="'+y+'">'+C+"</span>"))}catch(x){return null}}else{if("IMG"==(v=(b=s.getNode()).nodeName))return{name:v,index:d(v,b)};p=f(h.cloneRange()),m||(p.collapse(!1),p.insertNode(u.create("span",{"data-mce-type":"bookmark",id:g+"_end",style:y},C))),(h=f(h)).collapse(!0),h.insertNode(u.create("span",{"data-mce-type":"bookmark",id:g+"_start",style:y},C))}return s.moveToBookmark({id:g,keep:1}),{id:g}},this.moveToBookmark=function(n){function i(e){var t,r,i,o,a=n[e?"start":"end"];if(a){for(i=a[0],r=c,t=a.length-1;t>=1;t--){if(a[t]>(o=r.childNodes).length-1)return;r=o[a[t]]}3===r.nodeType&&(i=Math.min(a[0],r.nodeValue.length)),1===r.nodeType&&(i=Math.min(a[0],r.childNodes.length)),e?l.setStart(r,i):l.setEnd(r,i)}return!0}function o(r){var i,o,a,s,l=u.get(n.id+"_"+r),c=n.keep;if(l&&(i=l.parentNode,"start"==r?(c?(i=l.firstChild,o=1):o=u.nodeIndex(l),d=f=i,h=p=o):(c?(i=l.firstChild,o=1):o=u.nodeIndex(l),f=i,p=o),!c)){for(s=l.previousSibling,a=l.nextSibling,t.each(t.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});l=u.get(n.id+"_"+r);)u.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.opera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),u.remove(a),"start"==r?(d=f=s,h=p=o):(f=s,p=o))}}function a(t){return!u.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}var l,c,d,f,h,p;if(n)if(t.isArray(n.start)){if(l=u.createRng(),c=u.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);i(!0)&&i()&&s.setRng(l)}else"string"==typeof n.start?s.setRng(function(){var e,t;return e=u.createRng(),t=r.resolve(u.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=r.resolve(u.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}()):n.id?(o("start"),o("end"),d&&((l=u.createRng()).setStart(a(d),h),l.setEnd(a(f),p),s.setRng(l))):n.name?s.select(u.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=o.isContentEditableFalse;return s.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},s}),n(j,[g,B,L,_,U,w,l,f,W],function(e,n,r,i,o,a,s,l,u){function c(e,t,i,a){var s=this;s.dom=e,s.win=t,s.serializer=i,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new r(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,f=l.trim,h=s.ie;return c.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n,r,i,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return n=r="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(i=a.cloneContents())&&s.appendChild(i):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(r=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+r,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,r,i,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(r=s.createDocumentFragment(),i=s.createElement("div"),r.appendChild(i),i.outerHTML=e,a.insertNode(r))),n=o.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,r,i,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((r=a.duplicate()).collapse(1),(t=r.parentElement()).ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=i=a.parentElement();i=i.parentNode;)if(i==t){t=n;break}return t}return 1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,r=this,i=r.getRng();return i.duplicate||i.item?i.item?i.item(0):((i=i.duplicate()).collapse(0),(t=i.parentElement()).ownerDocument!==r.dom.doc&&(t=r.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(n=i.endOffset,1==(t=i.endContainer).nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,r=this,i=r.dom,o=i.createRng();if(r.lastFocusBookmark=null,e){if(!t&&r.controlSelection.controlSelect(e))return;n=i.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(r._moveEndPoint(o,e,!0),r._moveEndPoint(o,e)),r.setRng(o)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this,r=n.getRng();r.item&&(t=r.item(0),(r=n.win.document.body.createTextRange()).moveToElementText(t)),r.collapse(!!e),n.setRng(r)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,r){try{return t.compareBoundaryPoints(e,r)}catch(n){return-1}}var n,r,i,o,a,s,l=this;if(!l.win)return null;if(null==(o=l.win.document))return null;if(!e&&l.lastFocusBookmark){var u=l.lastFocusBookmark;return u.startContainer?((r=o.createRange()).setStart(u.startContainer,u.startOffset),r.setEnd(u.endContainer,u.endOffset)):r=u,r}if(e&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(c){}if((s=l.editor.fire("GetSelectionRange",{range:r})).range!==r)return s.range;if(h&&r&&r.setStart&&o.selection){try{a=o.selection.createRange()}catch(c){}a&&a.item&&(i=a.item(0),(r=o.createRange()).setStartBefore(i),r.setEndAfter(i))}return r||(r=o.createRange?o.createRange():o.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(i=l.dom.getRoot(),r.setStart(i,0),r.setEnd(i,0)),l.selectedRange&&l.explicitRange&&(0===t(r.START_TO_START,r,l.selectedRange)&&0===t(r.END_TO_END,r,l.selectedRange)?r=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),r},setRng:function(e,t){var n,r,i=this;if(e)if(e.select){i.explicitRange=null;try{e.select()}catch(a){}}else if(i.tridentSel){if(e.cloneRange)try{i.tridentSel.addRange(e)}catch(a){}}else{if(n=i.getSel(),e=i.editor.fire("SetSelectionRange",{range:e}).range,n){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(a){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"==r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),i.editor.fire("AfterSetSelectionRange",{range:e})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,r,i,o,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,r=s.endContainer,i=s.startOffset,o=s.endOffset,s.setStart?(t=s.commonAncestorContainer,!s.collapsed&&(n==r&&o-i<2&&n.hasChildNodes()&&(t=n.childNodes[i]),3===n.nodeType&&3===r.nodeType&&(n=n.length===i?e(n.nextSibling,!0):n.parentNode,r=0===o?e(r.previousSibling,!1):r.parentNode,n&&n===r))?n:t&&3==t.nodeType?t.parentNode:t):((t=s.item?s.item(0):s.parentElement()).ownerDocument!==a.win.document&&(t=l),t)):l},getSelectedBlocks:function(t,n){var r,i,o=this,a=o.dom,s=[];if(i=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=i&&s.push(t),t&&n&&t!=n){r=t;for(var l=new e(t,i);(r=l.next())&&r!=n;)a.isBlock(r)&&s.push(r)}return n&&t!=n&&n!=i&&s.push(n),s},isForward:function(){var e,t,n=this.dom,r=this.getSel();return!(r&&r.anchorNode&&r.focusNode)||((e=n.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(r.focusNode,r.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new i(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,r=this;return r.selectorChangedData||(r.selectorChangedData={},n={},r.editor.on("NodeChange",function(e){var t=e.element,i=r.dom,o=i.getParents(t,null,i.getRoot()),a={};d(r.selectorChangedData,function(e,t){d(o,function(r){if(i.is(r,t))return n[t]||(d(e,function(e){e(!0,{node:r,selector:t,parents:o})}),n[t]=e),a[t]=e,!1})}),d(n,function(e,r){a[r]||(delete n[r],d(e,function(e){e(!1,{node:t,selector:r,parents:o})}))})})),r.selectorChangedData[e]||(r.selectorChangedData[e]=[]),r.selectorChangedData[e].push(t),r},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,o,s,l=this,u=l.dom,c=u.getRoot(),d=0;if(a.isElement(e)){if(!1===t&&(d=e.offsetHeight),"BODY"!=c.nodeName){var f=l.getScrollContainer();if(f)return r=n(e).y-n(f).y+d,s=f.clientHeight,void((r<(o=f.scrollTop)||r+25>o+s)&&(f.scrollTop=r<o?r:r-s+25))}i=u.getViewPort(l.editor.getWin()),r=u.getPos(e).y+d,o=i.y,s=i.h,(r<i.y||r+25>o+s)&&l.editor.getWin().scrollTo(0,r<o?r:r-s+25)}},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,r){var i=n,o=new e(n,i),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==f(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?o.next():o.prev());"BODY"==i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?u.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),n(q,[U,f],function(e,t){var n=t.each;return function(t){this.compare=function(r,i){function o(e){var r={};return n(t.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(r[i]=t.getAttrib(e,i))}),r}function a(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0}return!(r.nodeName!=i.nodeName||!a(o(r),o(i))||!a(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(i,"style")))||e.isBookmarkNode(r)||e.isBookmarkNode(i))}}}),n($,[y,f,R],function(e,t,n){function r(e,r){function i(e){var t;return function(e,t){t.classes.length&&s.addClass(e,t.classes.join(" ")),s.setAttribs(e,t.attrs)}(t=s.create((l="string"==typeof e?{name:e,classes:[],attrs:{}}:e).name),l),t}function o(e,n){var r="string"!=typeof e?e.nodeName.toLowerCase():e,i=c.getElementRule(r).parentsRequired;return!(!i||!i.length)&&(n&&-1!==t.inArray(i,n)?n:i[0])}var a,l,u,c=r&&r.schema||new n({});return e&&e.length?(a=i(l=e[0]),(u=s.create("div")).appendChild(function e(n,r,a){var l,u,c,d=r.length&&r[0],f=d&&d.name;if(c=o(n,f))f==c?(u=r[0],r=r.slice(1)):u=c;else if(d)u=r[0],r=r.slice(1);else if(!a)return n;return u&&(l=i(u)).appendChild(n),a&&(l||(l=s.create("div")).appendChild(n),t.each(a,function(e){var t=i(e);l.insertBefore(t,n)})),e(l,r,u&&u.siblings)}(a,e.slice(1),l.siblings)),u):""}function i(e){var n,r={classes:[],attrs:{}};return"*"!==(e=r.selector=t.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,n,i,o,a){switch(n){case"#":r.attrs.id=i;break;case".":r.classes.push(i);break;case":":-1!==t.inArray("checked disabled enabled read-only required".split(" "),i)&&(r.attrs[i]=i)}if("["==o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(r.attrs[s[1]]=s[2])}return""})),r.name=n||"div",r}function o(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),i),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[]}var a=t.each,s=e.DOM;return{getCssText:function(e,t){function n(e){return e.replace(/%(\w+)/g,"")}var i,l,u,c,d,f,h="";if(!1===(f=e.settings.preview_styles))return"";if("string"!=typeof f&&(f="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(f=t.preview)?"":(i=t.block||t.inline||"span",(c=o(t.selector)).length?(c[0].name||(c[0].name=i),i=t.selector,l=r(c,e)):l=r([i],e),u=s.select(i,l)[0]||l.firstChild,a(t.styles,function(e,t){(e=n(e))&&s.setStyle(u,t,e)}),a(t.attributes,function(e,t){(e=n(e))&&s.setAttrib(u,t,e)}),a(t.classes,function(e){e=n(e),s.hasClass(u,e)||s.addClass(u,e)}),e.fire("PreviewFormats"),s.setStyles(l,{position:"absolute",left:-65535}),e.getBody().appendChild(l),d=s.getStyle(e.getBody(),"fontSize",!0),d=/px$/.test(d)?parseInt(d,10):0,a(f.split(" "),function(t){var n=s.getStyle(u,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=s.getStyle(e.getBody(),t,!0),"#ffffff"==s.toHex(n).toLowerCase())||"color"==t&&"#000000"==s.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===d)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*d+"px"}"border"==t&&n&&(h+="padding:0 2px;"),h+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),s.remove(l),h)},parseSelector:o,selectorToHtml:function(e,t){return r(o(e),t)}}}),n(Y,[d,w,h],function(e,t,n){var r={},i=e.filter,o=e.each;return function(e,t){var n=r[e];n||(r[e]=n=[]),r[e].push(t)}("pre",function(r){var a,s,l=r.selection.getRng();a=t.matchNodeNames("pre"),l.collapsed||(s=r.selection.getSelectedBlocks(),o(i(i(s,a),function(t){return a(t.previousSibling)&&-1!=e.indexOf(s,t.previousSibling)}),function(e){!function(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}(e.previousSibling,e)}))}),{postProcess:function(e,t){o(r[e],function(e){e(t)})}}}),n(X,[g,_,U,q,O,f,$,Y],function(e,t,n,r,i,o,a,s){return function(l){function u(e){return e.nodeType&&(e=e.nodeName),!!l.schema.getTextBlockElements()[e.toLowerCase()]}function c(e){return/^(TH|TD)$/.test(e.nodeName)}function d(e,t){return j.getParents(e,t,j.getRoot())}function f(e){return 1===e.nodeType&&"_mce_caret"===e.id}function h(e){return e?U[e]:U}function p(e,t){e&&("string"!=typeof e?re(e,function(e,t){p(t,e)}):(re(t=t.length?t:[t],function(e){e.deep===z&&(e.deep=!e.selector),e.split===z&&(e.split=!e.selector||e.inline),e.remove===z&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),U[e]=t))}function g(e,t){var n=h(t);if(n)for(var r=0;r<n.length;r++)if(!1===n[r].inherit&&j.is(e,n[r].selector))return!0;return!1}function m(e){var t;return l.dom.getParent(e,function(e){return(t=l.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function v(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=m(e.parentNode),l.dom.getStyle(e,"color")&&t?l.dom.setStyle(e,"text-decoration",t):l.dom.getStyle(e,"text-decoration")===t&&l.dom.setStyle(e,"text-decoration",null))}function b(t,n,r){function i(e,t){if(t=t||g,e){if(t.onformat&&t.onformat(e,t,n,r),re(t.styles,function(t,r){j.setStyle(e,r,E(t,n))}),t.styles){var i=j.getAttrib(e,"style");i&&e.setAttribute("data-mce-style",i)}re(t.attributes,function(t,r){j.setAttrib(e,r,E(t,n))}),re(t.classes,function(t){t=E(t,n),j.hasClass(e,t)||j.addClass(e,t)})}}function o(e,t){var n=!1;return!!g.selector&&(re(e,function(e){if(!("collapsed"in e&&e.collapsed!==m))return j.is(t,e.selector)&&!f(t)?(i(t,e),n=!0,!1):void 0}),n)}function a(e,r,a){var s,l,c=[],d=!0;i(l=j.create(s=g.inline||g.block)),$.walk(e,function(e){var r;re(e,function e(h){var m,v,b,y;if(y=d,m=h.nodeName.toLowerCase(),v=h.parentNode.nodeName.toLowerCase(),1===h.nodeType&&te(h)&&(y=d,d="true"===te(h),b=!0),k(m,"br"))return r=0,void(g.block&&j.remove(h));if(g.wrapper&&x(h,t,n))r=0;else{if(d&&!b&&g.block&&!g.wrapper&&u(m)&&Y(v,s))return i(h=j.rename(h,s)),c.push(h),void(r=0);if(g.selector){var C=o(p,h);if(!g.inline||C)return void(r=0)}!d||b||!Y(s,m)||!Y(v,s)||!a&&3===h.nodeType&&1===h.nodeValue.length&&65279===h.nodeValue.charCodeAt(0)||f(h)||g.inline&&X(h)?(r=0,re(ie(h.childNodes),e),b&&(d=y),r=0):(r||(r=j.clone(l,Z),h.parentNode.insertBefore(r,h),c.push(r)),r.appendChild(h))}})}),!0===g.links&&re(c,function(e){!function e(t){"A"===t.nodeName&&i(t,g),re(ie(t.childNodes),e)}(e)}),re(c,function(e){function r(e){var t=0;return re(e.childNodes,function(e){A(e)||ne(e)||t++}),t}function o(e){var t=!1;return re(e.childNodes,function(e){if(S(e))return t=e,!1}),t}var a;if(a=r(e),!(c.length>1)&&X(e)||0!==a){if(g.inline||g.wrapper){if(g.exact||1!==a||(e=function(e){var t,n;return(t=o(e))&&!ne(t)&&w(t,g)&&(i(n=j.clone(t,Z)),j.replace(n,e,ee),j.remove(t,1)),n||e}(e)),re(p,function(t){re(j.select(t.inline,e),function(e){ne(e)||D(t,n,e,t.exact?e:null)})}),x(e.parentNode,t,n)&&D(g,n,e)&&(e=0),g.merge_with_parents&&j.getParent(e.parentNode,function(r){if(x(r,t,n))return D(g,n,e)&&(e=0),ee}),!X(e)&&!N(e,"fontSize")){var s=function(e,t){do{if(1!==r(e))break;if(!(e=o(e)))break;if(t(e))return e}while(e);return null}(e,_("fontSize"));s&&b("fontsize",{value:N(s,"fontSize")},e)}e&&!1!==g.merge_siblings&&(e=I(B(e),e),e=I(e,B(e,ee)))}}else j.remove(e,1)})}var c,d,p=h(t),g=p[0],m=!r&&q.isCollapsed();if("false"!==te(q.getNode())){if(g){if(r)r.nodeType?o(p,r)||((d=j.createRng()).setStartBefore(r),d.setEndAfter(r),a(P(d,p),0,!0)):a(r,0,!0);else if(m&&g.inline&&!j.select("td[data-mce-selected],th[data-mce-selected]").length)O("apply",t,n);else{var y=l.selection.getNode();K||!p[0].defaultBlock||j.getParent(y,j.isBlock)||b(p[0].defaultBlock),l.selection.setRng(function(){var t=l.selection.getRng(),n=t.startContainer,i=t.endContainer;if(n!=i&&0===t.endOffset){var o=function(t,n){var o=new e(i);for(r=o.prev2();r;r=o.prev2()){if(3==r.nodeType&&r.data.length>0)return r;if(r.childNodes.length>1||r==t||"BR"==r.tagName)return r}}(n);t.setEnd(o,3==o.nodeType?o.data.length:o.childNodes.length)}return t}()),c=q.getBookmark(),a(P(q.getRng(ee),p)),g.styles&&((g.styles.color||g.styles.textDecoration)&&(oe(y,v,"childNodes"),v(y)),g.styles.backgroundColor&&function e(t,n,r){re(t.childNodes,function(t){S(t)&&(n(t)&&r(t),t.hasChildNodes()&&e(t,n,r))})}(y,_("fontSize"),T("backgroundColor",E(g.styles.backgroundColor,n)))),q.moveToBookmark(c),F(q.getRng(ee)),l.nodeChanged()}s.postProcess(t,l)}}else{r=q.getNode();for(var C=0,R=p.length;C<R;C++)if(p[C].ceFalseOverride&&j.is(r,p[C].selector))return void i(r,p[C])}}function y(e,t,n,r){function i(e){var n,r,o,a,s;if(1===e.nodeType&&te(e)&&(a=b,b="true"===te(e),s=!0),n=ie(e.childNodes),b&&!s)for(r=0,o=g.length;r<o&&!D(g[r],t,e,e);r++);if(v.deep&&n.length){for(r=0,o=n.length;r<o;r++)i(n[r]);s&&(b=a)}}function o(n){var i;return re(d(n.parentNode).reverse(),function(n){var o;i||"_start"==n.id||"_end"==n.id||(o=x(n,e,t,r))&&!1!==o.split&&(i=n)}),i}function a(e){return function(e,n,r,i){var o,a,s,l,u,c;if(e){for(c=e.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=j.clone(o,Z),u=0;u<g.length;u++)if(D(g[u],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}v.mixed&&X(e)||(n=j.split(e,n)),s&&(r.parentNode.insertBefore(s,r),l.appendChild(r))}return n}(o(e),e,e)}function s(e){var t=j.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return ne(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),j.remove(t,!0),n}function u(e){var t,n,r=e.commonAncestorContainer;if(e=P(e,g,ee),v.split){if((t=L(e,ee))!=(n=L(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),j.isChildOf(t,n)&&!X(n)&&!c(t)&&!c(n))return a(t=M(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=s(ee));t=M(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=M(n,"span",{id:"_end","data-mce-type":"bookmark"}),a(t),a(n),t=s(ee),n=s()}else t=n=a(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=G(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=G(n)+1}$.walk(e,function(e){re(e,function(e){i(e),1===e.nodeType&&"underline"===l.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===m(e.parentNode)&&D({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var f,p,g=h(e),v=g[0],b=!0;if(n)n.nodeType?((p=j.createRng()).setStartBefore(n),p.setEndAfter(n),u(p)):u(n);else if("false"!==te(q.getNode()))q.isCollapsed()&&v.inline&&!j.select("td[data-mce-selected],th[data-mce-selected]").length?O("remove",e,t,r):(f=q.getBookmark(),u(q.getRng(ee)),q.moveToBookmark(f),v.inline&&C(e,t,q.getStart())&&F(q.getRng(!0)),l.nodeChanged());else{n=q.getNode();for(var y=0,w=g.length;y<w&&(!g[y].ceFalseOverride||!D(g[y],t,n,n));y++);}}function x(e,t,n,r){function i(e,t,i){var o,a,s,l=t[i];if(t.onmatch)return t.onmatch(e,t,i);if(l)if(l.length===z){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===i?j.getAttrib(e,o):N(e,o),r&&!a&&!t.exact)return;if((!r||t.exact)&&!k(a,R(E(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===i?j.getAttrib(e,l[s]):N(e,l[s]))return t;return t}var o,a,s,l=h(t);if(l&&e)for(a=0;a<l.length;a++)if(w(e,o=l[a])&&i(e,o,"attributes")&&i(e,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!j.hasClass(e,s[a]))return;return o}}function C(e,t,n){function r(n){var r=j.getRoot();return n!==r&&(n=j.getParent(n,function(n){return!!g(n,e)||n.parentNode===r||!!x(n,e,t,!0)}),x(n,e,t))}var i;return n?r(n):r(n=q.getNode())?ee:(i=q.getStart())!=n&&r(i)?ee:Z}function w(e,t){return k(e,t.inline)?ee:k(e,t.block)?ee:t.selector?1==e.nodeType&&j.is(e,t.selector):void 0}function k(e,t){return t=""+((t=t||"").nodeName||t),(e=""+((e=e||"").nodeName||e)).toLowerCase()==t.toLowerCase()}function S(e){return 1==e.nodeType&&!ne(e)&&!A(e)&&!f(e)}function _(e){return i.curry(function(e,t){return!(!t||!N(t,e))},e)}function T(e,t){return i.curry(function(e,t,n){j.setStyle(n,e,t)},e,t)}function N(e,t){return R(j.getStyle(e,t),t)}function R(e,t){return"color"!=t&&"backgroundColor"!=t||(e=j.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function E(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function A(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function M(e,t,n){var r=j.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function P(t,n,r){function i(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var r,i,o,a,s;if(r=i=e?m:b,a=e?"previousSibling":"nextSibling",s=j.getRoot(),3==r.nodeType&&!A(r)&&(e?v>0:y<r.nodeValue.length))return r;for(;;){if(!n[0].block_expand&&X(i))return i;for(o=i[a];o;o=o[a])if(!ne(o)&&!A(o)&&!t(o))return i;if(i==s||i.parentNode==s){r=i;break}i=i.parentNode}return r}function o(e,t){for(t===z&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&te(t))return"false"===te(t)?t:e;t=t.parentNode}return e}function s(t,n,i){function o(e,t){var n,o,a=e.nodeValue;return void 0===t&&(t=i?a.length:0),i?-1===(n=(n=a.lastIndexOf(" ",t))>(o=a.lastIndexOf("\xa0",t))?n:o)||r||n++:(n=a.indexOf(" ",t),o=a.indexOf("\xa0",t),n=-1!==n&&(-1===o||n<o)?n:o),n}var a,s,u,c;if(3===t.nodeType){if(-1!==(u=o(t,n)))return{container:t,offset:u};c=t}for(a=new e(t,j.getParent(t,X)||l.getBody());s=a[i?"prev":"next"]();)if(3===s.nodeType){if(c=s,-1!==(u=o(s)))return{container:s,offset:u}}else if(X(s))break;if(c)return{container:c,offset:n=i?0:c.length}}function c(e,r){var i,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[r]&&(e=e[r]),i=d(e),o=0;o<i.length;o++)for(a=0;a<n.length;a++)if(!("collapsed"in(s=n[a])&&s.collapsed!==t.collapsed)&&j.is(i[o],s.selector))return i[o];return e}function f(e,t){var r,i=j.getRoot();if(n[0].wrapper||(r=j.getParent(e,n[0].block,i)),r||(r=j.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&u(e)})),r&&n[0].wrapper&&(r=d(r,"ul,ol").reverse()[0]||r),!r)for(r=e;r[t]&&!X(r[t])&&!k(r=r[t],"br"););return r||e}var h,p,g,m=t.startContainer,v=t.startOffset,b=t.endContainer,y=t.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&3==(m=m.childNodes[v>(h=m.childNodes.length-1)?h:v]).nodeType&&(v=0),1==b.nodeType&&b.hasChildNodes()&&3==(b=b.childNodes[y>(h=b.childNodes.length-1)?h:y-1]).nodeType&&(y=b.nodeValue.length),m=a(m),b=a(b),(ne(m.parentNode)||ne(m))&&3==(m=(m=ne(m)?m:m.parentNode).nextSibling||m).nodeType&&(v=0),(ne(b.parentNode)||ne(b))&&3==(b=(b=ne(b)?b:b.parentNode).previousSibling||b).nodeType&&(y=b.length),n[0].inline&&(t.collapsed&&((g=s(m,v,!0))&&(m=g.container,v=g.offset),(g=s(b,y))&&(b=g.container,y=g.offset)),(p=o(b,y)).node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=o(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(b=p.node).splitText(p.offset-1)}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==v||(m=i(!0)),n[0].inline&&3==b.nodeType&&y!==b.nodeValue.length||(b=i())),n[0].selector&&n[0].expand!==Z&&!n[0].inline&&(m=c(m,"previousSibling"),b=c(b,"nextSibling")),(n[0].block||n[0].selector)&&(m=f(m,"previousSibling"),b=f(b,"nextSibling"),n[0].block&&(X(m)||(m=i(!0)),X(b)||(b=i()))),1==m.nodeType&&(v=G(m),m=m.parentNode),1==b.nodeType&&(y=G(b)+1,b=b.parentNode),{startContainer:m,startOffset:v,endContainer:b,endOffset:y}}function D(e,t,n,r){var i,o,a;if(!w(n,e)&&!function(e,t){return t.links&&"A"==n.tagName}(0,e))return Z;if("all"!=e.remove)for(re(e.styles,function(i,o){i=R(E(i,t),o),"number"==typeof o&&(o=i,r=0),(e.remove_similar||!r||k(N(r,o),i))&&j.setStyle(n,o,""),a=1}),a&&""===j.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),re(e.attributes,function(e,i){var o;if(e=E(e,t),"number"==typeof i&&(i=e,r=0),!r||k(j.getAttrib(r,i),e)){if("class"==i&&(e=j.getAttrib(n,i))&&(o="",re(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void j.setAttrib(n,i,o);"class"==i&&n.removeAttribute("className"),Q.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}}),re(e.classes,function(e){e=E(e,t),r&&!j.hasClass(r,e)||j.removeClass(n,e)}),o=j.getAttribs(n),i=0;i<o.length;i++){var s=o[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return Z}return"none"!=e.remove?(function(e,t){function n(e,t,n){return!(e=B(e,t,n))||"BR"==e.nodeName||X(e)}var r,i=e.parentNode;t.block&&(K?i==j.getRoot()&&(t.list_block&&k(e,t.list_block)||re(ie(e.childNodes),function(e){Y(K,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=M(e,K),j.setAttribs(r,l.settings.forced_root_block_attrs)):r=0})):X(e)&&!X(i)&&(n(e,Z)||n(e.firstChild,ee,1)||e.insertBefore(j.create("br"),e.firstChild),n(e,ee)||n(e.lastChild,Z,1)||e.appendChild(j.create("br")))),t.selector&&t.inline&&!k(t.inline,e)||j.remove(e,1)}(n,e),ee):void 0}function B(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!A(e))return e}function I(e,t){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!ne(i))return i}return e}var i,o,a=new r(j);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(i=e.nextSibling;i&&i!=t;)o=i,i=i.nextSibling,e.appendChild(o);return j.remove(t),re(ie(t.childNodes),function(t){e.appendChild(t)}),e}return t}function L(t,n){var r,i,o;return i=t[n?"startOffset":"endOffset"],1==(r=t[n?"startContainer":"endContainer"]).nodeType&&(!n&&i&&i--,r=r.childNodes[i>(o=r.childNodes.length-1)?o:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=new e(r,l.getBody()).next()||r),3!==r.nodeType||n||0!==i||(r=new e(r,l.getBody()).prev()||r),r}function O(t,n,r,i){function o(e){var t=j.create("span",{id:p,"data-mce-bogus":!0,style:g?"color:red":""});return e&&t.appendChild(l.getDoc().createTextNode(J)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==J||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===p)return e;e=e.parentNode}}function c(t){var n;if(t)for(t=(n=new e(t,t)).current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,r;if(e)r=q.getRng(!0),a(e)?(!1!==t&&(r.setStartBefore(e),r.setEndBefore(e)),j.remove(e)):((n=c(e)).nodeValue.charAt(0)===J&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset>0&&r.setStart(n,r.startOffset-1),r.endContainer==n&&r.endOffset>0&&r.setEnd(n,r.endOffset-1)),j.remove(e,1)),q.setRng(r);else if(!(e=s(q.getStart())))for(;e=j.get(p);)d(e,!1)}function f(){var e;(e=s(q.getStart()))&&!j.isEmpty(e)&&oe(e,function(e){1!=e.nodeType||e.id===p||j.isEmpty(e)||j.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var p="_mce_caret",g=l.settings.caret_debug;l._hasCaretEvents||(V=function(){var e,t=[];if(a(s(q.getStart()),t))for(e=t.length;e--;)j.setAttrib(t[e],"data-mce-bogus","1")},W=function(e){var t=e.keyCode;d(),8==t&&q.isCollapsed()&&q.getStart().innerHTML==J&&d(s(q.getStart())),37!=t&&39!=t||d(s(q.getStart())),f()},l.on("SetContent",function(e){e.selection&&f()}),l._hasCaretEvents=!0),"apply"==t?function(){var e,t,i,a,l,u;a=(e=q.getRng(!0)).startOffset,u=e.startContainer.nodeValue,(t=s(q.getStart()))&&(i=c(t));var d=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&a>0&&a<u.length&&d.test(u.charAt(a))&&d.test(u.charAt(a-1))?(l=q.getBookmark(),e.collapse(!0),e=P(e,h(n)),e=$.split(e),b(n,r,e),q.moveToBookmark(l)):(t&&i.nodeValue===J?b(n,r,t):(i=(t=o(!0)).firstChild,e.insertNode(t),a=1,b(n,r,t)),q.setCursorLocation(i,a))}():function(){var e,t,a,s,l,c,d,f=q.getRng(!0),p=[];for(s=e=f.startContainer,3==e.nodeType&&(f.startOffset!=e.nodeValue.length&&(a=!0),s=s.parentNode);s;){if(x(s,n,r,i)){l=s;break}s.nextSibling&&(a=!0),p.push(s),s=s.parentNode}if(l)if(a)t=q.getBookmark(),f.collapse(!0),f=P(f,h(n),!0),f=$.split(f),y(n,r,f),q.moveToBookmark(t);else{for(s=d=o(),c=p.length-1;c>=0;c--)s.appendChild(j.clone(p[c],!1)),s=s.firstChild;s.appendChild(j.doc.createTextNode(J)),s=s.firstChild;var g=j.getParent(l,u);g&&j.isEmpty(g)?l.parentNode.replaceChild(d,l):j.insertAfter(d,l),q.setCursorLocation(s,1),j.isEmpty(l)&&j.remove(l)}}()}function F(t){var n,r,i,o,a,s=t.startContainer,l=t.startOffset;if((t.startContainer!=t.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(t.startContainer.childNodes[t.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=G(s),s=s.parentNode,n=!0),1==s.nodeType))for(s=(o=s.childNodes)[Math.min(l,o.length-1)],r=new e(s,j.getParent(s,j.isBlock)),(l>o.length-1||n)&&r.next(),i=r.current();i;i=r.next())if(3==i.nodeType&&!A(i))return a=j.create("a",{"data-mce-bogus":"all"},J),i.parentNode.insertBefore(a,i),t.setStart(i,0),q.setRng(t),void j.remove(a)}var H,z,W,V,U={},j=l.dom,q=l.selection,$=new t(j),Y=l.schema.isValidChild,X=j.isBlock,K=l.settings.forced_root_block,G=j.nodeIndex,J="\ufeff",Q=/^(src|href|style)$/,Z=!1,ee=!0,te=j.getContentEditable,ne=n.isBookmarkNode,re=o.each,ie=o.grep,oe=o.walk;(0,o.extend)(this,{get:h,register:p,unregister:function(e){return e&&U[e]&&delete U[e],U},apply:b,remove:y,toggle:function(e,t,n){var r=h(e);!C(e,t,n)||"toggle"in r[0]&&!r[0].toggle?b(e,t,n):y(e,t,n)},match:C,matchAll:function(e,t){var n,r=[],i={};return n=q.getStart(),j.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)!i[a=e[o]]&&x(n,a,t)&&(i[a]=!0,r.push(a))},j.getRoot()),r},matchNode:x,canApply:function(e){var t,n,r,i,o=h(e);if(o)for(t=d(q.getStart()),r=o.length-1;r>=0;r--){if(!(i=o[r].selector)||o[r].defaultBlock)return ee;for(n=t.length-1;n>=0;n--)if(j.is(t[n],i))return ee}return Z},formatChanged:function(e,t,n){var r;return H||(H={},r={},l.on("NodeChange",function(e){var t=d(e.element),n={};t=o.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),re(H,function(e,i){re(t,function(o){return x(o,i,{},e.similar)?(r[i]||(re(e,function(e){e(!0,{node:o,format:i,parents:t})}),r[i]=e),n[i]=e,!1):!g(o,i)&&void 0})}),re(r,function(i,o){n[o]||(delete r[o],re(i,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),re(e.split(","),function(e){H[e]||(H[e]=[],H[e].similar=n),H[e].push(t)}),this},getCssText:function(e){return a.getCssText(l,e)}}),p({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){re(n,function(t,n){j.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),re("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){p(e,{block:e,remove:"all"})}),p(l.settings.formats),function(){l.addShortcut("meta+b","bold_desc","Bold"),l.addShortcut("meta+i","italic_desc","Italic"),l.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)l.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);l.addShortcut("access+7","",["FormatBlock",!1,"p"]),l.addShortcut("access+8","",["FormatBlock",!1,"div"]),l.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),l.on("BeforeGetContent",function(e){V&&"raw"!=e.format&&V()}),l.on("mouseup keydown",function(e){W&&W(e)})}}),n(K,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=function(n,r,i,a,l){var u=s(n,r,i,a);if(null===u||u.start===r&&u.diag===r-a||u.end===n&&u.diag===n-i)for(var c=n,d=i;c<r||d<a;)c<r&&d<a&&e[c]===t[d]?(l.push([0,e[c]]),++c,++d):r-n>a-i?(l.push([2,e[c]]),++c):(l.push([1,t[d]]),++d);else{o(n,u.start,i,u.start-u.diag,l);for(var f=u.start;f<u.end;++f)l.push([0,e[f]]);o(u.end,r,u.end-u.diag,a,l)}},a=function(n,r,i,o){for(var a=n;a-r<o&&a<i&&e[a]===t[a-r];)++a;return function(e,t,n){return{start:e,end:a,diag:n}}(n,0,r)},s=function(n,o,s,l){var u=o-n,c=l-s;if(0===u||0===c)return null;var d=u-c,f=c+u,h=(f%2==0?f:f+1)/2;r[1+h]=n,i[1+h]=o+1;for(var p=0;p<=h;++p){for(var g=-p;g<=p;g+=2){var m=g+h;r[m]=g===-p||g!=p&&r[m-1]<r[m+1]?r[m+1]:r[m-1]+1;for(var v=r[m],b=v-n+s-g;v<o&&b<l&&e[v]===t[b];)r[m]=++v,++b;if(d%2!=0&&d-p<=g&&g<=d+p&&i[m-d]<=r[m])return a(i[m-d],g+n-s,o,l)}for(g=d-p;g<=d+p;g+=2){for(i[m=g+h-d]=g===d-p||g!=d+p&&i[m+1]<=i[m-1]?i[m+1]-1:i[m-1],b=(v=i[m]-1)-n+s-g;v>=n&&b>=s&&e[v]===t[b];)i[m]=v--,b--;if(d%2==0&&-p<=g&&g<=p&&i[m]<=r[m+d])return a(i[m],g+n-s,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}}}),n(G,[d,v,K],function(e,t,n){var r=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""};return{read:function(t){return e.map(t.childNodes,r)},write:function(t,i){var o=e.map(i.childNodes,r);return function(t,r){var i=0;e.each(t,function(e){e[0]===n.KEEP?i++:e[0]===n.INSERT?(function(e,t,n){var r=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var i=e.childNodes[n];i.parentNode.insertBefore(r,i)}else e.appendChild(r)}(r,e[1],i),i++):e[0]===n.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,i)})}(n.diff(o,t),i),i}}}),n(J,[d,G],function(e,t){var n=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},r=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},i=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:n,createCompleteLevel:r,createFromEditor:function(i){var o,a,s;return o=t.read(i.getBody()),function(e){return-1!==e.indexOf("</iframe>")}(a=(s=e.map(o,function(e){return i.serializer.trimContent(e)})).join(""))?n(s):r(a)},applyToEditor:function(e,n,r){"fragmented"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(r?n.beforeBookmark:n.bookmark)},isEq:function(e,t){return i(e)===i(t)}}}),n(Q,[I,f,J],function(e,t,n){return function(e){function r(t){e.setDirty(t)}function i(e){l.typing=!1,l.add({},e)}function o(){l.typing&&(l.typing=!1,l.add())}var a,s,l=this,u=0,c=[],d=0;return e.on("init",function(){l.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(o(),l.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)}),e.on("ObjectResizeStart Cut",function(){l.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("DragEnd",i),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),s&&l.typing&&(e.isDirty()||(r(c[0]&&!n.isEq(n.createFromEditor(e),c[0])),e.isDirty()&&e.fire("change",{level:c[0],lastLevel:null})),e.fire("TypingUndo"),s=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(l.typing&&i(e));!(t<16||t>20)||224===t||91===t||l.typing||e.ctrlKey&&!e.altKey||e.metaKey||(l.beforeChange(),l.typing=!0,l.add({},e),s=!0)}}),e.on("MouseDown",function(e){l.typing&&i(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),l={data:c,typing:!1,beforeChange:function(){d||(a=e.selection.getBookmark(2,!0))},add:function(i,o){var s,l,f,h=e.settings;if(f=n.createFromEditor(e),i=t.extend(i=i||{},f),d||e.removed)return null;if(e.fire("BeforeAddUndo",{level:i,lastLevel:l=c[u],originalEvent:o}).isDefaultPrevented())return null;if(l&&n.isEq(l,i))return null;if(c[u]&&(c[u].beforeBookmark=a),h.custom_undo_redo_levels&&c.length>h.custom_undo_redo_levels){for(s=0;s<c.length-1;s++)c[s]=c[s+1];c.length--,u=c.length}i.bookmark=e.selection.getBookmark(2,!0),u<c.length-1&&(c.length=u+1),c.push(i),u=c.length-1;var p={level:i,lastLevel:l,originalEvent:o};return e.fire("AddUndo",p),u>0&&(r(!0),e.fire("change",p)),i},undo:function(){var t;return l.typing&&(l.add(),l.typing=!1),u>0&&(t=c[--u],n.applyToEditor(e,t,!0),r(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return u<c.length-1&&(t=c[++u],n.applyToEditor(e,t,!1),r(!0),e.fire("redo",{level:t})),t},clear:function(){c=[],u=0,l.typing=!1,l.data=c,e.fire("ClearUndos")},hasUndo:function(){return u>0||l.typing&&c[0]&&!n.isEq(n.createFromEditor(e),c[0])},hasRedo:function(){return u<c.length-1&&!l.typing},transact:function(e){o(),l.beforeChange();try{d++,e()}finally{d--}return l.add()},extra:function(t,r){var i;l.transact(t)&&(i=c[u].bookmark,n.applyToEditor(e,c[u-1],!0),l.transact(r)&&(c[u-1].beforeBookmark=i))}}}}),n(Z,[g,_,S,l],function(e,t,n,r){var i=r.ie&&r.ie<11;return function(o){function a(a){function p(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==s.getContentEditable(e)}function g(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create("span",null,"\xa0")),l.select(e),e.lastChild.outerHTML="",l.setRng(t))}function m(t){var n,i,o,a,u=t;if(t){if(r.ie&&r.ie<9&&R&&R.firstChild&&R.firstChild==R.lastChild&&"BR"==R.firstChild.tagName&&s.remove(R.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var c=function(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(s.doc.createTextNode("\xa0"),t.firstChild)}if(o=s.createRng(),r.ie||t.normalize(),t.hasChildNodes()){for(n=new e(t,t);i=n.current();){if(3==i.nodeType){o.setStart(i,0),o.setEnd(i,0);break}if(h[i.nodeName.toLowerCase()]){o.setStartBefore(i),o.setEndBefore(i);break}u=i,i=n.next()}i||(o.setStart(u,0),o.setEnd(u,0))}else"BR"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!E||E<9)&&(a=s.create("br"),t.parentNode.insertBefore(a,t)),o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));l.setRng(o),s.remove(a),l.scrollIntoView(t)}}function v(e){var t=u.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,u.forced_root_block_attrs)}function b(e){e.innerHTML=i?"":'<br data-mce-bogus="1">'}function y(e){var t,n,r,o=T,a=d.getTextInlineElements();if(e||"TABLE"==B?v(t=s.create(e||L)):t=R.cloneNode(!1),r=t,!1!==u.keep_styles)do{if(a[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),s.setAttrib(n,"id",""),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(r=n,t.appendChild(n))}}while((o=o.parentNode)&&o!=_);return i||(r.innerHTML='<br data-mce-bogus="1">'),t}function x(t){var n,r,i;if(3==T.nodeType&&(t?N>0:N<T.nodeValue.length))return!1;if(T.parentNode==R&&O&&!t)return!0;if(t&&1==T.nodeType&&T==R.firstChild)return!0;if("TABLE"===T.nodeName||T.previousSibling&&"TABLE"==T.previousSibling.nodeName)return O&&!t||!O&&t;for(n=new e(T,R),3==T.nodeType&&(t&&0===N?n.prev():t||N!=T.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute("data-mce-bogus")&&(i=r.nodeName.toLowerCase(),f[i]&&"br"!==i))return!1}else if(3===r.nodeType&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function C(){o.execCommand("InsertLineBreak",!1,a)}function w(){M=/^(H[1-6]|PRE|FIGURE)$/.test(B)&&"HGROUP"!=I?y(L):y(),u.end_container_on_empty_block&&p(D)&&s.isEmpty(R)?M=s.split(D,R):s.insertAfter(M,R),m(M)}var k,S,_,T,N,R,E,A,M,P,D,B,I,L,O;if(k=l.getRng(!0),!a.isDefaultPrevented()){if(!k.collapsed)return void o.execCommand("Delete");if(new t(s).normalize(k),T=k.startContainer,N=k.startOffset,L=(L=(u.force_p_newlines?"p":"")||u.forced_root_block)?L.toUpperCase():"",E=s.doc.documentMode,A=a.shiftKey,1==T.nodeType&&T.hasChildNodes()&&(O=N>T.childNodes.length-1,T=T.childNodes[Math.min(N,T.childNodes.length-1)]||T,N=O&&3==T.nodeType?T.nodeValue.length:0),_=function(e){var t,n,r=s.getRoot();for(t=e;t!==r&&"false"!==s.getContentEditable(t);)"true"===s.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==r?n:r}(T)){if(c.beforeChange(),!s.isBlock(_)&&_!=s.getRoot())return void(L&&!A||C());if((L&&!A||!L&&A)&&(T=function(e,t){var n,r,i,a,l,u,c=L||"P";if(!(r=s.getParent(e,s.isBlock))||!p(r)){if(u=(r=r||_)==o.getBody()||r&&/^(TD|TH|CAPTION)$/.test(r.nodeName)?r.nodeName.toLowerCase():r.parentNode.nodeName.toLowerCase(),!r.hasChildNodes())return v(n=s.create(c)),r.appendChild(n),k.setStart(n,0),k.setEnd(n,0),n;for(a=e;a.parentNode!=r;)a=a.parentNode;for(;a&&!s.isBlock(a);)i=a,a=a.previousSibling;if(i&&d.isValidChild(u,c.toLowerCase())){for(v(n=s.create(c)),i.parentNode.insertBefore(n,i),a=i;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;k.setStart(e,t),k.setEnd(e,t)}}return e}(T,N)),R=s.getParent(T,s.isBlock),D=R?s.getParent(R.parentNode,s.isBlock):null,B=R?R.nodeName.toUpperCase():"","LI"!=(I=D?D.nodeName.toUpperCase():"")||a.ctrlKey||(R=D,B=I),o.undoManager.typing&&(o.undoManager.typing=!1,o.undoManager.add()),/^(LI|DT|DD)$/.test(B)){if(!L&&A)return void C();if(s.isEmpty(R))return void function(){function e(e){for(var t=D[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===R}function t(){var e=D.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:D}if(D!=o.getBody()){var n=D.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(L="LI"),M=L?y(L):s.create("BR"),e(!0)&&e()?"LI"==n?s.insertAfter(M,t()):s.replace(M,D):e(!0)?"LI"==n?(s.insertAfter(M,t()),M.appendChild(s.doc.createTextNode(" ")),M.appendChild(D)):D.parentNode.insertBefore(M,D):e()?(s.insertAfter(M,t()),g(M)):(D=t(),(S=k.cloneRange()).setStartAfter(R),S.setEndAfter(D),P=S.extractContents(),"LI"==L&&"LI"==P.firstChild.nodeName?(M=P.firstChild,s.insertAfter(P,D)):(s.insertAfter(P,D),s.insertAfter(M,D))),s.remove(R),m(M),c.add()}}()}if("PRE"==B&&!1!==u.br_in_pre){if(!A)return void C()}else if(!L&&!A&&"LI"!=B||L&&A)return void C();L&&R===o.getBody()||(L=L||"P",n.isCaretContainerBlock(R)?(M=n.showCaretContainerBlock(R),s.isEmpty(R)&&b(R),m(M)):x()?w():x(!0)?(g(M=R.parentNode.insertBefore(y(),R)),m(R)):((S=k.cloneRange()).setEndAfter(R),function(e){do{3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(P=S.extractContents()),M=P.firstChild,s.insertAfter(P,R),function(e){var t,n=M,r=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||f[n.nodeName.toLowerCase()]||r.push(n)}for(t=r.length;t--;)!(n=r[t]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?s.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&s.remove(n)}}(),function(e){var t;i||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(s.getStyle(t,"float",!0))||s.add(e,"br"))}(R),s.isEmpty(R)&&b(R),M.normalize(),s.isEmpty(M)?(s.remove(M),w()):m(M)),s.setAttrib(M,"id",""),o.fire("NewBlock",{newBlock:M}),c.typing=!1,c.add())}}}var s=o.dom,l=o.selection,u=o.settings,c=o.undoManager,d=o.schema,f=d.getNonEmptyElements(),h=d.getMoveCaretBeforeOnEnterElements();o.on("keydown",function(e){13==e.keyCode&&!1!==a(e)&&e.preventDefault()})}}),n(ee,[],function(){return function(e){var t=e.settings,n=e.dom,r=e.selection,i=e.schema,o=i.getBlockElements();t.forced_root_block&&e.on("NodeChange",function(){var a,s,l,u,c,d,f,h,p,g,m,v,y=r.getStart(),x=e.getBody(),C=-16777215;if(v=t.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=x;){if(o[y.nodeName])return;y=y.parentNode}if((a=r.getRng()).setStart){s=a.startContainer,l=a.startOffset,u=a.endContainer,c=a.endOffset;try{p=e.getDoc().activeElement===x}catch(b){}}else a.item&&(y=a.item(0),(a=e.getDoc().body.createTextRange()).moveToElementText(y)),p=a.parentElement().ownerDocument===e.getDoc(),(g=a.duplicate()).collapse(!0),l=-1*g.move("character",C),g.collapsed||((g=a.duplicate()).collapse(!1),c=-1*g.move("character",C)-l);for(y=x.firstChild,m=x.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!o[y.nodeName])&&i.isValidChild(m,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){f=y,y=y.nextSibling,n.remove(f);continue}d||(d=n.create(v,e.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),h=!0),f=y,y=y.nextSibling,d.appendChild(f)}else d=null,y=y.nextSibling;if(h&&p){if(a.setStart)a.setStart(s,l),a.setEnd(u,c),r.setRng(a);else try{(a=e.getDoc().body.createTextRange()).moveToElementText(x),a.collapse(!0),a.moveStart("character",l),c>0&&a.moveEnd("character",c),a.select()}catch(b){}e.nodeChanged()}}})}}),n(te,[O,g,w,W,S,F],function(e,t,n,r,i,o){function a(e){return e>0}function s(e){return e<0}function l(e,t){for(var n;n=e(t);)if(!y(n))return n;return null}function u(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(g(e))return e;return t}function c(e,t){for(;e&&e!=t;){if(v(e))return e;e=e.parentNode}return null}function d(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function f(e,t,n){return c(t,e)==c(n,e)}function h(e,t,n){var r,i;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(b(r=n[i])&&(r=r[i]),m(r)){if(f(t,r,n))return r;break}if(w(r))break;n=n.parentNode}return null}function p(e,t){return m(function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),C(n)?n.childNodes[r+e]:null):null}(e,t))}var g=n.isContentEditableTrue,m=n.isContentEditableFalse,v=n.matchStyleValues("display","block table table-cell table-caption"),b=i.isCaretContainer,y=i.isCaretContainerBlock,x=e.curry,C=n.isElement,w=o.isCaretCandidate,k=x(d,!0),S=x(d,!1);return{isForwards:a,isBackwards:s,findNode:function(e,n,r,i,o){var u=new t(e,i);if(s(n)){if((m(e)||y(e))&&r(e=l(u.prev,!0)))return e;for(;e=l(u.prev,o);)if(r(e))return e}if(a(n)){if((m(e)||y(e))&&r(e=l(u.next,!0)))return e;for(;e=l(u.next,o);)if(r(e))return e}return null},getEditingHost:u,getParentBlock:c,isInSameBlock:function(e,t,n){return c(e.container(),n)==c(t.container(),n)},isInSameEditingHost:function(e,t,n){return u(e.container(),n)==u(t.container(),n)},isBeforeContentEditableFalse:x(p,0),isAfterContentEditableFalse:x(p,-1),normalizeRange:function(e,t,r){var o,a,s,l,u=x(h,!0,t),c=x(h,!1,t);if(s=r.startOffset,i.isCaretContainerBlock(a=r.startContainer)){if(C(a)||(a=a.parentNode),"before"==(l=a.getAttribute("data-mce-caret"))&&m(o=a.nextSibling))return k(o);if("after"==l&&m(o=a.previousSibling))return S(o)}if(!r.collapsed)return r;if(n.isText(a)){if(b(a)){if(1===e){if(o=c(a))return k(o);if(o=u(a))return S(o)}if(-1===e){if(o=u(a))return S(o);if(o=c(a))return k(o)}return r}if(i.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=c(a))?k(o):r;if(i.startsWithCaretContainer(a)&&s<=1)return-1===e&&(o=u(a))?S(o):r;if(s===a.data.length)return(o=c(a))?k(o):r;if(0===s)return(o=u(a))?S(o):r}return r}}}),n(ne,[w,F,W,te,d,O],function(e,t,n,r,i,o){function a(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function s(e,t){if(p(e)){if(m(t.previousSibling)&&!d(t.previousSibling))return n.before(t);if(d(t))return n(t,0)}if(g(e)){if(m(t.nextSibling)&&!d(t.nextSibling))return n.after(t);if(d(t))return n(t,t.data.length)}return g(e)?h(t)?n.before(t):n.after(t):n.before(t)}function l(t,i){var o;return!!e.isBr(t)&&!!(o=u(1,n.after(t),i))&&!r.isInSameBlock(n.before(t),n.before(o),i)}function u(e,t,h){var y,x,C,w,k,S,_;if(!f(h)||!t)return null;if(y=(_=t).container(),x=_.offset(),d(y)){if(g(e)&&x>0)return n(y,--x);if(p(e)&&x<y.length)return n(y,++x);C=y}else{if(g(e)&&x>0&&(w=a(y,x-1),m(w)))return!v(w)&&(k=r.findNode(w,e,b,w))?d(k)?n(k,k.data.length):n.after(k):d(w)?n(w,w.data.length):n.before(w);if(p(e)&&x<y.childNodes.length&&(w=a(y,x),m(w)))return l(w,h)?u(e,n.after(w),h):!v(w)&&(k=r.findNode(w,e,b,w))?d(k)?n(k,0):n.before(k):d(w)?n(w,0):n.after(w);C=_.getNode()}return(p(e)&&_.isAtEnd()||g(e)&&_.isAtStart())&&(C=r.findNode(C,e,o.constant(!0),h,!0),b(C))?s(e,C):(w=r.findNode(C,e,b,h),!(S=i.last(i.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(y,h),c)))||w&&S.contains(w)?w?s(e,w):null:_=p(e)?n.after(S):n.before(S))}var c=e.isContentEditableFalse,d=e.isText,f=e.isElement,h=e.isBr,p=r.isForwards,g=r.isBackwards,m=t.isCaretCandidate,v=t.isAtomic,b=t.isEditableCaretCandidate;return function(e){return{next:function(t){return u(1,t,e)},prev:function(t){return u(-1,t,e)}}}}),n(re,[f,ne,W],function(e,t,n){var r=function(t){return e.grep(t.childNodes,function(e){return"LI"===e.nodeName})},i=function(e){return e.length>0&&function(e){return!e.firstChild}(e[e.length-1])?e.slice(0,-1):e},o=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},a=function(e,r){var i=n.before(e),o=new t(r).next(i);return o?o.toRange():null},s=function(e,r){var i=n.after(e),o=new t(r).prev(i);return o?o.toRange():null},l=function(t,n,r,i){var o=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]}(t,i),a=t.parentNode;return a.insertBefore(o[0],t),e.each(n,function(e){a.insertBefore(e,t)}),a.insertBefore(o[1],t),a.removeChild(t),s(n[n.length-1],r)},u=function(t,n,r){var i=t.parentNode;return e.each(n,function(e){i.insertBefore(e,t)}),a(t,r)};return{isListFragment:function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n||"ul"!==t.name&&"ol"!==t.name)},insertAtCaret:function(e,a,c,d){var f=function(e,t,n){var r=t.serialize(d);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(r))}(a,e),h=o(a,c.startContainer),p=i(r(f.firstChild)),g=a.getRoot(),m=function(e){var r=n.fromRangeStart(c),i=new t(a.getRoot()),s=1===e?i.prev(r):i.next(r);return!s||o(a,s.getNode())!==h};return m(1)?u(h,p,g):m(2)?function(e,t,n,r){return r.insertAfter(t.reverse(),e),s(t[0],n)}(h,p,g,a):l(h,p,g,c)},isParentBlockLi:function(e,t){return!!o(e,t)},trimListItems:i,listItems:r}}),n(ie,[l,f,P,ne,W,q,w,re],function(e,t,n,r,i,o,a,s){var l=a.matchNodeNames("td th"),u=function(a,u,c){var d,f,h,p,g,m,v,b,y,x,C,w,k=a.schema.getTextInlineElements(),S=a.selection,_=a.dom;/^ | $/.test(u)&&(u=function(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return i=(n=S.getRng(!0)).startOffset,3==(r=n.startContainer).nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<r.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(u)),d=a.parser,w=c.merge,f=new n({validate:a.settings.validate},a.schema),C='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',a.fire("BeforeSetContent",m={content:u,format:"html",selection:!0}),-1==(u=m.content).indexOf("{$caret}")&&(u+="{$caret}"),u=u.replace(/\{\$caret\}/,C);var T=(b=S.getRng()).startContainer||(b.parentElement?b.parentElement():null),N=a.getBody();T===N&&S.isCollapsed()&&_.isBlock(N.firstChild)&&function(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}(N.firstChild)&&_.isEmpty(N.firstChild)&&((b=_.createRng()).setStart(N.firstChild,0),b.setEnd(N.firstChild,0),S.setRng(b)),S.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),function(){var e,t,n;n=(e=S.getRng(!0)).startOffset,3==(t=e.startContainer).nodeType&&e.collapsed&&("\xa0"===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(u)||(u+=" ")):"\xa0"===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(u)||(u=" "+u)))}());var R={context:(h=S.getNode()).nodeName.toLowerCase(),data:c.data};if(g=d.parse(u,R),!0===c.paste&&s.isListFragment(g)&&s.isParentBlockLi(_,h))return b=s.insertAtCaret(f,_,a.selection.getRng(!0),g),a.selection.setRng(b),void a.fire("SetContent",m);if(function(e){for(var t=g;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(),"mce_marker"==(y=g.lastChild).attr("id"))for(v=y,y=y.prev;y;y=y.walk(!0))if(3==y.type||!_.isBlock(y.name)){a.schema.isValidChild(y.parent.name,"span")&&y.parent.insert(v,y,"br"===y.name);break}if(a._selectionOverrides.showBlockCaretContainer(h),R.invalid){for(S.setContent(C),h=S.getNode(),p=a.getBody(),9==h.nodeType?h=y=p:y=h;y!==p;)h=y,y=y.parentNode;u=h==p?p.innerHTML:_.getOuterHTML(h),u=f.serialize(d.parse(u.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return f.serialize(g)}))),h==p?_.setHTML(p,u):_.setOuterHTML(h,u)}else u=f.serialize(g),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild;!r||r===n.lastChild&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(a,u,h);(function(){if(w){var e=a.getBody(),n=new o(_);t.each(_.select("*[data-mce-fragment]"),function(t){for(var r=t.parentNode;r&&r!=e;r=r.parentNode)k[t.nodeName.toLowerCase()]&&n.compare(r,t)&&_.remove(t,!0)})}})(),function(t){var n,o,s;if(t){if(S.scrollIntoView(t),n=function(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if("false"===a.dom.getContentEditable(e))return e;return null}(t))return _.remove(t),void S.select(n);b=_.createRng(),(y=t.previousSibling)&&3==y.nodeType?(b.setStart(y,y.nodeValue.length),e.ie||(x=t.nextSibling)&&3==x.nodeType&&(y.appendData(x.data),x.parentNode.removeChild(x))):(b.setStartBefore(t),b.setEndBefore(t)),o=_.getParent(t,_.isBlock),_.remove(t),o&&_.isEmpty(o)&&(a.$(o).empty(),b.setStart(o,0),b.setEnd(o,0),l(o)||o.getAttribute("data-mce-fragment")||!(s=function(e){var t=i.fromRangeStart(b);if(t=new r(a.getBody()).next(t))return t.toRange()}())?_.add(o,_.create("br",{"data-mce-bogus":"1"})):(b=s,_.remove(o))),S.setRng(b)}}(_.get("mce_marker")),function(e){t.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}(a.getBody()),a.fire("SetContent",m),a.addVisual()},c=function(e){var n;return"string"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}};return{insertAtCaret:function(e,t){var n=c(t);u(e,n.content,n.details)}}}),n(oe,[l,f,_,g,ie,w],function(e,n,r,i,o,a){var s=n.each,l=n.extend,u=n.map,c=n.inArray,d=n.explode,f=e.ie&&e.ie<11,h=!0,p=!1;return function(n){function g(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=T.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(r){}return!1}}function m(e,t){t=t||"exec",s(e,function(e,n){s(n.toLowerCase().split(","),function(n){T[t][n]=e})})}function v(e,r,i){return r===t&&(r=p),i===t&&(i=null),n.getDoc().execCommand(e,r,i)}function b(e){return S.match(e)}function y(e,r){S.toggle(e,r?{value:r}:t),n.nodeChanged()}function x(e){_=k.getBookmark(e)}function C(){k.moveToBookmark(_)}var w,k,S,_,T={state:{},exec:{},value:{}},N=n.settings;n.on("PreInit",function(){w=n.dom,k=n.selection,N=n.settings,S=n.formatter}),l(this,{execCommand:function(e,t,r,i){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||n.focus(),(i=n.fire("BeforeExecCommand",{command:e,ui:t,value:r})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),o=T.exec[a])return o(a,t,r),n.fire("ExecCommand",{command:e,ui:t,value:r}),!0;if(s(n.plugins,function(i){if(i.execCommand&&i.execCommand(e,t,r))return n.fire("ExecCommand",{command:e,ui:t,value:r}),l=!0,!1}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,r))return n.fire("ExecCommand",{command:e,ui:t,value:r}),!0;try{l=n.getDoc().execCommand(e,t,r)}catch(u){}return!!l&&(n.fire("ExecCommand",{command:e,ui:t,value:r}),!0)},queryCommandState:g,queryCommandValue:function(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=T.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(r){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),T.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(t){}return!1},addCommands:m,addCommand:function(e,t,r){e=e.toLowerCase(),T.exec[e]=function(e,i,o,a){return t.call(r||n,i,o,a)}},addQueryStateHandler:function(e,t,r){e=e.toLowerCase(),T.state[e]=function(){return t.call(r||n)}},addQueryValueHandler:function(e,t,r){e=e.toLowerCase(),T.value[e]=function(){return t.call(r||n)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!T.exec[e]}}),m({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var r,i=n.getDoc();try{v(t)}catch(o){r=h}if("paste"!==t||i.queryCommandEnabled(t)||(r=!0),r||!i.queryCommandSupported(t)){var a=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(k.isCollapsed()){var e=n.dom.getParent(n.selection.getStart(),"a");e&&n.dom.remove(e,!0)}else S.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),function(e){t!=e&&S.remove("align"+e)}),"none"!=t&&y("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;v(e),(t=w.getParent(k.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((n=t.parentNode).nodeName)&&(x(),w.split(n,t),C())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&n<=7&&(i=d(N.font_size_style_values),n=(r=d(N.font_size_classes))?r[n-1]||n:i[n-1]||n),y(e,n)},RemoveFormat:function(e){S.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var e=k.getBookmark();n.setContent(n.getContent({cleanup:h}),{cleanup:h}),k.moveToBookmark(e)},mceRemoveNode:function(e,t,r){var i=r||k.getNode();i!=n.getBody()&&(x(),n.dom.remove(i,h),C())},mceSelectNodeDepth:function(e,t,r){var i=0;w.getParent(k.getNode(),function(e){if(1==e.nodeType&&i++==r)return k.select(e),p},n.getBody())},mceSelectNode:function(e,t,n){k.select(n)},mceInsertContent:function(e,t,r){o.insertAtCaret(n,r)},mceInsertRawHTML:function(e,t,r){k.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(e,t,r){n.setContent(r)},"Indent,Outdent":function(e){var t,r,i;r=/[a-z%]+$/i.exec(t=N.indentation),t=parseInt(t,10),g("InsertUnorderedList")||g("InsertOrderedList")?v(e):(N.forced_root_block||w.getParent(k.getNode(),w.isBlock)||S.apply("div"),s(k.getSelectedBlocks(),function(o){if("false"!==w.getContentEditable(o)&&"LI"!==o.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a="TABLE"===o.nodeName?"margin":a,a+="rtl"==w.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(i=Math.max(0,parseInt(o.style[a]||0,10)-t),w.setStyle(o,a,i?i+r:"")):(i=parseInt(o.style[a]||0,10)+t+r,w.setStyle(o,a,i))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,r){n.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,k.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=w.getParent(k.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||S.remove("link"),n.href&&S.apply("link",n,r)},selectAll:function(){var e,t=w.getRoot();if(k.getRng().setStart){var n=w.getParent(k.getStart(),a.isContentEditableTrue);n&&((e=w.createRng()).selectNodeContents(n),k.setRng(e))}else(e=k.getRng()).item||(e.moveToElementText(t),e.select())},delete:function(){v("Delete");var e=n.getBody();w.isEmpty(e)&&(n.setContent(""),e.firstChild&&w.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(e,t,o){var a,s,l,u=o,c=k.getRng(!0);new r(w).normalize(c);var d=c.startOffset,p=c.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var g=d>p.childNodes.length-1;p=p.childNodes[Math.min(d,p.childNodes.length-1)]||p,d=g&&3==p.nodeType?p.nodeValue.length:0}var m=w.getParent(p,w.isBlock),v=m?m.nodeName.toUpperCase():"",b=m?w.getParent(m.parentNode,w.isBlock):null,y=b?b.nodeName.toUpperCase():"";"LI"!=y||u&&u.ctrlKey||(m=b,v=y),p&&3==p.nodeType&&d>=p.nodeValue.length&&(f||function(){for(var e,t=new i(p,m),r=n.schema.getNonEmptyElements();e=t.next();)if(r[e.nodeName.toLowerCase()]||e.length>0)return!0}()||(a=w.create("br"),c.insertNode(a),c.setStartAfter(a),c.setEndAfter(a),s=!0)),a=w.create("br"),c.insertNode(a);var x=w.doc.documentMode;return f&&"PRE"==v&&(!x||x<8)&&a.parentNode.insertBefore(w.doc.createTextNode("\r"),a),l=w.create("span",{},"&nbsp;"),a.parentNode.insertBefore(l,a),k.scrollIntoView(l),w.remove(l),s?(c.setStartBefore(a),c.setEndBefore(a)):(c.setStartAfter(a),c.setEndAfter(a)),k.setRng(c),n.undoManager.add(),h}}),m({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=k.isCollapsed()?[w.getParent(k.getNode(),w.isBlock)]:k.getSelectedBlocks(),r=u(n,function(e){return!!S.matchNode(e,t)});return-1!==c(r,h)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return b(e)},mceBlockQuote:function(){return b("blockquote")},Outdent:function(){var e;if(N.inline_styles){if((e=w.getParent(k.getStart(),w.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return h;if((e=w.getParent(k.getEnd(),w.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return h}return g("InsertUnorderedList")||g("InsertOrderedList")||!N.inline_styles&&!!w.getParent(k.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=w.getParent(k.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),m({"FontSize,FontName":function(e){var t,n=0;return(t=w.getParent(k.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),m({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),n(ae,[f],function(e){function t(e,o){var a,s,l=this;if(e=r(e),a=(o=l.settings=o||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))l.source=e;else{var u=0===e.indexOf("//");0!==e.indexOf("/")||u||(e=(a&&a.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(s=o.base_uri?o.base_uri.path:new t(location.href).directory,""===o.base_uri.protocol?e="//mce_host"+l.toAbsPath(s,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(i,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),l[t]=r}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),u&&(l.protocol="")}}var n=e.each,r=e.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,r=this;if("./"===e)return e;if("mce_host"!=(e=new t(e,{base_uri:r})).host&&r.host!=e.host&&e.host||r.port!=e.port||r.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=r.getURI(),o=e.getURI();return i==o||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==o?i:(n=r.toRelPath(r.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return(e=new t(e,{base_uri:this})).getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;r<i;r++)if(r>=n.length||e[r]!=n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=e.length||e[r]!=n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);r<i;r++)a+="../";for(r=o-1,i=n.length;r<i;r++)a+=r!=o-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var r,i,o,a=0,s=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,r=t.length-1,s=[];r>=0;r--)0!==t[r].length&&"."!==t[r]&&(".."!==t[r]?a>0?a--:s.push(t[r]):a++);return 0!==(o=(r=e.length-a)<=0?s.reverse().join("/"):e.slice(0,r).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},t}),n(se,[f],function(e){function t(){}var n,r,i=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,i=this;if(!r&&(i.init&&i.init.apply(i,arguments),t=i.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(i,arguments)}function a(){return this}function s(e,t){return function(){var n,r=this,i=r._super;return r._super=d[e],n=t.apply(r,arguments),r._super=i,n}}var l,u,c,d=this.prototype;for(u in r=!0,l=new this,r=!1,e.Mixins&&(i(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),d.Mixins&&(e.Mixins=d.Mixins.concat(e.Mixins))),e.Methods&&i(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&i(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&i(e.Statics,function(e,n){t[n]=e}),e.Defaults&&d.Defaults&&(e.Defaults=o({},d.Defaults,e.Defaults)),e)l[u]="function"==typeof(c=e[u])&&d[u]?s(u,c):c;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),n(le,[f],function(e){function t(t){function n(){return!1}function r(){return!0}function i(t,r,i,o){var a,c,d;if(!1===r&&(r=n),r)for(r={func:r},o&&e.extend(r,o),d=(c=t.toLowerCase().split(" ")).length;d--;)(a=u[t=c[d]])||(a=u[t]=[],s(t,!0)),i?a.unshift(r):a.push(r);return l}function o(e,t){var n,r,i,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(r=u[e=o[n]],!e){for(i in u)s(i,!1),delete u[i];return l}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),u[e]=r);else r.length=0;r.length||(s(e,!1),delete u[e])}}else{for(e in u)s(e,!1);u={}}return l}var a,s,l=this,u={};a=(t=t||{}).scope||l,s=t.toggleEvent||n,l.fire=function(e,i){var s,l,c,d;if(e=e.toLowerCase(),(i=i||{}).type=e,i.target||(i.target=a),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=r},i.stopPropagation=function(){i.isPropagationStopped=r},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=r},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),s=u[e])for(l=0,c=s.length;l<c;l++){if((d=s[l]).once&&o(e,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===d.func.call(a,i))return i.preventDefault(),i}return i},l.on=i,l.off=o,l.once=function(e,t,n){return i(e,t,n,{once:!0})},l.has=function(e){return e=e.toLowerCase(),!(!u[e]||0===u[e].length)}}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),n(ue,[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}var o;return e.on("change:"+r,function(e){t.set(n,e.value)}),t.on("change:"+n,i),(o=e._bindings)||(o=e._bindings=[],e.on("destroy",function(){for(var e=o.length;e--;)o[e]()})),o.push(function(){t.off("change:"+n,i)}),t.get(n)}})},e}),n(ce,[le],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&"remove"!==e)return n;if(n=t(i).fire(e,n,r),!1!==r&&i.parent)for(var o=i.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),n(de,[ue,ce,se,f],function(e,t,n,r){function i(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(i(e)||i(t))return e===t;for(n in a={},t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,r;for(n in t=t||{})(r=t[n])instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,i,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(r in t)this.set(r,t[r]);return this}return o(a,n)||(this.data[t]=n,this.fire("change:"+t,i={target:this,name:t,value:n,oldValue:a}),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),n(fe,[se],function(e){var t,n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,o=e.extend({init:function(e){function t(e){var t;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(t=a(e[1],[]),function(e){return!s(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}function o(e,r,o){function a(e){e&&r.push(e)}var s;return a(function(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}((s=n.exec(e.replace(i,"")))[1])),a(function(e){if(e)return function(t){return t._name===e}}(s[2])),a(function(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(s[3])),a(function(e,t,n){if(e)return function(r){var i=r[e]?r[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!=n:"^="===t?0===i.indexOf(n):"$="===t&&i.substr(i.length-n.length)===n:!!n}}(s[4],s[5],s[6])),a(t(s[7])),r.pseudo=!!s[7],r.direct=o,r}function a(e,t){var n,i,s,l=[];do{if(r.exec(""),(i=r.exec(e))&&(e=i[3],l.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&a(n,t),e=[],s=0;s<l.length;s++)">"!=l[s]&&e.push(o(l[s],[],">"===l[s-1]));return t.push(e),t}var s=this.match;this._selectors=a(e,[])},match:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(p=e,h=0,i=(o=(a=t[n]).length)-1;i>=0;i--)for(u=a[i];p;){if(u.pseudo)for(c=d=(f=p.parent().items()).length;c--&&f[c]!==p;);for(s=0,l=u.length;s<l;s++)if(!u[s](p,c,d)){s=l+1;break}if(s===l){h++;break}if(i===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(e){function n(e,t,r){var i,o,s,l,u,c=t[r];for(i=0,o=e.length;i<o;i++){for(u=e[i],s=0,l=c.length;s<l;s++)if(!c[s](u,i,o)){s=l+1;break}if(s===l)r==t.length-1?a.push(u):u.items&&n(u.items(),t,r+1);else if(c.direct)return;u.items&&n(u.items(),t,r)}}var r,i,a=[],s=this._selectors;if(e.items){for(r=0,i=s.length;r<i;r++)n(e.items(),s[r],0);i>1&&(a=function(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}(a))}return t||(t=o.Collection),new t(a)}});return o}),n(he,[f,fe,se],function(e,t,n){var r,i,o=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof r?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,r=n.length;for(n.length=0,n.add(e),t=n.length;t<r;t++)delete n[t];return n},filter:function(e){var n,i,o,a,s=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,i=this.length;n<i;n++)a(o=this[n])&&s.push(o);return new r(s)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,r=this;return void 0!==t?(r.each(function(n){n[e]&&n[e](t)}),r):(n=r[0])&&n[e]?n[e]():void 0},exec:function(t){var n=e.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),n(pe,[l,f,y],function(e,t,n){var r=0,i={id:function(){return"mceu_"+r++},create:function(e,r,i){var o=document.createElement(e);return n.DOM.setAttribs(o,r),"string"==typeof i?o.innerHTML=i:t.each(i,function(e){e.nodeType&&o.appendChild(e)}),o},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||i.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,r){return n.DOM.toggleClass(e,t,r)},css:function(e,t,r){return n.DOM.setStyle(e,t,r)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,r,i){return n.DOM.bind(e,t,r,i)},off:function(e,t,r){return n.DOM.unbind(e,t,r)},fire:function(e,t,r){return n.DOM.fire(e,t,r)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return i}),n(ge,[],function(){return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}}}),n(me,[f],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),n(ve,[s],function(e){var t,n={};return{add:function(r){var i=r.parent();if(i){if(!i._layout||i._layout.isNative())return;n[i._id]||(n[i._id]=i),t||(t=!0,e.requestAnimationFrame(function(){var e,r;for(e in t=!1,n)(r=n[e]).state.get("rendered")&&r.reflow();n={}},document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}}),n(be,[se,f,le,de,he,pe,h,ge,me,ve],function(e,t,n,r,i,o,a,s,l,u){function c(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){r&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function r(t){var n,r,i,o=e.getParentCtrl(t.target),a=u._lastHoverCtrl,s=0;if(o!==a){if(u._lastHoverCtrl=o,(r=o.parents().toArray().reverse()).push(o),a){for((i=a.parents().toArray().reverse()).push(a),s=0;s<i.length&&r[s]===i[s];s++);for(n=i.length-1;n>=s;n--)(a=i[n]).fire("mouseleave",{target:a.getEl()})}for(n=s;n<r.length;n++)(o=r[n]).fire("mouseenter",{target:o.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,l,u,c,d;if(c=e._nativeEvents){for((l=e.parents().toArray()).unshift(e),o=0,s=l.length;!u&&o<s;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||e),e._eventsRoot=u,s=o,o=0;o<s;o++)l[o]._eventsRoot=u;var f=u._delegates;for(d in f||(f=u._delegates={}),c){if(!c)return!1;"wheel"!==d||p?("mouseenter"===d||"mouseleave"===d?u._hasMouseEnter||(a(u.getEl()).on("mouseleave",n).on("mouseover",r),u._hasMouseEnter=1):f[d]||(a(u.getEl()).on(d,t),f[d]=!0),c[d]=!1):h?a(e.getEl()).on("mousewheel",i):a(e.getEl()).on("DOMMouseScroll",i)}}}var f,h="onmousewheel"in document,p=!1,g="mce-",m=0,v={Statics:{classPrefix:g},isRtl:function(){return f.rtl},classPrefix:g,init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)u.classes.add(e[t])}var i,o,u=this;u.settings=e=t.extend({},u.Defaults,e),u._id=e.id||"mceu_"+m++,u._aria={role:e.role},u._elmCache={},u.$=a,u.state=new r({visible:!0,active:!1,disabled:!1,value:""}),u.data=new r(e.data),u.classes=new l(function(){u.state.get("rendered")&&(u.getEl().className=this.toString())}),u.classes.prefix=u.classPrefix,(i=e.classes)&&(u.Defaults&&(o=u.Defaults.classes)&&i!=o&&n(o),n(i)),t.each("title text name visible disabled active value".split(" "),function(t){t in e&&u[t](e[t])}),u.on("click",function(){if(u.disabled())return!1}),u.settings=e,u.borderBox=s.parseBox(e.border),u.paddingBox=s.parseBox(e.padding),u.marginBox=s.parseBox(e.margin),e.hidden&&u.hide()},Properties:"parent,name",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,i,a,l,u,c,d,f=this,h=f.settings,p=f.getEl();e=f.borderBox=f.borderBox||s.measureBox(p,"border"),f.paddingBox=f.paddingBox||s.measureBox(p,"padding"),f.marginBox=f.marginBox||s.measureBox(p,"margin"),d=o.getSize(p),i=(u=h.minWidth)||d.width,a=(c=h.minHeight)||d.height,n=h.width,r=h.height,l=void 0!==(l=h.autoResize)?l:!n&&!r;var g=e.left+e.right,m=e.top+e.bottom,v=h.maxWidth||65535,b=h.maxHeight||65535;return f._layoutRect=t={x:h.x||0,y:h.y||0,w:n=n||i,h:r=r||a,deltaW:g,deltaH:m,contentW:n-g,contentH:r-m,innerW:n-g,innerH:r-m,startMinWidth:u||0,startMinHeight:c||0,minW:Math.min(i,v),minH:Math.min(a,b),maxW:v,maxH:b,autoResize:l,scrollW:0},f._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,i,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(r=l.deltaW,i=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),(n=e.w)!==o&&(l.w=n=(n=n<l.minW?l.minW:n)>l.maxW?l.maxW:n,l.innerW=n-r),(n=e.h)!==o&&(l.h=n=(n=n<l.minH?l.minH:n)>l.maxH?l.maxH:n,l.innerH=n-i),(n=e.innerW)!==o&&(l.innerW=n=(n=n<l.minW-r?l.minW-r:n)>l.maxW-r?l.maxW-r:n,l.w=n+r),(n=e.innerH)!==o&&(l.innerH=n=(n=n<l.minH-i?l.minH-i:n)>l.maxH-i?l.maxH-i:n,l.h=n+i),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),(t=s._lastLayoutRect).x===l.x&&t.y===l.y&&t.w===l.w&&t.h===l.h||((a=f.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,r,i,o,a,s,l,u,c=this;l=document.createRange?function(e){return e}:Math.round,e=c.getEl().style,o=(i=c.borderBox).left+i.right,a=i.top+i.bottom,(r=c._layoutRect).x!==(s=c._lastRepaintRect||{}).x&&(e.left=l(r.x)+"px",s.x=r.x),r.y!==s.y&&(e.top=l(r.y)+"px",s.y=r.y),r.w!==s.w&&(u=l(r.w-o),e.width=(u>=0?u:0)+"px",s.w=r.w),r.h!==s.h&&(u=l(r.h-a),e.height=(u>=0?u:0)+"px",s.h=r.h),c._hasBody&&r.innerW!==s.innerW&&(u=l(r.innerW),(n=c.getEl("body"))&&((t=n.style).width=(u>=0?u:0)+"px"),s.innerW=r.innerW),c._hasBody&&r.innerH!==s.innerH&&(u=l(r.innerH),(n=n||c.getEl("body"))&&((t=t||n.style).height=(u>=0?u:0)+"px"),s.innerH=r.innerH),c._lastRepaintRect=s,c.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,o.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return c(n).on(e,function(e){var t,r;return"string"!=typeof e?e:function(i){return t||n.parentsAndSelf().each(function(n){var i=n.settings.callbacks;if(i&&(t=i[e]))return r=n,!1}),t?t.call(r,i):(i.action=e,void this.fire("execute",i))}}(t)),n},off:function(e,t){return c(this).off(e,t),this},fire:function(e,t,n){var r=this;if((t=t||{}).control||(t.control=r),t=c(r).fire(e,t),!1!==n&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return c(this).has(e)},parents:function(e){var t,n=new i;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return f.translate?f.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,r=n.getEl(),i=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}i&&i.items&&(e=[],i.items().each(function(t){t!==n&&e.push(t)}),i.items().set(e),i._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(r).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,i,o=this,s=o.settings;for(r in o.$el=a(o.getEl()),o.state.set("rendered",!0),s)0===r.indexOf("on")&&o.on(r.substr(2),s[r]);if(o._eventsRoot){for(n=o.parent();!i&&n;n=n.parent())i=n._eventsRoot;if(i)for(r in i._nativeEvents)o._nativeEvents[r]=!0}d(o),s.style&&(e=o.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style),o.settings.border&&o.$el.css({"border-top-width":(t=o.borderBox).top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left});var l=o.getRoot();for(var c in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o,o._aria)o.aria(c,o._aria[c]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),u.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,i,o,a,s=this.getEl(),l=s.parentNode,u=function(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}(s,l);return t=u.x,n=u.y,r=s.offsetWidth,i=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(t-=o-r,n-=a-i):"center"==e&&(t-=o/2-r/2,n-=a/2-i/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){u.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),f=e.extend(v)}),n(ye,[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,r){var i,o,a;if(!e){for(o in a=tinymce.ui)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(r=r||{}).type=n:n=(r=n).type,n=n.toLowerCase(),!(i=t[n]))throw new Error("Could not find control by type: "+n);return(i=new i(r)).type=n,i}}}),n(xe,[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return t(e=e||v)?e.getAttribute("role"):null}function r(e){for(var t,r=e||v;r=r.parentNode;)if(t=n(r))return t}function i(e){var n=v;if(t(n))return n.getAttribute("aria-"+e)}function o(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function a(e){return!(!o(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){var t=[];return function e(n){if(1==n.nodeType&&"none"!=n.style.display&&!n.disabled){a(n)&&t.push(n);for(var r=0;r<n.childNodes.length;r++)e(n.childNodes[r])}}(e||x.getEl()),t}function l(e){var t,n;(n=(e=e||b).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function u(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function c(e,t){var n=-1,r=l();t=t||s(r.getEl());for(var i=0;i<t.length;i++)t[i]===v&&(n=i);r.lastAriaIndex=u(n+=e,t)}function d(){"tablist"==r()?c(-1,s(v.parentNode)):b.parent().submenu?g():c(-1)}function f(){var e=n(),t=r();"tablist"==t?c(1,s(v.parentNode)):"menuitem"==e&&"menu"==t&&i("haspopup")?m():c(1)}function h(){c(-1)}function p(){var e=n(),t=r();"menuitem"==e&&"menubar"==t?m():"button"==e&&i("haspopup")?m({key:"down"}):c(1)}function g(){b.fire("cancel")}function m(e){b.fire("click",{target:v,aria:e=e||{}})}var v,b,x=e.root;try{v=document.activeElement}catch(y){v=document.body}return b=x.getParentCtrl(v),x.on("keydown",function(e){function t(e,t){o(v)||"slider"!==n(v)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,f);break;case 38:t(e,h);break;case 40:t(e,p);break;case 27:g();break;case 14:case 13:case 32:t(e,m);break;case 9:!1!==function(e){if("tablist"==r()){var t=s(b.getEl("body"))[0];t&&t.focus()}else c(e.shiftKey?-1:1)}(e)&&e.preventDefault()}}),x.on("focusin",function(e){v=e.target,b=e.control}),{focusFirst:function(e){var t=l(e),n=s(t.getEl());u(t.settings.ariaRemember&&"lastAriaIndex"in t?t.lastAriaIndex:0,n)}}}}),n(Ce,[be,he,fe,ye,xe,f,h,me,ve],function(e,t,n,r,i,o,a,s,l){var u={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||"")+"layout"),n.add(n.settings.items?n.settings.items:n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new n(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,r,i=this;return e&&(n=i.keyboardNav||i.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(i):(r=i.find("*"),i.statusbar&&r.add(i.statusbar.items()),r.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),i)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,i=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=o.extend({},i.settings.defaults,t),t.type=n.type=n.type||t.type||i.settings.defaultType||(n.defaults?n.defaults.type:null),t=r.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||((r=e.getEl("body")).hasChildNodes()&&n<=r.childNodes.length-1?a(r.childNodes[n]).before(t.renderHtml()):a(r).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r,i,o,a=this;return e=a.create(e),r=a.items(),!n&&t<r.length-1&&(t+=1),t>=0&&t<r.length&&(i=r.slice(0,t).toArray(),o=r.slice(t).toArray(),r.set(i.concat(e,o))),a.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find("*").each(function(t){var n=t.name(),r=t.value();n&&void 0!==r&&(e[n]=r)}),e},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&t.$el.css({"border-top-width":(e=t.borderBox).top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),n(we,[h],function(e){function t(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(n,r){function i(){return f.getElementById(r.handle||n)}var o,a,s,l,u,c,d,f=r.document||document;r=r||{},s=function(n){var s,h,p=function(e){var t,n,r,i,o,a,s,l=Math.max;return r=l((t=e.documentElement).scrollWidth,(n=e.body).scrollWidth),i=l(t.clientWidth,n.clientWidth),o=l(t.offsetWidth,n.offsetWidth),a=l(t.scrollHeight,n.scrollHeight),s=l(t.clientHeight,n.clientHeight),{width:r<o?i:r,height:a<l(t.offsetHeight,n.offsetHeight)?s:a}}(f);t(n),n.preventDefault(),a=n.button,s=i(),c=n.screenX,d=n.screenY,h=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,o=e("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:h}).appendTo(f.body),e(f).on("mousemove touchmove",u).on("mouseup touchend",l),r.start(n)},u=function(e){return t(e),e.button!==a?l(e):(e.deltaX=e.screenX-c,e.deltaY=e.screenY-d,e.preventDefault(),void r.drag(e))},l=function(n){t(n),e(f).off("mousemove touchmove",u).off("mouseup touchend",l),o.remove(),r.stop&&r.stop(n)},this.destroy=function(){e(i()).off()},e(i()).on("mousedown touchstart",s)}}),n(ke,[h,we],function(e,t){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,u,c){var d,f,h,p,g,m,v,b;if(f=r.getEl("scroll"+t)){if(v=a.toLowerCase(),b=s.toLowerCase(),e(r.getEl("absend")).css(v,r.layoutRect()[l]-1),!u)return void e(f).css("display","none");e(f).css("display","block"),d=r.getEl("body"),h=r.getEl("scroll"+t+"t"),p=d["client"+s]-2*i,g=(p-=n&&o?f["client"+c]:0)/d["scroll"+s],(m={})[v]=d["offset"+a]+i,m[b]=p,e(f).css(m),(m={})[v]=d["scroll"+a]*g,m[b]=p*g,e(h).css(m)}}var n,o,a;a=r.getEl("body"),o=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n=a.scrollWidth>a.clientWidth,"Height"),t("v","Top","Height","contentH",o,"Width")}var r=this,i=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,function(){function n(n,o,a,s,l){var u,c=r._id+"-scroll"+n,d=r.classPrefix;e(r.getEl()).append('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+c+'t" class="'+d+'scrollbar-thumb"></div></div>'),r.draghelper=new t(c+"t",{start:function(){u=r.getEl("body")["scroll"+o],e("#"+c).addClass(d+"active")},drag:function(e){var t,c,d,f,h=r.layoutRect();c=h.contentW>h.innerW,d=h.contentH>h.innerH,f=r.getEl("body")["client"+a]-2*i,t=(f-=c&&d?r.getEl("scroll"+n)["client"+l]:0)/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+o]=u+e["delta"+s]/t},stop:function(){e("#"+c).removeClass(d+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(r.getEl("body")).on("scroll",n)),n())}}}),n(Se,[Ce,ke],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),n(_e,[pe],function(e){function t(t,n,r){var i,o,a,s,l,u,c,d,f,h;return f=e.getViewPort(),a=(o=e.getPos(n)).x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=f.x,s-=f.y),i=t.getEl(),l=(h=e.getSize(i)).width,u=h.height,c=(h=e.getSize(n)).width,d=h.height,"b"===(r=(r||"").split(""))[0]&&(s+=d),"r"===r[1]&&(a+=c),"c"===r[0]&&(s+=Math.round(d/2)),"c"===r[1]&&(a+=Math.round(c/2)),"b"===r[3]&&(s-=u),"r"===r[4]&&(a-=l),"c"===r[3]&&(s-=Math.round(u/2)),"c"===r[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),o=0;o<r.length;o++){var a=t(this,n,r[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return r[o]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return r[o]}return r[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return e<0?0:e+n>t&&(e=t-n)<0?0:e}var i=this;if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}}),n(Te,[pe],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),n(Ne,[Se,_e,Te,pe,h,s],function(e,t,n,r,i,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){function t(t,n){for(var r,i=0;i<p.length;i++)if(p[i]!=e)for(r=p[i].parent();r&&(r=r.parent());)r==e&&p[i].fixed(t).moveBy(0,n).repaint()}var n=r.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function l(e,t){var n,r,o=m.zIndex||65535;if(e)g.push(t);else for(n=g.length;n--;)g[n]===t&&g.splice(n,1);if(g.length)for(n=0;n<g.length;n++)g[n].modal&&(o++,r=g[n]),g[n].getEl().style.zIndex=o,g[n].zIndex=o,o++;var a=i("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?i(a).css("z-index",r.zIndex-1):a&&(a.parentNode.removeChild(a),h=!1),m.currentZIndex=o}function u(e){var t;for(t=p.length;t--;)p[t]===e&&p.splice(t,1);for(t=g.length;t--;)g[t]===e&&g.splice(t,1)}var c,d,f,h,p=[],g=[],m=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(c||(c=function(e){2!=e.button&&function(e){for(var t=p.length;t--;){var n=p[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(a(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},i(document).on("click touchstart",c)),function(){if(!f){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;f=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,m.hideAll())},i(window).on("resize",f)}}(),p.push(t)),e.autofix&&(d||(d=function(){var e;for(e=p.length;e--;)s(p[e])},i(window).on("scroll",d)),t.on("move",function(){s(this)})),t.on("postrender show",function(e){if(e.control==t){var n,r=t.classPrefix;t.modal&&!h&&((n=i("#"+r+"modal-block",t.getContainerElm()))[0]||(n=i('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(t.getContainerElm())),o.setTimeout(function(){n.addClass(r+"in"),i(t.getEl()).addClass(r+"in")}),h=!0),l(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=p.length;e--&&p[e]!==t;);return-1===e&&p.push(t),n},hide:function(){return u(this),l(!1,this),this._super()},hideAll:function(){m.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),l(!1,e)),e},remove:function(){u(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return m.hideAll=function(){for(var e=p.length;e--;){var t=p[e];t&&t.settings.autohide&&(t.hide(),p.splice(e,1))}},m}),n(Re,[Ne,Se,pe,h,we,ge,l,s],function(e,t,n,r,i,o,a,s){function l(e){var t,n=r("meta[name=viewport]")[0];!1!==a.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==c&&(c=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":c))}var u=[],c="",d=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var r=this;r._super(e),r.isRtl()&&r.classes.add("rtl"),r.classes.add("window"),r.bodyClasses.add("window-body"),r.state.set("fixed",!0),e.buttons&&(r.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:r.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),r.statusbar.classes.add("foot"),r.statusbar.parent(r)),r.on("click",function(e){var t=r.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&r.close()}),r.on("cancel",function(){r.close()}),r.aria("describedby",r.describedBy||r._id+"-none"),r.aria("label",e.title),r._fullscreen=!1},recalc:function(){var e,t,r,i,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(r=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:r}),i=!0),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=a.layoutRect().minW+e.deltaW)>e.w&&(r=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:r}),i=!0)),i&&o.recalc()},initLayoutRect:function(){var e,t=this,r=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);r.headerW=o.width,r.headerH=o.height,i+=r.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),r.deltaH+=i,r.minH+=i,r.h+=i;var a=n.getWindowSize();return r.x=t.settings.x||Math.max(0,a.w/2-r.w/2),r.y=t.settings.y||Math.max(0,a.h/2-r.h/2),r},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,i,a=this,l=document.documentElement,u=a.classPrefix;if(e!=a._fullscreen)if(r(window).on("resize",function(){var e;if(a._fullscreen)if(t)a._timer||(a._timer=s.setTimeout(function(){var e=n.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0},50));else{e=(new Date).getTime();var r=n.getWindowSize();a.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e>50&&(t=!0)}}),i=a.layoutRect(),a._fullscreen=e,e){a._initial={x:i.x,y:i.y,w:i.w,h:i.h},a.borderBox=o.parseBox("0"),a.getEl("head").style.display="none",i.deltaH-=i.headerH+2,r([l,document.body]).addClass(u+"fullscreen"),a.classes.add("fullscreen");var c=n.getWindowSize();a.moveTo(0,0).resizeTo(c.w,c.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl("head").style.display="",i.deltaH+=i.headerH,r([l,document.body]).removeClass(u+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in"),t.fire("open")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new i(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),u.push(t),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),function(e,t){(function(){for(var e=0;e<u.length;e++)if(u[e]._fullscreen)return!0;return!1})()&&r([document.documentElement,document.body]).removeClass(e+"fullscreen")}(t.classPrefix),e=u.length;e--;)u[e]===t&&u.splice(e,1);l(u.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var t=window.innerWidth,n=window.innerHeight;e.w==t&&e.h==n||(e={w:t,h:n},r(window).trigger("resize"))},100)}r(window).on("resize",function(){var e,t,r=n.getWindowSize();for(e=0;e<u.length;e++)t=u[e].layoutRect(),u[e].moveTo(u[e].settings.x||Math.max(0,r.w/2-t.w/2),u[e].settings.y||Math.max(0,r.h/2-t.h/2))})}(),d}),n(Ee,[Re],function(e){var t=e.extend({init:function(e){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function r(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var i,o=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[r("Ok",!0,!0),r("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[r("Yes",1,!0),r("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(r("Cancel",-1));break;default:i=[r("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),n(Ae,[Re,Ee],function(e,t){return function(n){function r(){if(s.length)return s[s.length-1]}function i(e){n.fire("OpenWindow",{win:e})}function o(e){n.fire("CloseWindow",{win:e})}var a=this,s=[];a.windows=s,n.on("remove",function(){for(var e=s.length;e--;)s[e].close()}),a.open=function(t,r){var a;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on("close",function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),o(a)}),t.data&&a.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),a.features=t||{},a.params=r||{},1===s.length&&n.nodeChanged(),i(a=a.renderTo().reflow()),a},a.alert=function(e,r,a){var s;(s=t.alert(e,function(){r?r.call(a||this):n.focus()})).on("close",function(){o(s)}),i(s)},a.confirm=function(e,n,r){var a;(a=t.confirm(e,function(e){n.call(r||this,e)})).on("close",function(){o(a)}),i(a)},a.close=function(){r()&&r().close()},a.getParams=function(){return r()?r().params:null},a.setParams=function(e){r()&&(r().params=e)},a.getWindows=function(){return s}}}),n(Me,[be,_e],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t;(e=this.getEl().style).left=(t=this._layoutRect).x+"px",e.top=t.y+"px",e.zIndex=131070}})}),n(Pe,[be,Me],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==r.tooltips&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==i),r.classes.toggle("tooltip-nw","bc-tl"==i),r.classes.toggle("tooltip-ne","bc-tr"==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),n(De,[Pe],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+e+'bar-container"><div class="'+e+'bar"></div></div><div class="'+e+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),n(Be,[be,_e,De,s],function(e,t,n,r){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true">\xd7</button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+"</div>"},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t;(e=this.getEl().style).left=(t=this._layoutRect).x+"px",e.top=t.y+"px",e.zIndex=65534}})}),n(Ie,[Be,s,f],function(e,t,n){return function(r){function i(){if(l.length)return l[l.length-1]}function o(){if(l.length>0){var e=l.slice(0,1)[0],t=r.inline?r.getElement():r.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),l.length>1)for(var n=1;n<l.length;n++)l[n].moveRel(l[n-1].getEl(),"bc-tc")}}function a(e,t){if(t.progressBar||t.timeout)return null;var r=n.grep(e,function(e){return function(e,t){return e.type===t.settings.type&&e.text===t.settings.text}(t,e)});return 0===r.length?null:r[0]}var s=this,l=[];s.notifications=l,r.on("remove",function(){for(var e=l.length;e--;)l[e].close()}),r.on("ResizeEditor",o),r.on("ResizeWindow",function(){t.requestAnimationFrame(function(){(function(){for(var e=0;e<l.length;e++)l[e].moveTo(0,0)})(),o()})}),s.open=function(t){if(!r.removed){var n;r.editorManager.setActive(r);var i=a(l,t);return null===i?(n=new e(t),l.push(n),t.timeout>0&&(n.timer=setTimeout(function(){n.close()},t.timeout)),n.on("close",function(){var e=l.length;for(n.timer&&r.getWin().clearTimeout(n.timer);e--;)l[e]===n&&l.splice(e,1);o()}),n.renderTo(),o()):n=i,n}},s.close=function(){i()&&i().close()},s.getNotifications=function(){return l},r.on("SkinLoaded",function(){var e=r.settings.service_message;e&&r.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),n(Le,[y],function(e){return{create:function(t,n,r){for(var i=[];n&&n!=t;n=n.parentNode)i.push(e.nodeIndex(n,r));return i},resolve:function(e,t){var n,r,i;for(r=e,n=t.length-1;n>=0;n--){if(t[n]>(i=r.childNodes).length-1)return null;r=i[t[n]]}return r}}}),n(Oe,[I,_,g,Le,N,v,l,f,s,S,W,ne],function(e,t,n,r,i,o,a,s,l,u,c,d){return function(f){function h(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(n){}}function p(){return f.getDoc().documentMode||6}function g(e){return e.isDefaultPrevented()}function m(e){var t,n;e.dataTransfer&&(f.selection.isCollapsed()&&"IMG"==e.target.tagName&&E.select(e.target),(t=f.selection.getContent()).length>0&&(n=L+escape(f.id)+","+escape(t),e.dataTransfer.setData(O,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(O))&&t.indexOf(L)>=0?(t=t.substr(L.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function b(e){f.queryCommandSupported("mceInsertClipboardContent")?f.execCommand("mceInsertClipboardContent",!1,{content:e}):f.execCommand("mceInsertContent",!1,e)}function y(){f.shortcuts.add("meta+a",null,"SelectAll")}function x(){f.on("keydown",function(e){if(!g(e)&&e.keyCode===T){if(!f.getBody().getElementsByTagName("hr").length)return;if(E.isCollapsed()&&0===E.getRng(!0).startOffset){var t=E.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return R.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(R.remove(n),e.preventDefault())}}})}function C(){f.on("keydown",function(e){if(!g(e)&&e.keyCode===T&&E.isCollapsed()&&0===E.getRng(!0).startOffset){var t=E.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function w(){f.inline||(f.contentStyles.push("body {min-height: 150px}"),f.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void f.getBody().focus();t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged()}}))}function k(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),r=c.fromRangeStart(n),i=c.fromRangeEnd(n),o=t.prev(r),a=t.next(i);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&r.isEqual(o))&&(!a||a.isAtEnd()&&r.isEqual(a))}f.on("keypress",function(n){!g(n)&&!E.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(f)&&(n.preventDefault(),f.setContent(String.fromCharCode(n.charCode)),f.selection.select(f.getBody(),!0),f.selection.collapse(!1),f.nodeChanged())}),f.on("keydown",function(e){var n=e.keyCode;g(e)||n!=N&&n!=T||t(f)&&(e.preventDefault(),f.setContent(""),f.nodeChanged())})}var S=s.each,_=f.$,T=e.BACKSPACE,N=e.DELETE,R=f.dom,E=f.selection,A=f.settings,M=f.parser,P=f.serializer,D=a.gecko,B=a.ie,I=a.webkit,L="data:text/mce-internal,",O=B?"Text":"URL";return f.on("keydown",function(t){var n,r,i,o,a;if(!g(t)&&t.keyCode==e.BACKSPACE&&(r=(n=E.getRng()).startContainer,i=n.startOffset,o=R.getRoot(),a=r,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(f.formatter.toggle("blockquote",null,a),(n=R.createRng()).setStart(r,0),n.setEnd(r,0),E.setRng(n))}}),function(){function e(e){var t=R.create("body"),n=e.cloneContents();return t.appendChild(n),E.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var r=n.duplicate();return r.moveToElementText(f.getBody()),t.compareRanges(n,r)}var i=e(n),o=R.createRng();return o.selectNode(f.getBody()),i===e(o)}f.on("keydown",function(e){var t,r,i=e.keyCode;if(!g(e)&&(i==N||i==T)){if(t=f.selection.isCollapsed(),r=f.getBody(),t&&!R.isEmpty(r))return;if(!t&&!n(f.selection.getRng()))return;e.preventDefault(),f.setContent(""),r.firstChild&&R.isBlock(r.firstChild)?f.selection.setCursorLocation(r.firstChild,0):f.selection.setCursorLocation(r,0),f.nodeChanged()}})}(),a.windowsPhone||f.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||E.normalize()},!0),I&&(k(),function(){function i(e){var t=w.schema.getBlockElements(),n=f.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==_.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,r){var o,a,s;if(w.isChildOf(e,f.getBody()))for(s=w.schema.getNonEmptyElements(),o=new n(r||e,e);a=o[t?"next":"prev"]();){if(s[a.nodeName]&&!i(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(e){var n,r,i,o,s;if(!e.collapsed&&(n=w.getParent(t.getNode(e.startContainer,e.startOffset),w.isBlock),r=w.getParent(t.getNode(e.endContainer,e.endOffset),w.isBlock),s=f.schema.getTextBlockElements(),n!=r&&s[n.nodeName]&&s[r.nodeName]&&"false"!==w.getContentEditable(n)&&"false"!==w.getContentEditable(r)))return e.deleteContents(),i=a(n,!1),o=a(r,!0),w.isEmpty(r)||_(n).append(r.childNodes),_(r).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),k.setRng(e),!0}function c(e,n){var r,i,s,l,u,c;if(!e.collapsed)return e;if(c=e.startOffset,3==(u=e.startContainer).nodeType)if(n){if(c<u.data.length)return e}else if(c>0)return e;r=t.getNode(u,c),s=w.getParent(r,w.isBlock),i=a(f.getBody(),n,r),l=w.getParent(i,w.isBlock);var d=1===u.nodeType&&c>u.childNodes.length-1;if(!r||!i)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!o(l,s))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType&&d?e.setEndAfter(r):e.setEndBefore(r)}return e}function d(e,t){function n(e,n){return g=_(n).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),l=e.cloneNode(!1),(g=s.map(g,function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e})).length?(p=w.create("br"),g[0].appendChild(p),w.replace(l,e),t.setStartBefore(p),t.setEndBefore(p),f.selection.setRng(t),p):null}function i(e){return e&&f.schema.getTextBlockElements()[e.tagName]}var o,a,l,u,c,d,h,p,g;if(t.collapsed&&(h=t.startOffset,i(a=w.getParent(d=t.startContainer,w.isBlock))))if(1==d.nodeType){if((d=d.childNodes[h])&&"BR"!=d.tagName)return;if(c=e?a.nextSibling:a.previousSibling,w.isEmpty(a)&&i(c)&&w.isEmpty(c)&&n(a,d))return w.remove(c),!0}else if(3==d.nodeType){if(o=r.create(a,d),u=a.cloneNode(!0),d=r.resolve(u,o),e){if(h>=d.data.length)return;d.deleteData(h,1)}else{if(h<=0)return;d.deleteData(h-1,1)}if(w.isEmpty(u))return n(a,d)}}function h(e){var t,n,r;(function(e){var t=k.getRng();if(u(t=c(t,e)))return!0})(e)||(s.each(f.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&f.dom.setAttrib(e,"style",f.dom.getAttrib(e,"style"))}),(t=new S(function(){})).observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),f.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=f.selection.getRng(),r=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if(w.isChildOf(e.target,f.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,function(e){var t,i;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==r&&(t=n.startOffset,i=e.firstChild),w.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),f.selection.setRng(n)))})}}),t.disconnect(),s.each(f.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}function p(e){f.undoManager.transact(function(){h(e)})}var y,x,C=f.getDoc(),w=f.dom,k=f.selection,S=window.MutationObserver;S||(y=!0,S=function(){function e(e){var t=e.relatedNode||e.target;r.push({target:t,addedNodes:[t]})}function t(e){r.push({target:e.relatedNode||e.target,attributeName:e.attrName})}var n,r=[];this.observe=function(r){(n=r).addEventListener("DOMSubtreeModified",e,!1),n.addEventListener("DOMNodeInsertedIntoDocument",e,!1),n.addEventListener("DOMNodeInserted",e,!1),n.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",e,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),n.removeEventListener("DOMNodeInserted",e,!1),n.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return r}}),f.on("keydown",function(e){var t=e.keyCode==N,n=e.ctrlKey||e.metaKey;if(!g(e)&&(t||e.keyCode==T)){var r=f.selection.getRng(),i=r.startContainer,o=r.startOffset;if(t&&e.shiftKey)return;if(d(t,r))return void e.preventDefault();if(!n&&r.collapsed&&3==i.nodeType&&(t?o<i.data.length:o>0))return;e.preventDefault(),n&&f.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),h(t)}}),f.on("keypress",function(t){var n,r,i,o,a,s;!g(t)&&!k.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)&&(n=f.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),r=_(n.startContainer).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),h(!0),(r=r.filter(function(e,t){return!_.contains(f.getBody(),t)})).length?(i=w.createFragment(),r.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(a=t,i.appendChild(t)),i.appendChild(t)}),a.appendChild(f.getDoc().createTextNode(s)),o=w.getParent(n.startContainer,w.isBlock),w.isEmpty(o)?_(o).empty().append(i):n.insertNode(i),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),f.selection.setRng(n)):f.selection.setContent(s))}),f.addCommand("Delete",function(){h()}),f.addCommand("ForwardDelete",function(){h(!0)}),y||(f.on("dragstart",function(e){x=k.getRng(),m(e)}),f.on("drop",function(e){if(!g(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(f,function(){var r=t.getCaretRangeFromPoint(e.x,e.y,C);x&&(k.setRng(x),x=null,p()),k.setRng(r),b(n.html)}))}}),f.on("cut",function(e){g(e)||!e.clipboardData||f.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",f.selection.getContent()),e.clipboardData.setData("text/plain",f.selection.getContent({format:"text"})),l.setEditorTimeout(f,function(){p(!0)}))}))}(),f.settings.content_editable||R.bind(f.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==f.getDoc().documentElement)if(t=E.getRng(),f.getBody().focus(),"mousedown"==e.type){if(u.isCaretContainer(t.startContainer))return;E.placeCaretAt(e.clientX,e.clientY)}else E.setRng(t)}),f.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==R.getContentEditableParent(t)&&(e.preventDefault(),E.select(t),f.nodeChanged()),"A"==t.nodeName&&R.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),E.select(t))}),A.forced_root_block&&f.on("init",function(){h("DefaultParagraphSeparator",A.forced_root_block)}),f.on("init",function(){f.dom.bind(f.getBody(),"submit",function(e){e.preventDefault()})}),C(),M.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),a.iOS?(f.inline||f.on("keydown",function(){document.activeElement==document.body&&f.getWin().focus()}),w(),f.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):y()),B&&a.ie<11&&(x(),document.body.setAttribute("role","application"),p()>7||(h("RespectVisibilityInDesign",!0),f.contentStyles.push(".mceHideBrInPre pre br {display: none}"),R.addClass(f.getBody(),"mceHideBrInPre"),M.addNodeFilter("pre",function(e){for(var t,n,r,o,a=e.length;a--;)for(n=(t=e[a].getAll("br")).length;n--;)(o=(r=t[n]).prev)&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":r.parent.insert(new i("#text",3),r,!0).value="\n"}),P.addNodeFilter("pre",function(e){for(var t,n,r,i=e.length;i--;)for(n=(t=e[i].getAll("br")).length;n--;)(r=t[n].prev)&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))})),R.bind(f.getBody(),"mouseup",function(){var e,t=E.getNode();"IMG"==t.nodeName&&((e=R.getStyle(t,"width"))&&(R.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),R.setStyle(t,"width","")),(e=R.getStyle(t,"height"))&&(R.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),R.setStyle(t,"height","")))}),f.on("keydown",function(e){var t;g(e)||e.keyCode!=T||(t=f.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),R.remove(t.item(0)),f.undoManager.add())}),function(){var e;p()>=10&&(e="",S("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),f.contentStyles.push(e+"{padding-right: 1px !important}"))}(),p()<9&&(M.addNodeFilter("noscript",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).firstChild)&&t.attr("data-mce-innertext",n.value)}),P.addNodeFilter("noscript",function(e){for(var t,n,r,a=e.length;a--;)t=e[a],(n=e[a].firstChild)?n.value=o.decode(n.value):(r=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new i("#text",3)).value=r,n.raw=!0,t.append(n))})),function(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(a){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y))&&(r.compareEndPoints("StartToStart",i)>0?r.setEndPoint("StartToStart",i):r.setEndPoint("EndToEnd",i),r.select()):n()}function n(){var e=a.selection.createRange();i&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&i.select(),R.unbind(a,"mouseup",n),R.unbind(a,"mousemove",t),i=r=0}var r,i,o,a=R.doc,s=a.body;a.documentElement.unselectable=!0,R.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(r&&n(),(o=a.documentElement).scrollHeight>o.clientHeight)return;r=1,(i=e(s.x,s.y))&&(R.bind(a,"mouseup",n),R.bind(a,"mousemove",t),R.getRoot().focus(),i.select())}})}()),a.ie>=11&&(w(),C()),a.ie&&(y(),h("AutoUrlDetect",!1),f.on("dragstart",function(e){m(e)}),f.on("drop",function(e){if(!g(e)){var n=v(e);if(n&&n.id!=f.id){e.preventDefault();var r=t.getCaretRangeFromPoint(e.x,e.y,f.getDoc());E.setRng(r),b(n.html)}}})),D&&(k(),x(),window.Range.prototype.getClientRects||f.on("mousedown",function(e){if(!g(e)&&"HTML"===e.target.nodeName){var t=f.getBody();t.blur(),l.setEditorTimeout(f,function(){t.focus()})}}),function(){function e(){var e=R.getAttribs(E.getStart().cloneNode(!1));return function(){var t=E.getStart();t!==f.getBody()&&(R.setAttrib(t,"style",null),S(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!E.isCollapsed()&&R.getParent(E.getStart(),R.isBlock)!=R.getParent(E.getEnd(),R.isBlock)}f.on("keypress",function(n){var r;if(!g(n)&&(8==n.keyCode||46==n.keyCode)&&t())return r=e(),f.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1}),R.bind(f.getDoc(),"cut",function(n){var r;!g(n)&&t()&&(r=e(),l.setEditorTimeout(f,function(){r()}))})}(),A.readonly||f.on("BeforeExecCommand MouseDown",function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),A.object_resizing||h("enableObjectResizing",!1)}),f.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||S(R.select("a"),function(e){var t=e.parentNode,n=R.getRoot();if(t.lastChild===e){for(;t&&!R.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}R.add(t,"br",{"data-mce-bogus":1})}})}),f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),a.mac&&f.on("keydown",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),f.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))}),C()),{refreshContentEditable:function(){},isHidden:function(){var e;return D?!(e=f.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}}}}),n(Fe,[ce,y,f],function(e,t,n){function r(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=a.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){function n(e){return!e.hidden&&!e.readonly}var i,s=r(e,t);if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(o||(o={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&o){for(t in o)e.dom.unbind(r(e,t));o=null}})),o[t])return;i=function(r){for(var i=r.target,o=e.editorManager.editors,s=o.length;s--;){var l=o[s].getBody();(l===i||a.isChildOf(i,l))&&n(o[s])&&o[s].fire(t,r)}},o[t]=i,a.bind(s,t,i)}else a.bind(s,t,i=function(r){n(e)&&e.fire(t,r)}),e.delegates[t]=i}var o,a=t.DOM,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){i(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(r(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,s)}),n(He,[],function(){function e(e,t,r){try{e.getDoc().execCommand(t,!1,r)}catch(n){}}function t(t,n){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),n?(t._clickBlocker=function(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,"StyleWithCSS",!1),e(t,"enableInlineTableEditing",!1),e(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())}return{setMode:function(e,n){n!=(e.readonly?"readonly":"design")&&(e.initialized?t(e,"readonly"==n):e.on("init",function(){t(e,"readonly"==n)}),e.fire("SwitchMode",{mode:n}))}}}),n(ze,[f,l],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(e){var a,s,l={};for(s in n(r(e,"+"),function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=i[e]||e.toUpperCase().charCodeAt(0))}),a=[l.keyCode],o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,i,o){var l;return(l=e.map(r(t,">"),s))[l.length-1]=e.extend(l[l.length-1],{func:i,scope:o||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function u(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)}function c(e){return e.func?e.func.call(e.scope):null}var d={},f=[];a.on("keyup keypress keydown",function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(n(d,function(t){if(u(e,t))return f=t.subpatterns.slice(0),"keydown"==e.type&&c(t),!0}),u(e,f[0])&&(1===f.length&&"keydown"==e.type&&c(f[0]),f.shift()))}),this.add=function(t,i,o,s){var u;return u=o,"string"==typeof o?o=function(){a.execCommand(u,!1,null)}:e.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(r(e.trim(t.toLowerCase())),function(e){var t=l(e,i,o,s);d[t.id]=t}),!0},this.remove=function(e){var t=l(e);return!!d[t.id]&&(delete d[t.id],!0)}}}),n(We,[a,f,O],function(e,t,n){return function(r,i){function o(e){var t;return t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.blob().type.toLowerCase()]||"dat",e.filename()+"."+t}function a(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(o(e))}}function s(e,t,n,r){var o,a;(o=new XMLHttpRequest).open("POST",i.url),o.withCredentials=i.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;return 200!=o.status?void n("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?void t(function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}(i.basePath,e.location)):void n("Invalid JSON: "+o.responseText)},(a=new FormData).append("file",e.blob(),e.filename()),o.send(a)}function l(){return new e(function(e){e([])})}function u(e,t){return{url:t,blobInfo:e,status:!0}}function c(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function d(e,n){t.each(g[e],function(e){e(n)}),delete g[e]}function f(t,n,i){return r.markPending(t.blobUri()),new e(function(e){var o,s,l=function(){};try{var f=function(){o&&(o.close(),s=l)};s=function(e){e<0||e>100||(o||(o=i()),o.progressBar.value(e))},n(a(t),function(n){f(),r.markUploaded(t.blobUri(),n),d(t.blobUri(),u(t,n)),e(u(t,n))},function(n){f(),r.removeFailed(t.blobUri()),d(t.blobUri(),c(t,n)),e(c(t,n))},s)}catch(h){e(c(t,h.message))}})}function h(t){var n=t.blobUri();return new e(function(e){g[n]=g[n]||[],g[n].push(e)})}function p(n,o){return n=t.grep(n,function(e){return!r.isUploaded(e.blobUri())}),e.all(t.map(n,function(e){return r.isPending(e.blobUri())?h(e):f(e,i.handler,o)}))}var g={};return i=t.extend({credentials:!1,handler:s},i),{upload:function(e,t){return i.url||i.handler!==s?p(e,t):l()}}}}),n(Ve,[a],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}function r(t){return new e(function(e){var r,i,o;t=n(t);try{r=atob(t.data)}catch(a){return void e(new Blob([]))}for(i=new Uint8Array(r.length),o=0;o<i.length;o++)i[o]=r.charCodeAt(o);e(new Blob([i],{type:t.type}))})}return{uriToBlob:function(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?r(e):null},blobToDataUri:function(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},parseDataUri:n}}),n(Ue,[a,d,O,Ve,l],function(e,t,n,r,i){var o=0,a=function(e){return(e||"blobid")+o++};return function(o,s){var l={};return{findAll:function(u,c){var d,f;return c||(c=n.constant(!0)),d=t.filter(u.getElementsByTagName("img"),function(e){var t=e.src;return!!i.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==i.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&c(e))}),f=t.map(d,function(t){var n;return l[t.src]?new e(function(e){l[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e){!function(e,t){var n,i;0===e.src.indexOf("blob:")?(i=s.getByUri(e.src))?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(o){r.blobToDataUri(o).then(function(l){n=r.parseDataUri(l).data,i=s.create(a(),o,n),s.add(i),t({image:e,blobInfo:i})})}):(n=r.parseDataUri(e.src).data,(i=s.findFirst(function(e){return e.base64()===n}))?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(r){i=s.create(a(),r,n),s.add(i),t({image:e,blobInfo:i})}))}(t,e)}).then(function(e){return delete l[e.image.src],e}).catch(function(e){return delete l[t.src],e}),l[t.src]=n,n)}),e.all(f)}}}}),n(je,[d,O],function(e,t){return function(){function n(e){return r(function(t){return t.id()===e})}function r(t){return e.filter(i,t)[0]}var i=[],o=t.constant;return{create:function(e,t,n,r){return{id:o(e),filename:o(r||e),blob:o(t),base64:o(n),blobUri:o(URL.createObjectURL(t))}},add:function(e){n(e.id())||i.push(e)},get:n,getByUri:function(e){return r(function(t){return t.blobUri()==e})},findFirst:r,removeByUri:function(t){i=e.filter(i,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){e.each(i,function(e){URL.revokeObjectURL(e.blobUri())}),i=[]}}}}),n(qe,[],function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in n}var n={};return{hasBlobUri:t,getResultUri:function(e){var t=n[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(t){n[t]=e(1,null)},markUploaded:function(t,r){n[t]=e(2,r)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}}),n($e,[C],function(e){var t=e.PluginManager,n=function(e,n){for(var r in t.urls)if(t.urls[r]+"/plugin"+n+".js"===e)return r;return null},r=function(e,t){e.notificationManager.open({type:"error",text:t})},i=function(e,t){e._skinLoaded?r(e,t):e.on("SkinLoaded",function(){r(e,t)})};return{pluginLoadError:function(e,t){i(e,function(e,t){var r=n(t,e.suffix);return r?"Failed to load plugin: "+r+" from url "+t:"Failed to load plugin url: "+t}(e,t))},uploadError:function(e,t){i(e,"Failed to upload image: "+t)}}}),n(Ye,[d,We,Ue,je,qe,$e],function(e,t,n,r,i,o){return function(a){function s(e){return function(t){return a.selection?e(t):[]}}function l(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e}function u(e,t,n){return e=l(e,'src="'+t+'"','src="'+n+'"'),l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function c(t,n){e.each(a.undoManager.data,function(r){"fragmented"===r.type?r.fragments=e.map(r.fragments,function(e){return u(e,t,n)}):r.content=u(r.content,t,n)})}function d(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function f(n){return v||(v=new t(C,{url:x.images_upload_url,basePath:x.images_upload_base_path,credentials:x.images_upload_credentials,handler:x.images_upload_handler})),g().then(s(function(t){var r;return r=e.map(t,function(e){return e.blobInfo}),v.upload(r,d).then(s(function(r){return r=e.map(r,function(e,n){var r=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?function(e,t){y.removeByUri(e.src),c(e.src,t),a.$(e).attr({src:x.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":a.convertURL(t,"src")})}(r,e.url):e.error&&o.uploadError(a,e.error),{element:r,status:e.status}}),n&&n(r),r}))}))}function h(e){if(!1!==x.automatic_uploads)return f(e)}function p(e){return!x.images_dataimg_filter||x.images_dataimg_filter(e)}function g(){return b||(b=new n(C,y)),b.findAll(a.getBody(),p).then(s(function(t){return e.each(t,function(e){c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))}function m(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=C.getResultUri(n);if(r)return'src="'+r+'"';var i=y.getByUri(n);return i||(i=e.reduce(a.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t})}var v,b,y=new r,x=a.settings,C=new i;return a.on("setContent",function(){!1!==a.settings.automatic_uploads?h():g()}),a.on("RawSaveContent",function(e){e.content=m(e.content)}),a.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=m(e.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(t){e.each(t,function(e){var t=e.attr("src");if(!y.getByUri(t)){var n=C.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:y,uploadImages:f,uploadImagesAuto:h,scanForImages:g,destroy:function(){y.destroy(),C.destroy(),b=v=null}}}}),n(Xe,[S,W,w,_,h,H,s],function(e,t,n,r,i,o,a){var s=n.isContentEditableFalse;return function(t,n){function r(e,n){var r,i,a,s,l,u=o.collapse(e.getBoundingClientRect(),n);return"BODY"==t.tagName?(r=t.ownerDocument.documentElement,i=t.scrollLeft||r.scrollLeft,a=t.scrollTop||r.scrollTop):(l=t.getBoundingClientRect(),i=t.scrollLeft-l.left,a=t.scrollTop-l.top),u.left+=i,u.right+=i,u.top+=a,u.bottom+=a,u.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),u.left+=s,u.right+=s),u}function l(){(function(){var n,r,o,a,s;for(n=i("*[contentEditable=false]",t),a=0;a<n.length;a++)e.endsWithCaretContainer(o=(r=n[a]).previousSibling)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),e.startsWithCaretContainer(o=r.nextSibling)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))})(),f&&(e.remove(f),f=null),d&&(d.remove(),d=null),clearInterval(c)}function u(){c=a.setInterval(function(){i("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}var c,d,f;return{show:function(o,a){var c,h;return l(),n(a)?(f=e.insertBlock("p",a,o),c=r(a,o),i(f).css("top",c.top),d=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(c).appendTo(t),o&&d.addClass("mce-visual-caret-before"),u(),(h=a.ownerDocument.createRange()).setStart(f,0),h.setEnd(f,0),h):(f=e.insertInline(a,o),h=a.ownerDocument.createRange(),s(f.nextSibling)?(h.setStart(f,0),h.setEnd(f,0)):(h.setStart(f,1),h.setEnd(f,1)),h)},hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){a.clearInterval(c)}}}}),n(Ke,[d,w,H],function(e,t,n){return{getClientRects:function r(i){function o(t){return e.map(t,function(e){return(e=n.clone(e)).node=i,e})}if(e.isArray(i))return e.reduce(i,function(e,t){return e.concat(r(t))},[]);if(t.isElement(i))return o(i.getClientRects());if(t.isText(i)){var a=i.ownerDocument.createRange();return a.setStart(i,0),a.setEnd(i,i.data.length),o(a.getClientRects())}}}}),n(Ge,[O,d,Ke,F,te,ne,W,H],function(e,t,n,r,i,o,a,s){function l(e,t,n,o){for(;o=i.findNode(o,e,r.isEditableCaretCandidate,t);)if(n(o))return}function u(e,r,i,o,a,s){function u(o){var s,l,u;for(u=n.getClientRects(o),-1==e&&(u=u.reverse()),s=0;s<u.length;s++)if(!i(l=u[s],d)){if(h.length>0&&r(l,t.last(h))&&f++,l.line=f,a(l))return!0;h.push(l)}}var c,d,f=0,h=[];return(d=t.last(s.getClientRects()))?(u(c=s.getNode()),l(e,o,u,c),h):h}var c=e.curry;return{upUntil:c(u,-1,s.isAbove,s.isBelow),downUntil:c(u,1,s.isBelow,s.isAbove),positionsUntil:function(e,n,r,i){function l(e){return t.last(e.getClientRects())}var u,c,d,f,h,p,g=new o(n),m=[],v=0;1==e?(u=g.next,c=s.isBelow,d=s.isAbove,f=a.after(i)):(u=g.prev,c=s.isAbove,d=s.isBelow,f=a.before(i)),p=l(f);do{if(f.isVisible()&&!d(h=l(f),p)){if(m.length>0&&c(h,t.last(m))&&v++,(h=s.clone(h)).position=f,h.line=v,r(h))return m;m.push(h)}}while(f=u(f));return m},isAboveLine:c(function(e,t){return t.line>e}),isLine:c(function(e,t){return t.line===e})}}),n(Je,[O,d,w,Ke,H,te,F],function(e,t,n,r,i,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function u(e,n){function r(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var i,o;return i=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),r(n,t)?t:r(n,e)?e:o==i&&f(t.node)?t:o<i?t:e})}function c(e,t,n,r){for(;r=h(r,e,a.isEditableCaretCandidate,t);)if(n(r))return}function d(e,n){function o(e,i){var o;return o=t.filter(r.getClientRects(i),function(t){return!e(t,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),c(-1,e,p(o,i.isAbove),n.node),c(1,e,p(o,i.isBelow),n.node),a}var f=n.isContentEditableFalse,h=o.findNode,p=e.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:function(e,n,i){var o,a;return o=r.getClientRects(function(e){return t.filter(t.toArray(e.getElementsByTagName("*")),f)}(e)),(a=u(o=t.filter(o,function(e){return i>=e.top&&i<=e.bottom}),n))&&(a=u(d(e,a),n))&&f(a.node)?function(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}(a,n):null}}}),n(Qe,[],function(){var e=function(e){var t,n,r,i;return{top:(i=e.getBoundingClientRect()).top+(r=(t=e.ownerDocument).defaultView).pageYOffset-(n=t.documentElement).clientTop,left:i.left+r.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var r=e(t.getContentAreaContainer()),i=function(e){var t=e.getBody(),n=e.getDoc().documentElement;return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop}}(t);return{left:n.pageX-r.left+i.left,top:n.pageY-r.top+i.top}}return{left:n.pageX,top:n.pageY}};return{calc:function(e,r){return function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}(t(e),function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),n(e,r))}}}),n(Ze,[w,d,O,s,y,Qe],function(e,t,n,r,i,o){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},u=function(e,r){return function(i){if(0===i.button){var o=t.find(r.dom.getParents(i.target),n.or(a,s));if(function(e,t){return a(t)&&t!==e}(r.getBody(),o)){var l=r.dom.getPos(o),u=r.getBody(),c=r.getDoc().documentElement;e.element=o,e.screenX=i.screenX,e.screenY=i.screenY,e.maxX=(r.inline?u.scrollWidth:c.offsetWidth)-2,e.maxY=(r.inline?u.scrollHeight:c.offsetHeight)-2,e.relX=i.pageX-l.x,e.relY=i.pageY-l.y,e.width=o.offsetWidth,e.height=o.offsetHeight,e.ghost=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o}(r,o,e.width,e.height)}}}},c=function(e,t){var n=r.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&i>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,o.calc(t,r));(function(e,t){e.parentNode!==t&&t.appendChild(e)})(e.ghost,t.getBody()),function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"}(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},d=function(e,t){return function(n){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)}(t,function(e){var n=t.selection.getSel().getRangeAt(0).startContainer;return 3===n.nodeType?n.parentNode:n}(),e.element)){var r=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t}(e.element),i=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact(function(){l(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}f(e)}},f=function(e){e.dragging=!1,e.element=null,l(e.ghost)};return{init:function(e){(function(e){var t,n,r,o,a,s,l={};t=i.DOM,s=document,n=u(l,e),r=c(l,e),o=d(l,e),a=function(e,t){return function(){f(e),e.dragging&&t.fire("dragend")}}(l,e),e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(s,"mousemove",r),t.bind(s,"mouseup",a),e.on("remove",function(){t.unbind(s,"mousemove",r),t.unbind(s,"mouseup",a)})})(e),function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()})}(e)}}}),n(et,[l,ne,W,S,te,Xe,Ge,Je,w,_,H,I,O,d,s,Ze],function(e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,g){function m(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}var v=f.curry,b=l.isContentEditableTrue,y=l.isContentEditableFalse,x=l.isElement,C=i.isAfterContentEditableFalse,w=i.isBeforeContentEditableFalse,k=u.getSelectedNode;return function(u){function S(e){return u.dom.isBlock(e)}function _(e){e&&u.selection.setRng(e)}function T(){return u.selection.getRng()}function N(e,t){u.selection.scrollIntoView(e,t)}function R(e,t,n){return u.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(N(t,-1===e),ee.show(n,t))}function E(e){return u.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(e)}function A(e,t){var n=i.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function M(e,t){return t=i.normalizeRange(e,G,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return r.isCaretContainerBlock(e.startContainer)}function D(t,r){var i,o;if(r.collapsed&&u.settings.forced_root_block){if(!(i=u.dom.getParent(r.startContainer,"PRE")))return;(1==t?Q(n.fromRangeStart(r)):Z(n.fromRangeStart(r)))||(o=function(){var t=u.dom.create(u.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(),1==t?u.$(i).after(o):u.$(i).before(o),u.selection.select(o,!0),u.selection.collapse())}}function B(e,t,n,r){var i;return(i=function(e,t,n,r){var i,o,a,s;return!r.collapsed&&(i=k(r),y(i))?R(e,i,-1==e):(s=P(r),n(o=M(e,r))?E(o.getNode(-1==e)):(o=t(o))?n(o)?R(e,o.getNode(-1==e),1==e):n(a=t(o))&&A(o,a)?R(e,a.getNode(-1==e),1==e):s?F(o.toRange()):null:s?r:null)}(e,t,n,r))?i:(i=D(e,r))||null}function I(e,t,n){var r;return(r=function(e,t,n){var r,i,o,l,u,c,d,f,p;if(p=k(n),r=M(e,n),i=t(G,a.isAboveLine(1),r),o=h.filter(i,a.isLine(1)),u=h.last(r.getClientRects()),w(r)&&(p=r.getNode()),C(r)&&(p=r.getNode(!0)),!u)return null;if((l=s.findClosestClientRect(o,c=u.left))&&y(l.node))return d=Math.abs(c-l.left),f=Math.abs(c-l.right),R(e,l.node,d<f);if(p){var g=a.positionsUntil(e,G,a.isAboveLine(1),p);if(l=s.findClosestClientRect(h.filter(g,a.isLine(1)),c))return F(l.position.toRange());if(l=h.last(h.filter(g,a.isLine(0))))return F(l.position.toRange())}}(e,t,n))?r:(r=D(e,n))||null}function L(e){e.hasAttribute("data-mce-caret")&&(r.showCaretContainerBlock(e),_(T()),N(e[0]))}function O(e){var t,r;return e=i.normalizeRange(1,G,e),t=n.fromRangeStart(e),y(t.getNode())?R(1,t.getNode(),!t.isAtEnd()):y(t.getNode(!0))?R(1,t.getNode(!0),!1):(r=u.dom.getParent(t.getNode(),f.or(y,b)),y(r)?R(1,r,!1):null)}function F(e){return e&&e.collapsed&&O(e)||e}function H(e){var t,i,o,a;return y(e)?(y(e.previousSibling)&&(o=e.previousSibling),(i=Z(n.before(e)))||(t=Q(n.after(e))),t&&x(t.getNode())&&(a=t.getNode()),r.remove(e.previousSibling),r.remove(e.nextSibling),u.dom.remove(e),u.dom.isEmpty(u.getBody())?(u.setContent(""),void u.focus()):o?n.after(o).toRange():a?n.before(a).toRange():i?i.toRange():t?t.toRange():null):null}function z(e){var t=u.schema.getTextBlockElements();return e.nodeName in t}function W(e){return u.dom.isEmpty(e)}function V(e,t,r){var i,o,a,s,l=u.dom;if(i=l.getParent(t.getNode(),l.isBlock),o=l.getParent(r.getNode(),l.isBlock),-1===e){if(s=r.getNode(!0),C(r)&&S(s))return z(i)?(W(i)&&l.remove(i),n.after(s).toRange()):H(r.getNode(!0))}else if(s=t.getNode(),w(t)&&S(s))return z(o)?(W(o)&&l.remove(o),n.before(s).toRange()):H(t.getNode());if(i===o||!z(i)||!z(o))return null;for(;a=i.firstChild;)o.appendChild(a);return u.dom.remove(i),r.toRange()}function U(e,t,n,i){var o,a,s,l;return!i.collapsed&&(o=k(i),y(o))?F(H(o)):n(a=M(e,i))&&r.isCaretContainerBlock(i.startContainer)?(l=-1==e?J.prev(a):J.next(a))?F(l.toRange()):i:t(a)?F(H(a.getNode(-1==e))):t(s=-1==e?J.prev(a):J.next(a))?-1===e?V(e,a,s):V(e,s,a):void 0}function j(e){return r.isCaretContainer(e)||r.startsWithCaretContainer(e)||r.endsWithCaretContainer(e)}function q(e){return j(e.startContainer)||j(e.endContainer)}function $(t){var n,r,i,o,a,s,l,c,d,f,h=u.$,p=u.dom;if(!t)return null;if(t.collapsed){if(!q(t)){if(c=M(1,t),y(c.getNode()))return R(1,c.getNode(),!c.isAtEnd());if(y(c.getNode(!0)))return R(1,c.getNode(!0),!1)}return null}return a=t.startOffset,s=t.endOffset,3==(o=t.startContainer).nodeType&&0==a&&y(o.parentNode)&&(a=p.nodeIndex(o=o.parentNode),o=o.parentNode),1!=o.nodeType?null:(s==a+1&&(n=o.childNodes[a]),y(n)?(d=f=n.cloneNode(!0),(l=u.fire("ObjectSelected",{target:n,targetClone:d})).isDefaultPrevented()?null:(d=l.targetClone,0===(r=h("#"+te)).length&&(r=h('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",te)).appendTo(u.getBody()),t=u.dom.createRng(),d===f&&e.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(d),t.setStartAfter(r[0].firstChild.firstChild),t.setEndAfter(d)):(r.empty().append("\xa0").append(d).append("\xa0"),t.setStart(r[0].firstChild,1),t.setEnd(r[0].lastChild,0)),r.css({top:p.getPos(n,u.getBody()).y}),r[0].focus(),(i=u.selection.getSel()).removeAllRanges(),i.addRange(t),u.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),K=n,X(),t)):null)}function Y(){K&&(K.removeAttribute("data-mce-selected"),u.$("#"+te).remove(),K=null)}function X(){ee.hide()}var K,G=u.getBody(),J=new t(G),Q=v(m,J.next),Z=v(m,J.prev),ee=new o(u.getBody(),S),te="sel-"+u.dom.uniqueId(),ne=u.$;return e.ceFalse&&(function(){function i(e,t){if(!1===e.isDefaultPrevented()){var n=t(T());n&&(e.preventDefault(),_(n))}}function o(e){for(var t=u.getBody();e&&e!=t;){if(b(e)||y(e))return e;e=e.parentNode}return null}function l(){var e,t=o(u.selection.getNode());b(t)&&S(t)&&u.dom.isEmpty(t)&&(e=u.dom.create("br",{"data-mce-bogus":"1"}),u.$(t).empty().append(e),u.selection.setRng(n.before(e).toRange()))}var f=v(B,1,Q,w),m=v(B,-1,Z,C),x=v(U,1,w,C),k=v(U,-1,C,w),N=v(I,-1,a.upUntil),A=v(I,1,a.downUntil);u.on("mouseup",function(){var e=T();e.collapsed&&_(O(e))}),u.on("click",function(e){var t;(t=o(e.target))&&(y(t)&&(e.preventDefault(),u.focus()),b(t)&&u.dom.isChildOf(t,u.selection.getNode())&&Y())}),u.on("blur NewBlock",function(){Y(),X()});var M=function(e){var r=new t(e);if(!e.firstChild)return!1;var i=n.before(e.firstChild),o=r.next(i);return o&&!w(o)&&!C(o)};(function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(e){var n=o(e.target);y(n)&&(t||(e.preventDefault(),$(E(n))))})})(u),u.on("mousedown",function(e){var t;if(t=o(e.target))y(t)?(e.preventDefault(),$(E(t))):function(e,t,n){return!n.collapsed&&h.reduce(n.getClientRects(),function(n,r){return n||c.containsXY(r,e,t)},!1)}(e.clientX,e.clientY,u.selection.getRng())||u.selection.placeCaretAt(e.clientX,e.clientY);else{Y(),X();var n=s.closestCaret(G,e.clientX,e.clientY);n&&(function(e,t){var n=u.dom.getParent(e,u.dom.isBlock),r=u.dom.getParent(t,u.dom.isBlock);return n&&!function(e,t){return u.dom.getParent(n,u.dom.isBlock)===u.dom.getParent(t,u.dom.isBlock)}(0,r)&&M(n)}(e.target,n.node)||(e.preventDefault(),u.getBody().focus(),_(R(1,n.node,n.before))))}}),u.on("keydown",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:i(e,f);break;case d.DOWN:i(e,A);break;case d.LEFT:i(e,m);break;case d.UP:i(e,N);break;case d.DELETE:i(e,x);break;case d.BACKSPACE:i(e,k);break;default:y(u.selection.getNode())&&function(e){return!(e.keyCode>=112&&e.keyCode<=123)}(e)&&e.preventDefault()}}),u.on("keyup compositionstart",function(e){(function(e){var t=ne("*[data-mce-caret]")[0];t&&("compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),L(t)):r.hasContent(t)&&L(t))})(e),function(e){var t;switch(e.keyCode){case d.DELETE:t=l();break;case d.BACKSPACE:t=l()}t&&e.preventDefault()}(e)},!0),u.on("cut",function(){var e=u.selection.getNode();y(e)&&p.setEditorTimeout(u,function(){_(F(H(e)))})}),u.on("getSelectionRange",function(e){var t=e.range;if(K){if(!K.parentNode)return void(K=null);(t=t.cloneRange()).selectNode(K),e.range=t}}),u.on("setSelectionRange",function(e){var t;(t=$(e.range))&&(e.range=t)}),u.on("AfterSetSelectionRange",function(e){var t=e.range;q(t)||X(),u.dom.hasClass(t.startContainer.parentNode,"mce-offscreen-selection")||Y()}),u.on("focus",function(){p.setEditorTimeout(u,function(){u.selection.setRng(F(u.selection.getRng()))},0)}),u.on("copy",function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var r=function(){var e=u.dom.get(te);return e?e.getElementsByTagName("*")[0]:e}();r&&(t.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText))}}),g.init(u)}(),function(){var e=u.contentStyles,t=".mce-content-body";e.push(ee.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}()),{showBlockCaretContainer:L,hideFakeCaret:X,destroy:function(){ee.destroy(),K=null}}}}),n(tt,[],function(){var e=0;return{uuid:function(t){return t+e+++function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()}()}}}),n(nt,[],function(){return{add:function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r}}}),n(rt,[y,h,C,T,N,D,P,j,X,Q,Z,ee,oe,ae,x,u,Ae,Ie,R,A,Oe,l,f,s,Fe,He,ze,Ye,et,tt,nt,$e],function(e,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,C,w,k,S,_,T,N,R,E,A,M,P){function D(e,t,i){var o,a,s,l=this;o=l.documentBaseUrl=i.documentBaseURL,a=i.baseURI,t=O({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s=i.defaultSettings,t),s&&s.external_plugins&&t.external_plugins&&(t.external_plugins=O({},s.external_plugins,t.external_plugins)),l.settings=t,r.language=t.language||"en",r.languageLoad=t.language_load,r.baseURL=i.baseURL,l.id=t.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new p(t.document_base_url||o,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new N(l),l.loadedCSS={},l.editorCommands=new h(l),l.suffix=i.suffix,l.editorManager=i,l.inline=t.inline,l.settings.content_editable=l.inline,t.cache_suffix&&(w.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(w.overrideViewPort=!1),i.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var B=e.DOM,I=r.ThemeManager,L=r.PluginManager,O=k.extend,F=k.each,H=k.explode,z=k.inArray,W=k.trim,V=k.resolve,U=m.Event,j=w.gecko,q=w.ie;return D.prototype={render:function(){var e=this,t=e.settings,n=e.id,r=e.suffix;if(U.domLoaded){if(e.getElement()&&w.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||B.getParent(n,"form");i&&(e.formElement=i,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(B.insertAfter(B.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},B.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=new v(e),e.notificationManager=new b(e),"xml"==t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=B.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),function(){var n=g.ScriptLoader;if(t.language&&"en"!=t.language&&!t.language_url&&(t.language_url=e.editorManager.baseURL+"/langs/"+t.language+".js"),t.language_url&&n.add(t.language_url),t.theme&&"function"!=typeof t.theme&&"-"!=t.theme.charAt(0)&&!I.urls[t.theme]){var i=t.theme_url;i=i?e.documentBaseURI.toAbsolute(i):"themes/"+t.theme+"/theme"+r+".js",I.load(t.theme,i)}k.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),F(t.external_plugins,function(e,n){L.load(n,e),t.plugins+=" "+n}),F(t.plugins.split(/[ ,]/),function(e){if((e=W(e))&&!L.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=L.dependencies(e);F(t,function(e){e=L.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},e),L.load(e.resource,e)})}else L.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"})}),n.loadQueue(function(){e.removed||e.init()},e,function(t){P.pluginLoadError(e,t[0]),e.removed||e.init()})}()}}else B.bind(window,"ready",function t(){B.unbind(window,"ready",t),e.render()})},init:function(){var e,t,n,r,i,o,a,s,l,u,c,d=this,f=d.settings,h=d.getElement(),p=[];if(d.rtl=f.rtl_ui||d.editorManager.i18n.rtl,d.editorManager.i18n.setCode(f.language),f.aria_label=f.aria_label||B.getAttrib(h,"aria-label",d.getLang("aria.rich_text_area")),d.fire("ScriptsLoaded"),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),o=I.get(f.theme),d.theme=new o(d,I.urls[f.theme]),d.theme.init&&d.theme.init(d,I.urls[f.theme]||d.documentBaseUrl.replace(/\/$/,""),d.$)):d.theme=f.theme),F(f.plugins.replace(/\-/g,"").split(/[ ,]/),function e(t){var n,r,i=L.get(t);if(n=L.urls[t]||d.documentBaseUrl.replace(/\/$/,""),t=W(t),i&&-1===z(p,t)){if(F(L.dependencies(t),function(t){e(t)}),d.plugins[t])return;r=new i(d,n,d.$),d.plugins[t]=r,r.init&&(r.init(d,n),p.push(t))}}),f.render_ui&&d.theme&&(d.orgDisplay=h.style.display,"function"!=typeof f.theme?(t=f.height||h.style.height||h.offsetHeight,n=f.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+(e=f.width||h.style.width||h.offsetWidth))&&(e=Math.max(parseInt(e,10),100)),u.test(""+t)&&(t=Math.max(parseInt(t,10),n)),i=d.theme.renderUI({targetNode:h,width:e,height:t,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(t=(i.iframeHeight||t)+("number"==typeof t?i.deltaHeight||0:""))<n&&(t=n)):((i=f.theme(d,h)).editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||d.id+"_parent"),i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||d.id+"_iframecontainer"),t=i.iframeHeight||h.offsetHeight),d.editorContainer=i.editorContainer),f.content_css&&F(H(f.content_css),function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))}),f.content_style&&d.contentStyles.push(f.content_style),f.content_editable)return h=r=i=null,d.initContentBody();if(d.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!w.caretAfter&&f.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(c=0;c<d.contentCSS.length;c++){var g=d.contentCSS[c];d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(g)+'" />',d.loadedCSS[g]=!0}-1!=(s=f.body_id||"tinymce").indexOf("=")&&(s=(s=d.getParam("body_id","","hash"))[d.id]||s),-1!=(l=f.body_class||"").indexOf("=")&&(l=(l=d.getParam("body_class","","hash"))[d.id]||""),f.content_security_policy&&(d.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),d.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" data-id="'+d.id+'"><br></body></html>';var m='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&w.ie&&w.ie<12&&(a=m);var v=B.create("iframe",{id:d.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t,display:"block"}});if(v.onload=function(){v.onload=null,d.fire("load")},B.setAttrib(v,"src",a||'javascript:""'),d.contentAreaContainer=i.iframeContainer,d.iframeElement=v,r=B.add(i.iframeContainer,v),q)try{d.getDoc()}catch(y){r.src=a=m}i.editorContainer&&(B.get(i.editorContainer).style.display=d.orgDisplay,d.hidden=B.isHidden(i.editorContainer)),d.getElement().style.display="none",B.setAttrib(d.id,"aria-hidden",!0),a||d.initContentBody(),h=r=i=null},initContentBody:function(t){var n,r,s=this,h=s.settings,p=s.getElement(),g=s.getDoc();h.inline||(s.getElement().style.visibility=s.orgVisibility),t||h.content_editable||(g.open(),g.write(s.iframeHTML),g.close()),h.content_editable&&(s.on("remove",function(){var e=this.getBody();B.removeClass(e,"mce-content-body"),B.removeClass(e,"mce-edit-focus"),B.setAttrib(e,"contentEditable",null)}),B.addClass(p,"mce-content-body"),s.contentDocument=g=h.content_document||document,s.contentWindow=h.content_window||window,s.bodyElement=p,h.content_document=h.content_window=null,h.root_name=p.nodeName.toLowerCase()),(n=s.getBody()).disabled=!0,s.readonly=h.readonly,s.readonly||(s.inline&&"static"==B.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new R(s),s.schema=new y(h),s.dom=new e(g,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:h.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new x(h,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,i,o=e.length,a=s.dom;o--;)if(r=(n=e[o]).attr(t),!n.attributes.map[i="data-mce-"+t]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,s.convertURL(r,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new o("br",1)).shortEnded=!0)}),s.serializer=new a(h,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new u(s),s.undoManager=new c(s),s.forceBlocks=new f(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new i(s),s._selectionOverrides=new E(s),s.fire("PreInit"),h.browser_spellcheck||h.gecko_spellcheck||(g.body.spellcheck=!1,B.setAttrib(n,"spellcheck","false")),s.quirks=new C(s),s.fire("PostRender"),h.directionality&&(n.dir=h.directionality),h.nowrap&&(n.style.whiteSpace="nowrap"),h.protect&&s.on("BeforeSetContent",function(e){F(h.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),h.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(e){s.composing="compositionstart"===e.type}),s.contentStyles.length>0&&(r="",F(s.contentStyles,function(e){r+=e+"\r\n"}),s.dom.addStyle(r)),F(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),h.auto_focus&&S.setEditorTimeout(s,function(){var e;(e=!0===h.auto_focus?s:s.editorManager.get(h.auto_focus)).destroyed||e.focus()},100),p=g=n=null},focus:function(e){var t,n,r,i=this,o=i.selection,a=i.settings.content_editable,s=i.getDoc(),l=i.getBody();if(!e){if((t=o.getRng()).item&&(n=t.item(0)),i.quirks.refreshContentEditable(),r=function(e){return i.dom.getParent(e,function(e){return"true"===i.dom.getContentEditable(e)})}(o.getNode()),i.$.contains(l,r))return r.focus(),o.normalize(),void i.editorManager.setActive(i);if(a||(w.opera||i.getBody().focus(),i.getWin().focus()),j||a){if(l.setActive)try{l.setActive()}catch(c){l.focus()}else l.focus();a&&o.normalize()}n&&n.ownerDocument==s&&((t=s.body.createControlRange()).addElement(n),t.select())}i.editorManager.setActive(i)},execCallback:function(e){var t,n=this,r=n.settings[e];if(r)return n.callbackLookup&&(t=n.callbackLookup[e])&&(r=t.func,t=t.scope),"string"==typeof r&&(t=(t=r.replace(/\.\w+$/,""))?V(t):0,r=V(r),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:r,scope:t}),r.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?(e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"}),this.editorManager.translate(e)):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r,i=e in this.settings?this.settings[e]:t;return"hash"===n?(r={},"string"==typeof i?F(i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){e=e.split("="),r[W(e[0])]=W(e.length>1?e[1]:e)}):r=i,r):i},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return M.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:A.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(B.show(e.getContainer()),B.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(q&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(B.hide(e.getContainer()),B.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,r=this,i=r.getElement();if(i)return(e=e||{}).load=!0,n=r.setContent(i.value!==t?i.value:i.innerHTML,e),e.element=i,e.no_events||r.fire("LoadContent",e),e.element=i=null,n},save:function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized)return(e=e||{}).save=!0,e.element=i,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"==e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(i.nodeName)?i.value=t:(r.inline||(i.innerHTML=t),(n=B.getParent(r.id,"form"))&&F(n.elements,function(e){if(e.name==r.id)return e.value=t,!1})),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){var n,r,i=this,o=i.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(r=q&&q<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+r+"</li>"),(n=i.settings.forced_root_block)&&i.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e=r):q||e||(e='<br data-mce-bogus="1">'),i.dom.setHTML(o,e),i.fire("SetContent",t)):("raw"!==t.format&&(e=new s({validate:i.validate},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=W(e),i.dom.setHTML(o,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,r=n.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?k.trim(n.serializer.getTrimmedContent()):"text"==e.format?r.innerText||r.textContent:n.serializer.serialize(r,e),e.content="text"!=e.format?W(t):t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=O({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){T.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=B.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=B.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,r=this,i=r.settings,o=r.dom;e=e||r.getBody(),r.hasVisual===t&&(r.hasVisual=i.visual),F(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=i.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!=t||!r.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=i.visual_anchor_class||"mce-item-anchor",t&&r.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&B.remove(e.getElement().nextSibling),e.inline||(q&&q<10&&e.getDoc().execCommand("SelectAll",!1,null),B.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),B.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),B.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},O(D.prototype,_),D}),n(it,[f],function(e){var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var r=t[e];for(var i in r||(t[e]=r={}),n)r[i]=n[i];this.setCode(e)},translate:function(r){function i(t){return e.is(t,"function")?Object.prototype.toString.call(t):o(t)?"":""+t}function o(t){return""===t||null===t||e.is(t,"undefined")}function a(t){return t=i(t),e.hasOwn(s,t)?i(s[t]):t}var s=t[n]||{};if(o(r))return"";if(e.is(r,"object")&&e.hasOwn(r,"raw"))return i(r.raw);if(e.is(r,"array")){var l=r.slice(1);r=a(r[0]).replace(/\{([0-9]+)\}/g,function(t,n){return e.hasOwn(l,n)?i(l[n]):t})}return a(r).replace(/{context:\w+}$/,"")},data:t}}),n(ot,[y,s,l],function(e,t,n){function r(e){function r(){try{return document.activeElement}catch(e){return document.body}}e.on("AddEditor",function(u){var c=u.editor;c.on("init",function(){(c.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?c.dom.bind(c.getBody(),"beforedeactivate",function(e){if(e.target==c.getBody())try{c.lastRng=c.selection.getRng()}catch(t){}}):c.on("nodechange mouseup keyup",function(e){var t=r();"nodechange"==e.type&&e.selectionChange||(t&&t.id==c.id+"_ifr"&&(t=c.getBody()),c.dom.isChildOf(t,c.getBody())&&(c.lastRng=c.selection.getRng()))}),n.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(c.lastRng=n)}},s.bind(document,"selectionchange",i)))}),c.on("setcontent",function(){c.lastRng=null}),c.on("mousedown",function(){c.selection.lastFocusBookmark=null}),c.on("focusin",function(){var t,n=e.focusedEditor;c.selection.lastFocusBookmark&&(t=function(e,t){var n;return t.startContainer?((n=c.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}(0,c.selection.lastFocusBookmark),c.selection.lastFocusBookmark=null,c.selection.setRng(t)),n!=c&&(n&&n.fire("blur",{focusedEditor:c}),e.setActive(c),e.focusedEditor=c,c.fire("focus",{blurredEditor:n}),c.focus(!0)),c.lastRng=null}),c.on("focusout",function(){t.setEditorTimeout(c,function(){var t=e.focusedEditor;l(c,r())||t!=c||(c.fire("blur",{focusedEditor:null}),e.focusedEditor=null,c.selection&&(c.selection.lastFocusBookmark=null))})}),o||(o=function(t){var n,r=e.activeEditor;n=t.target,r&&n.ownerDocument==document&&(r.selection&&n!=r.getBody()&&(r.selection.lastFocusBookmark=function(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}(r.dom,r.lastRng)),n==document.body||l(r,n)||e.focusedEditor!=r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,"focusin",o)),c.inline&&!a&&(a=function(t){var n=e.activeEditor,r=n.dom;if(n.inline&&r&&!r.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,"mouseup",a))}),e.on("RemoveEditor",function(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,"selectionchange",i),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),i=o=a=null)})}var i,o,a,s=e.DOM,l=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==s.getParent(t,function(t){return r.isEditorUIElement(t)||!!n&&e.dom.is(t,n)})};return r.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},r._isUIElement=l,r}),n(at,[rt,h,y,ae,l,f,a,ce,it,ot,C],function(e,t,n,r,i,o,a,s,l,u,c){function d(e){y(m.editors,function(t){t.fire("scroll"===e.type?"ScrollWindow":"ResizeWindow",e)})}function f(e,n){n!==w&&(n?t(window).on("resize scroll",d):t(window).off("resize scroll",d),w=n)}function h(e){var t,n=m.editors;delete n[e.id];for(var r=0;r<n.length;r++)if(n[r]==e){n.splice(r,1),t=!0;break}return m.activeEditor==e&&(m.activeEditor=n[0]),m.focusedEditor==e&&(m.focusedEditor=null),t}function p(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(h(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var g,m,v=n.DOM,b=o.explode,y=o.each,x=o.extend,C=0,w=!1;return m={$:t,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:l,activeEditor:null,setup:function(){var e,t,n,i,o=this,a="";if(t=r.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var c=(i=s[l].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=c.indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(i=document.currentScript.src).indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/")))}o.baseURL=new r(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new r(o.baseURL),o.suffix=a,o.focusManager=new u(o)},overrideDefaults:function(e){var t;(t=e.base_url)&&(this.baseURL=new r(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new r(this.baseURL)),e.suffix&&(this.suffix=e.suffix),this.defaultSettings=e;var n=e.plugin_base_urls;for(var i in n)c.PluginManager.urls[i]=n[i]},init:function(n){function r(e){var t=e.id;return t||(t=(t=e.name)&&!v.get(t)?e.name:v.uniqueId(),e.setAttribute("id",t)),t}function i(e,t){return t.constructor===RegExp?t.test(e.className):v.hasClass(e,t)}function s(e){var t,n=[];if(e.types)return y(e.types,function(e){n=n.concat(v.select(e.selector))}),n;if(e.selector)return v.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&y(b(t),function(e){var t;(t=v.get(e))?n.push(t):y(document.forms,function(t){y(t.elements,function(t){t.name===e&&(e="mce_editor_"+C++,v.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":y(v.select("textarea"),function(t){e.editor_deselector&&i(t,e.editor_deselector)||e.editor_selector&&!i(t,e.editor_selector)||n.push(t)})}return n}var l,u,c=this;u=o.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var d=function(e){l=e};return c.settings=n,v.bind(window,"ready",function i(){function a(t,n,r){var i=new e(t,n,c);h.push(i),i.on("init",function(){++f===l.length&&d(h)}),i.targetElm=i.targetElm||r,i.render()}var l,f=0,h=[];return v.unbind(window,"ready",i),function(e){var t=n.onpageload;t&&t.apply(c,Array.prototype.slice.call(arguments,2))}("onpageload"),l=t.unique(s(n)),n.types?void y(n.types,function(e){o.each(l,function(t){return!v.is(t,e.selector)||(a(r(t),x({},n,e),t),!1)})}):(o.each(l,function(e){p(c.get(e.id))}),l=o.grep(l,function(e){return!c.get(e.id)}),void y(l,function(e){n.inline&&e.tagName.toLowerCase()in u?function(e,t){window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",t)}(0,e):a(r(e),n,e)}))}),new a(function(e){l?e(l):d=function(t){e(t)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),f(0,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),g||(g=function(){t.fire("BeforeUnload")},v.bind(window,"beforeunload",g)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,r=this,i=r.editors;if(e)return"string"==typeof e?void y(v.select(e=e.selector||e),function(e){(n=i[e.id])&&r.remove(n)}):i[(n=e).id]?(h(n)&&r.fire("RemoveEditor",{editor:n}),i.length||v.unbind(window,"beforeunload",g),n.remove(),f(0,i.length>0),n):null;for(t=i.length-1;t>=0;t--)r.remove(i[t])},execCommand:function(t,n,r){var i=this,o=i.get(r);switch(t){case"mceAddEditor":return i.get(r)||new e(r,i.settings,i).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand("mceAddEditor",0,r),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,n,r)},triggerSave:function(){y(this.editors,function(e){e.save()})},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},x(m,s),m.setup(),window.tinymce=window.tinyMCE=m,m}),n("tinymce/LegacyInput",[at,f],function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&a.setStyle(e,n,t)}),a.rename(e,"span")}var i,o,a,s=t.settings;s.inline_styles&&(o=r(s.font_size_legacy_values),i={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:o[parseInt(n.size,10)-1]})},u:function(n,r){"html4"===t.settings.schema&&e(r,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",function(e){a=t.dom,s.convert_fonts_to_spans&&n(a.select("font,u,strike",e.node),function(e){i[e.nodeName.toLowerCase()](a,e)})}))})})}),n(st,[ce,f],function(e,t){var n={send:function(e){function r(){!e.async||4==i.readyState||o++>1e4?(e.success&&o<1e4&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,o>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):setTimeout(r,10)}var i,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){i.setRequestHeader(e.key,e.value)}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i=n.fire("beforeSend",{xhr:i,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};return t.extend(n,e),n}),n(lt,[],function(){return{serialize:function e(t,n){var r,i,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t))+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,i="[";r<t.length;r++)i+=(r>0?",":"")+e(t[r],n);return i+"]"}for(a in i="{",t)t.hasOwnProperty(a)&&(i+="function"!=typeof t[a]?(i.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return i+"}"}return""+t},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),n(ut,[lt,st,f],function(e,t,n){function r(e){this.settings=i({},e),this.count=0}var i=n.extend;return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,o=n.success;(n=i(this.settings,n)).success=function(t,i){void 0===(t=e.parse(t))&&(t={error:"JSON Parse error."}),t.error?r.call(n.error_scope||n.scope,t.error,i):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},r}),n(ct,[y],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,o=n.count!==t?n.count:r.count,a="tinymce_jsonp_"+o;r.callbacks[o]=function(e){i.remove(a),delete r.callbacks[o],n.callback(e)},i.add(i.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),r.count++}}}),n(dt,[],function(){function e(){for(var e in a=[],o)a.push(e);r.length=a.length}function n(){var t,n="";if(u){for(var a in o)t=o[a],n+=(n?",":"")+a.length.toString(32)+","+a+","+t.length.toString(32)+","+t;i.setAttribute(l,n);try{i.save(l)}catch(r){}e()}}var r,i,o,a,l,u;try{if(window.localStorage)return localStorage}catch(s){}return l="tinymce",i=document.documentElement,(u=!!i.addBehavior)&&i.addBehavior("#default#userData"),r={key:function(e){return a[e]},getItem:function(e){return e in o?o[e]:null},setItem:function(e,t){o[e]=""+t,n()},removeItem:function(e){delete o[e],n()},clear:function(){o={},n()}},function(){function n(e){var n,r;return-1===(r=e!==t?c+e:a.indexOf(",",c))||r>a.length?null:(n=a.substring(c,r),c=r+1,n)}var r,a,s,c=0;if(o={},u){i.load(l),a=i.getAttribute(l)||"";do{var d=n();if(null===d)break;if(null!==(r=n(parseInt(d,32)||0))){if(null===(d=n()))break;s=n(parseInt(d,32)||0),r&&(o[r]=s)}}while(null!==r);e()}}(),r}),n(ft,[y,u,x,C,f,l],function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(e){a[e]=i[e]}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),n(ht,[se,f],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,i,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(r||(r=e),i=e)}),r&&r.classes.add(t),i&&i.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),n(pt,[ht],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),n(gt,[Pe],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+((i=i?r+"ico "+r+"i-"+i:"")?'<i class="'+i+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var i=n("span."+r,t.getEl());e?(i[0]||(n("button:first",t.getEl()).append('<span class="'+r+'"></span>'),i=n("span."+r,t.getEl())),i.html(t.encode(e))):i.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,r=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var r=n.value,i=t.classPrefix;t.settings.icon=r,r=r?i+"ico "+i+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a),e(t.state.get("text"))}),t._super()}})}),n(mt,[Ce],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),n(vt,[Pe],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,r=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?r+"ico "+r+"i-"+t.settings.icon:"";var i=t.getEl().firstChild,o=i.getElementsByTagName("i")[0];n?(o&&o==i.firstChild||(o=document.createElement("i"),i.insertBefore(o,i.firstChild)),o.className=n):o&&i.removeChild(o)}),t.state.get("checked")&&e(!0),t._super()}})}),n(bt,[Pe,ye,pe,h,I,f],function(e,t,n,r,i,o){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var i=n.target,o=t.getEl();if(r.contains(o,i)||i==o)for(;i&&i!=o;)i.id&&-1!=i.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on("keydown",function(e){var n;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){if("INPUT"==e.target.nodeName){var n=t.state.get("value"),r=e.target.value;r!==n&&(t.state.set("value",r),t.fire("autocomplete",e))}}),t.on("mouseover",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var r=t.statusMessage()||"Ok",i=n.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==i),n.classes.toggle("tooltip-nw","bc-tl"==i),n.classes.toggle("tooltip-ne","bc-tr"==i),n.moveRel(e.target,i)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,n=this;n.menu||((e=n.settings.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==n.value())})}).fire("show"),n.menu.on("select",function(e){n.value(e.control.value())}),n.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,i=this,o=i.getEl(),a=i.getEl("open"),s=i.layoutRect(),l=0,u=o.firstChild;i.statusLevel()&&"none"!==i.statusLevel()&&(l=parseInt(n.getRuntimeStyle(u,"padding-right"),10)-parseInt(n.getRuntimeStyle(u,"padding-left"),10)),e=a?s.w-n.getSize(a).width-10:s.w-10;var c=document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(t=i.layoutRect().h-2+"px"),r(u).css({width:e-l,lineHeight:t}),i._super(),i},postRender:function(){var e=this;return r(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n,r=this,i=r._id,o=r.settings,a=r.classPrefix,s=r.state.get("value")||"",l="",u="";return"spellcheck"in o&&(u+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(u+=' maxlength="'+o.maxLength+'"'),o.size&&(u+=' size="'+o.size+'"'),o.subtype&&(u+=' type="'+o.subtype+'"'),n='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',r.disabled()&&(u+=' disabled="disabled"'),(e=o.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+o.icon),t=r.state.get("text"),(e||t)&&(l='<div id="'+i+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",r.classes.add("has-open")),'<div id="'+i+'" class="'+r.classes+'"><input id="'+i+'-inp" class="'+a+'textbox" value="'+r.encode(s,!1)+'" hidefocus="1"'+u+' placeholder="'+r.encode(o.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,n){var r=this;if(0!==e.length){var i=function(e,t){return function(){r.fire("selectitem",{title:t,value:e})}};r.menu?r.menu.items().remove():r.menu=t.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(r).renderTo(),o.each(e,function(e){r.menu.add({text:e.title,url:e.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:i(e.value,e.title)})}),r.menu.renderNew(),r.hideMenu(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()});var a=r.layoutRect().w;r.menu.layoutRect({w:a,minW:0,maxW:a}),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else r.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var r=e.getEl("status"),i=e.classPrefix,o=t.value;n.css(r,"display","none"===o?"none":""),n.toggleClass(r,i+"i-checkmark","ok"===o),n.toggleClass(r,i+"i-warning","warn"===o),n.toggleClass(r,i+"i-error","error"===o),e.classes.toggle("has-status","none"!==o),e.repaint()}),n.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===i.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===i.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){r(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),n(yt,[bt],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),r=t?t.getElementsByTagName("i")[0]:null;if(r)try{r.style.background=e}catch(n){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}})}),n(xt,[gt,Ne],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),n(Ct,[xt,y],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.aria&&"down"==r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),n(wt,[],function(){var e=Math.min,t=Math.max,n=Math.round;return function(r){function i(r,i,o){var a,c,d,f;if(r=(parseInt(r,10)||0)%360,i=parseInt(i,10)/100,o=parseInt(o,10)/100,i=t(0,e(i,1)),o=t(0,e(o,1)),0!==i){switch(a=r/60,d=(c=o*i)*(1-Math.abs(a%2-1)),f=o-c,Math.floor(a)){case 0:s=c,l=d,u=0;break;case 1:s=d,l=c,u=0;break;case 2:s=0,l=c,u=d;break;case 3:s=0,l=d,u=c;break;case 4:s=d,l=0,u=c;break;case 5:s=c,l=0,u=d;break;default:s=l=u=0}s=n(255*(s+f)),l=n(255*(l+f)),u=n(255*(u+f))}else s=l=u=n(255*o)}function o(e){var t;return"object"==typeof e?"r"in e?(s=e.r,l=e.g,u=e.b):"v"in e&&i(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),l=parseInt(t[2],10),u=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),l=parseInt(t[2],16),u=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),u=parseInt(t[3]+t[3],16)),s=s<0?0:s>255?255:s,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,a}var a=this,s=0,l=0,u=0;r&&o(r),a.toRgb=function(){return{r:s,g:l,b:u}},a.toHsv=function(){return function(r,i,o){var a,s,l,u;return a=0,s=0,(l=e(r/=255,e(i/=255,o/=255)))==(u=t(r,t(i,o)))?{h:0,s:0,v:100*(s=l)}:(a=(u-l)/u,s=u,{h:n(60*((r==l?3:o==l?1:5)-(r==l?i-o:o==l?r-i:o-r)/(u-l))),s:n(100*a),v:n(100*s)})}(s,l,u)},a.toHex=function(){function e(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+e(s)+e(l)+e(u)},a.parse=o}}),n(kt,[Pe,we,pe,wt],function(e,t,n,r){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r,i,o=n.getPos(e);return r=t.pageX-o.x,i=t.pageY-o.y,{x:r=Math.max(0,Math.min(r/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function i(e,t){n.css(u,{top:(360-e.h)/360*100+"%"}),t||n.css(d,{left:e.s+"%",top:100-e.v+"%"}),c.style.background=new r({s:100,v:100,h:e.h}).toHex(),f.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(c,t),s.s=100*n.x,s.v=100*(1-n.y),i(s),f.fire("change")}function a(t){var n;n=e(l,t),(s=h.toHsv()).h=360*(1-n.y),i(s,!0),f.fire("change")}var s,l,u,c,d,f=this,h=f.color();l=f.getEl("h"),u=f.getEl("hp"),c=f.getEl("sv"),d=f.getEl("svp"),f._repaint=function(){i(s=h.toHsv())},f._super(),f._svdraghelper=new t(f._id+"-sv",{start:o,drag:o}),f._hdraghelper=new t(f._id+"-h",{start:a,drag:a}),f._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+r+'colorpicker-h" style="background: -ms-linear-gradient(top,'+i+");background: linear-gradient(to bottom,"+i+');">'+function(){var e,t,n,o,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(o=i.split(",")).length-1;e<t;e++)a+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+o[e]+",endColorstr="+o[e+1]+");-ms-"+n+o[e]+",endColorstr="+o[e+1]+')"></div>';return a}()+'<div id="'+n+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),n(St,[Pe],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="\xbb"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,r=this,i=e||[],o="",a=r.classPrefix;for(t=0,n=i.length;t<n;t++)o+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+r.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+r._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";return o||(o='<div class="'+a+'path-item">\xa0</div>'),o}})}),n(_t,[St],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(r){for(var i=[],o=r.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(i)})),t._super()}})}),n(Tt,[Ce],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),n(Nt,[Ce,Tt,f],function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),r.each(function(r){var i,o=r.settings.label;o&&((i=new t(n.extend({items:{type:"label",id:r._id+"-l",text:o,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults))).type="formitem",r.aria("labelledby",r._id+"-l"),void 0===r.settings.flex&&(r.settings.flex=1),e.replace(r,i),i.add(r))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,r=0,i=[];if(!1!==t.settings.labelGapCalc)for(("children"==t.settings.labelGapCalc?t.find("formitem"):t.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,i.push(t)}),n=t.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}})}),n(Rt,[Nt],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),n(Et,[y,O,d,tt,f,w],function(e,t,n,r,i,o){var a=i.trim,s=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},l=function(t,n){return e.DOM.select(t,n)},u=function(e){return e.innerText||e.textContent},c=function(e){return function(e){return e&&"A"===e.nodeName&&(e.id||e.name)}(e)&&f(e)},d=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},f=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return o.isContentEditableTrue(e)}return!1}(e)&&!o.isContentEditableFalse(e)},h=function(e){return d(e)&&f(e)},p=function(e){var t=function(e){return e.id?e.id:r.uuid("h")}(e);return s("header",u(e),"#"+t,function(e){return d(e)?parseInt(e.nodeName.substr(1),10):0}(e),function(){e.id=t})},g=function(e){var n=e.id||e.name,r=u(e);return s("anchor",r||"#"+n,"#"+n,0,t.noop)},m=function(e){return a(e.title).length>0};return{find:function(e){var t=function(e){return l("h1,h2,h3,h4,h5,h6,a:not([href])",e)}(e);return n.filter(n.map(n.filter(t,h),p).concat(n.map(n.filter(t,c),g)),m)}}}),n(At,[bt,f,d,O,I,Et],function(e,t,n,r,i,o){var a={},s=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},l=function(e){return t.map(e,s)},u=function(e,t){return{title:e,value:{title:e,url:t,attach:r.noop}}},c=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},d=function(e,i,o,s){var d={title:"-"},f=function(e){var a=n.filter(e[o],function(e){return function(e,t){return!n.find(i,function(t){return t.url===e})}(e)});return t.map(a,function(e){return{title:e,value:{title:e,url:e,attach:r.noop}}})},p=function(e){var t=n.filter(i,function(t){return t.type==e});return l(t)};return!1===s.typeahead_urls?[]:"file"===o?function(e){return n.reduce(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(d,t)},[])}([h(e,f(a)),h(e,p("header")),h(e,function(){var e=p("anchor"),t=c(s,"anchor_top","#top"),n=c(s,"anchor_bottom","#bottom");return null!==t&&e.unshift(u("<top>",t)),null!==n&&e.push(u("<bottom>",n)),e}())]):h(e,f(a))},f=function(e,t){var r=a[t];/^https?/.test(e)&&(r?-1===n.indexOf(r,e)&&(a[t]=r.slice(0,5).concat(e)):a[t]=[e])},h=function(e,n){var r=e.toLowerCase(),i=t.grep(n,function(e){return-1!==e.title.toLowerCase().indexOf(r)});return 1===i.length&&i[0].title===e?[]:i},p=function(e,t,n,r){var i=function(i){var a=o.find(n),s=d(i,a,r,t);e.showAutoComplete(s,i)};e.on("autocomplete",function(){i(e.value())}),e.on("selectitem",function(t){var n=t.value;e.value(n.url);var i=function(e){var t=n.title;return t.raw?t.raw:t}();e.fire("change","image"===r?{meta:{alt:i,attach:n.attach}}:{meta:{text:i,attach:n.attach}}),e.focus()}),e.on("click",function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&i("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(t){t.isDefaultPrevented()||f(e.value(),r)})})};return e.extend({init:function(e){var n,r,i,o=this,a=tinymce.activeEditor,s=a.settings,l=e.filetype;e.spellcheck=!1,(i=s.file_picker_types||s.file_browser_callback_types)&&(i=t.makeMap(i,/[, ]/)),i&&!i[l]||(!(r=s.file_picker_callback)||i&&!i[l]?!(r=s.file_browser_callback)||i&&!i[l]||(n=function(){r(o.getEl("inp").id,o.value(),l,window)}):n=function(){var e=o.fire("beforecall").meta;e=t.extend({filetype:l},e),r.call(a,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),e)}),n&&(e.icon="browse",e.onaction=n),o._super(e),p(o,s,a.getBody(),l),function(e,t,n){var r=t.filepicker_validator_handler;if(r){var i=function(t){return 0===t.length?void e.statusLevel("none"):void r({url:t,type:n},function(t){var n=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}}(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on("change:value",function(e){i(e.value)})}}(o,s,l)}})}),n(Mt,[pt],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),n(Pt,[pt],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,C,w,k,S,_,T,N,R,E,A,M,P,D,B,I,L,O,F=[],H=Math.max,z=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,u=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(r=r.set(r.toArray().reverse()),f=f.split("-")[0]),"column"==f?(S="y",w="h",k="minH",_="maxH",N="innerH",T="top",R="deltaH",E="contentH",B="left",P="w",A="x",M="innerW",D="minW",I="right",L="deltaW",O="contentW"):(S="x",w="w",k="minW",_="maxW",N="innerW",T="left",R="deltaW",E="contentW",B="top",P="h",A="y",M="innerH",D="minH",I="bottom",L="deltaH",O="contentH"),d=i[N]-o[T]-o[T],C=c=0,t=0,n=r.length;t<n;t++)p=(h=r[t]).layoutRect(),d-=t<n-1?u:0,(g=h.settings.flex)>0&&(c+=g,p[_]&&F.push(h),p.flex=g),d-=p[k],(m=o[B]+p[D]+o[I])>C&&(C=m);if((y={})[k]=d<0?i[k]-d+i[R]:i[N]-d+i[R],y[D]=C+i[L],y[E]=i[N]-d,y[O]=C,y.minW=z(y.minW,i.maxW),y.minH=z(y.minH,i.maxH),y.minW=H(y.minW,i.startMinWidth),y.minH=H(y.minH,i.startMinHeight),!i.autoResize||y.minW==i.minW&&y.minH==i.minH){for(b=d/c,t=0,n=F.length;t<n;t++)(m=(p=(h=F[t]).layoutRect())[k]+p.flex*b)>(v=p[_])?(d-=p[_]-p[k],c-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(b=d/c,x=o[T],y={},0===c&&("end"==l?x=d+o[T]:"center"==l?(x=Math.round(i[N]/2-(i[N]-d)/2)+o[T])<0&&(x=o[T]):"justify"==l&&(x=o[T],u=Math.floor(d/(r.length-1)))),y[A]=o[B],t=0,n=r.length;t<n;t++)m=(p=(h=r[t]).layoutRect()).maxFlexSize||p[k],"center"===s?y[A]=Math.round(i[M]/2-p[P]/2):"stretch"===s?(y[P]=H(p[D]||0,i[M]-o[B]-o[I]),y[A]=o[B]):"end"===s&&(y[A]=i[M]-p[P]-o.top),p.flex>0&&(m+=p.flex*b),y[w]=m,y[S]=x,h.layoutRect(y),h.recalc&&h.recalc(),x+=m+u}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})}),n(Dt,[ht],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),n(Bt,[y],function(e){var n=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return""},r=function(t,n){return e.DOM.getStyle(n,t,!0)};return{getFontSize:function(e,t){var i=n("fontSize",e,t);return""!==i?i:r("fontSize",t)},getFontFamily:function(e,i){var o=n("fontFamily",e,i),a=""!==o?o:r("fontFamily",i);return a!==t?a.replace(/[\'\"]/g,"").replace(/,\s+/g,","):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}}),n(It,[be,Pe,Ne,f,d,y,at,l,Bt],function(e,t,n,r,i,o,a,s,l){function u(t){t.on("ScriptsLoaded",function(){t.rtl&&(e.rtl=!0)})}var c=r.each,d=function(e){return i.reduce(e,function(e,t){return e.concat(t)},[])};a.on("AddEditor",function(e){var t=e.editor;u(t),function(e){function t(t,n){return function(){var r=this;e.on("nodeChange",function(i){var o=e.formatter,a=null;c(i.parents,function(e){if(c(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),r.value(a)})}}function i(t){return function(){var n=this;e.on("nodeChange",function(r){var i,o,a=null;i=l.getFontSize(e.getBody(),r.element),o=l.toPt(i),c(t,function(e){e.value===i?a=i:e.value===o&&(a=o)}),n.value(a),a||n.text(o)})}}function o(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function a(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function s(t){return function(){function n(){return!!e.undoManager&&e.undoManager["redo"==t?"hasRedo":"hasUndo"]()}var r=this;r.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){r.disabled(e.readonly||!n())})}}function u(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}function f(t){var n=t.length;return r.each(t,function(t){t.menu&&(t.hidden=0===f(t.menu));var r=t.format;r&&(t.hidden=!e.formatter.canApply(r)),t.hidden&&n--}),n}var h;h=function(){var t=0,n=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){c(n,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:function e(r){var i=[];if(r)return c(r,function(r){var o={text:r.title,icon:r.icon};if(r.items)o.menu=e(r.items);else{var a=r.format||"custom"+t++;r.format||(r.name=a,n.push(r)),o.format=a,o.cmd=r.cmd}i.push(o)}),i}(e.settings.style_formats_merge?e.settings.style_formats?r.concat(e.settings.style_formats):r:e.settings.style_formats||r),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;(n=t.settings.format)&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(r=t.settings.cmd)&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&u(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}(),c({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:a(n),onclick:function(){u(n)}})}),c({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),c({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:a(n)})});var p=function(t){var n,i;if("string"==typeof t)i=t.split(" ");else if(r.isArray(t))return d(r.map(t,p));return n=r.grep(i,function(t){return"|"===t||t in e.menuItems}),r.map(n,function(t){return"|"===t?{text:"-"}:e.menuItems[t]})},g=function(t){var n=[{text:"-"}],i=r.grep(e.menuItems,function(e){return e.context===t});return r.each(i,function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})}),n};e.addButton("undo",{tooltip:"Undo",onPostRender:s("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:s("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:s("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:s("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)},cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(function(e){return function(e){var t=e;return t.length>0&&"-"===t[0].text&&(t=t.slice(1)),t.length>0&&"-"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t}(e.insert_button_items?p(e.insert_button_items):g("insert"))}(e.settings)),this.menu.renderNew()}}),c({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:h,onShowMenu:function(){e.settings.style_formats_autohide&&function t(n){var r=n.items().length;return n.items().each(function(n){n.menu&&n.visible(t(n.menu)>0),!n.menu&&n.settings.menu&&n.visible(f(n.settings.menu)>0);var i=n.settings.format;i&&n.visible(e.formatter.canApply(i)),n.visible()||r--}),r}(this.menu)}}),e.addButton("formatselect",function(){var n=[],r=o(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return c(r,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:u,onPostRender:t(n)}}),e.addButton("fontselect",function(){var t,n=[],r=o(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return c(r,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:(t=n,function(){var n=this,r=function(e){return e?e.split(",")[0]:""};e.on("nodeChange",function(i){var o,a=null;o=l.getFontFamily(e.getBody(),i.element),c(t,function(e){e.value.toLowerCase()===o.toLowerCase()&&(a=e.value)}),c(t,function(e){a||r(e.value).toLowerCase()!==r(o).toLowerCase()||(a=e.value)}),n.value(a),!a&&o&&n.text(r(o))})}),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var t=[];return c((e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(e){var n=e,r=e,i=e.split("=");i.length>1&&(n=i[0],r=i[1]),t.push({text:n,value:r})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:i(t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:h})}(t),t.settings.ui_container&&(s.container=o.DOM.select(t.settings.ui_container)[0])}),e.translate=function(e){return a.translate(e)},t.tooltips=!s.iOS}),n(Lt,[pt],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,b,y,x,C,w,k,S,_,T,N,R,E=[],A=[];t=e.settings,i=e.items().filter(":visible"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,x=t.alignH||t.align,C=t.alignV||t.align,m=e.paddingBox,R="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),C&&"string"==typeof C&&(C=[C]);for(d=0;d<r;d++)E.push(0);for(f=0;f<n;f++)A.push(0);for(f=0;f<n;f++)for(d=0;d<r&&(c=i[f*r+d]);d++)_=(u=c.layoutRect()).minH,E[d]=(S=u.minW)>E[d]?S:E[d],A[f]=_>A[f]?_:A[f];for(T=o.innerW-m.left-m.right,w=0,d=0;d<r;d++)w+=E[d]+(d>0?b:0),T-=(d>0?b:0)+E[d];for(N=o.innerH-m.top-m.bottom,k=0,f=0;f<n;f++)k+=A[f]+(f>0?y:0),N-=(f>0?y:0)+A[f];if(k+=m.top+m.bottom,(l={}).minW=(w+=m.left+m.right)+(o.w-o.innerW),l.minH=k+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var M;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),M="start"==t.packV?0:N>0?Math.floor(N/n):0;var P=0,D=t.flexWidths;if(D)for(d=0;d<D.length;d++)P+=D[d];else P=r;var B=T/P;for(d=0;d<r;d++)E[d]+=D?D[d]*B:B;for(p=m.top,f=0;f<n;f++){for(h=m.left,s=A[f]+M,d=0;d<r&&(c=i[R?f*r+r-1-d:f*r+d]);d++)g=c.settings,u=c.layoutRect(),a=Math.max(E[d],u.startMinWidth),u.x=h,u.y=p,"center"==(v=g.alignH||(x?x[d]||x[0]:null))?u.x=h+a/2-u.w/2:"right"==v?u.x=h+a-u.w:"stretch"==v&&(u.w=a),"center"==(v=g.alignV||(C?C[d]||C[0]:null))?u.y=p+s/2-u.h/2:"bottom"==v?u.y=p+s-u.h:"stretch"==v&&(u.h=s),c.layoutRect(u),h+=a+b,c.recalc&&c.recalc();p+=s+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var I=e.parent();I&&(I._lastRect=null,I.recalc())}}})}),n(Ot,[Pe,s],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout(function(){r.html(e)}),this}})}),n(Ft,[Pe],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),n(Ht,[Pe,pe],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();return e.settings.multiline&&(t.getSize(e.getEl()).width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)),n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId;return!r&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(r=e._id),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),n(zt,[Ce],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}})}),n(Wt,[zt],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),n(Vt,[gt,ye,Wt],function(e,t,n){var r=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var n,r=this;return r.menu&&r.menu.visible()&&!1!==e?r.hideMenu():(r.menu||((n=r.state.get("menu")||[]).length?n={type:"menu",items:n}:n.type=n.type||"menu",r.menu=n.renderTo?n.parent(r).show().renderTo():t.create(n).parent(r).renderTo(),r.fire("createmenu"),r.menu.reflow(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()}),r.menu.on("show hide",function(e){e.control==r.menu&&r.activeMenu("show"==e.type),r.aria("expanded","show"==e.type)}).fire("show")),r.menu.show(),r.menu.layoutRect({w:r.layoutRect().w}),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void r.fire("showmenu"))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,r=t._id,i=t.classPrefix,o=t.settings.icon,a=t.state.get("text"),s="";return(e=t.settings.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(t.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+t.encode(a)+"</span>"),o=t.settings.icon?i+"ico "+i+"i-"+o:"",t.aria("role",t.parent()instanceof n?"menuitem":"button"),'<div id="'+r+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+r+'"><button id="'+r+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+s+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,o=e.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),n(Ut,[Pe,ye,l,s],function(e,t,n,r){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,r=n.settings,i=n.parent();if(i.items().each(function(e){e!==n&&e.hideMenu()}),r.menu){(e=n.menu)?e.show():((e=r.menu).length?e={type:"menu",items:e}:e.type=e.type||"menu",i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),(e=n.menu=t.create(e).parent(n).renderTo()).reflow(),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(t){t.control===e&&n.classes.remove("selected")}),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(t){var n=s.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):t}function r(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var i,o=this,a=o._id,s=o.settings,l=o.classPrefix,u=o.state.get("text"),c=o.settings.icon,d="",f=s.shortcut,h=o.encode(s.url);return c&&o.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),f&&(f=function(e){var t,r,i;for(i=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(r=i[e[t].toLowerCase()])&&(e[t]=r);return e.join("+")}(f)),c=l+"ico "+l+"i-"+(o.settings.icon||"none"),i="-"!==u?'<i class="'+c+'"'+d+"></i>\xa0":"",u=r(o.encode(t(u))),h=r(o.encode(t(h))),'<div id="'+a+'" class="'+o.classes+'" tabindex="-1">'+i+("-"!==u?'<span id="'+a+'-text" class="'+l+'text">'+u+"</span>":"")+(f?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+f+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(h?'<div class="'+l+'menu-item-link">'+h+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),r.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),n(jt,[h,be,s],function(e,t,n){return function(r,i){var o,a,s=this,l=t.classPrefix;s.show=function(t,u){function c(){o&&(e(r).append('<div class="'+l+"throbber"+(i?" "+l+"throbber-inline":"")+'"></div>'),u&&u())}return s.hide(),o=!0,t?a=n.setTimeout(c,t):c(),s},s.hide=function(){var e=r.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),n(qt,[Ne,Ut,jt,f],function(e,t,n,r){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=r.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function e(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var t,r=this;r.settings.itemsFactory&&(r.throbber||(r.throbber=new n(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",e)),r.requestTime=t=(new Date).getTime(),r.settings.itemsFactory(function(n){return 0===n.length?void r.hide():void(r.requestTime===t&&(r.getEl().style.width="",r.getEl("body").style.width="",e(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e._super()}})}),n($t,[Vt,qt],function(e,t){return e.extend({init:function(e){var t,n,r,i,o=this;o._super(e),o._values=t=(e=o.settings).values,t&&(void 0!==e.value&&function t(i){for(var a=0;a<i.length;a++){if(n=i[a].selected||e.value===i[a].value)return r=r||i[a].text,o.state.set("value",i[a].value),!0;if(i[a].menu&&t(i[a].menu))return!0}}(t),!n&&t.length>0&&(r=t[0].text,o.state.set("value",t[0].value)),o.state.set("menu",t)),o.state.set("text",e.text||r),o.classes.add("listbox"),o.on("select",function(t){var n=t.control;i&&(t.lastControl=i),e.multiple?n.active(!n.active()):o.value(t.control.value()),i=n})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}var n=this;return n.on("show",function(t){e(t.control,n.value())}),n.state.on("change:value",function(e){var t=function e(t,n){var r;if(t)for(var i=0;i<t.length;i++){if(t[i].value===n)return t[i];if(t[i].menu&&(r=e(t[i].menu,n)))return r}}(n.state.get("menu"),e.value);n.text(t?t.text:n.settings.text)}),n._super()}})}),n(Yt,[vt],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),n(Xt,[Pe,we],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),n(Kt,[Pe],function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n=this,r="";return e=t(n._options),n.size&&(r=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+r+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),n(Gt,[Pe,we,pe],function(e,t,n){function r(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute("aria-"+t,n)}function o(e,t){var r,o,a,s,l;"v"==e.settings.orientation?(s="top",a="height",o="h"):(s="left",a="width",o="w"),l=e.getEl("handle"),r=(e.layoutRect()[o]||100)-n.getSize(l)[a],l.style[s]=r*((t-e._minValue)/(e._maxValue-e._minValue))+"px",l.style.height=e.layoutRect().h+"px",i(l,"valuenow",t),i(l,"valuetext",""+e.settings.previewFilter(t)),i(l,"valuemin",e._minValue),i(l,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+e.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,i,o,a,s,l,u=this;e=u._minValue,i=u._maxValue,"v"==u.settings.orientation?(o="screenY",a="top",s="height",l="h"):(o="screenX",a="left",s="width",l="w"),u._super(),function(e,t){function n(n){var i;i=u.value(),i=r(i=function(e,t,n){return n*(t-e)-e}(e,t,function(e,t,n){return(i+e)/(t-e)}(e,t)+.05*n),e,t),u.value(i),u.fire("dragstart",{value:i}),u.fire("drag",{value:i}),u.fire("dragend",{value:i})}u.on("keydown",function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}})}(e,i,u.getEl("handle")),function(e,i,c){var d,f,h,p,g;u._dragHelper=new t(u._id,{handle:u._id+"-handle",start:function(e){d=e[o],f=parseInt(u.getEl("handle").style[a],10),h=(u.layoutRect()[l]||100)-n.getSize(c)[s],u.fire("dragstart",{value:g})},drag:function(t){p=r(f+(t[o]-d),0,h),c.style[a]=p+"px",u.value(g=e+p/h*(i-e)),u.tooltip().text(""+u.settings.previewFilter(g)).show().moveRel(c,"bc tc"),u.fire("drag",{value:g})},stop:function(){u.tooltip().hide(),u.fire("dragend",{value:g})}})}(e,i,u.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){o(e,t.value)}),e._super()}})}),n(Jt,[Pe],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),n(Qt,[Vt,pe,h],function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,r=this,i=r.getEl(),o=r.layoutRect();return r._super(),e=i.lastChild,n(i.firstChild).css({width:o.w-t.getSize(e).width,height:o.h-2}),n(e).css({height:o.h-2}),r},activeMenu:function(e){n(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=t.settings.icon?r+"ico "+r+"i-"+i:"",o&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+r+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(i?"\xa0":"")+t._menuBtnText:"")+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),n(Zt,[Dt],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),n(en,[Se,h,pe],function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e,t,r,i=this;t=(t=n.getSize(i.getEl("head")).width)<0?0:t,r=0,i.items().each(function(e){t=Math.max(t,e.layoutRect().minW),r=Math.max(r,e.layoutRect().minH)}),i.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=r,e.layoutRect({x:0,y:0,w:t,h:r})});var o=n.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=r+o,(e=i._super()).deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),n(tn,[Pe,f,pe],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,r,i,o=this,a=0;e=o.getEl().style,t=o._layoutRect,i=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),r=(n=o.borderBox).left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==i.x&&(e.left=t.x+"px",i.x=t.x),t.y!==i.y&&(e.top=t.y+"px",i.y=t.y),t.w!==i.w&&(e.width=t.w-r+"px",i.w=t.w),t.h!==i.h&&(e.height=t.h-a+"px",i.h=t.h),o._lastRepaintRect=i,o.fire("repaint",{},!1),o},renderHtml:function(){var e,r,i=this,o=i.settings;return e={id:i._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=o[t]}),i.disabled()&&(e.disabled="disabled"),o.subtype&&(e.type=o.subtype),(r=n.create(o.multiline?"textarea":"input",e)).value=i.state.get("value"),r.className=i.classes,r.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),n("tinymce/Register",[],function(){var e=this||window;return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],function(){return e.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function(n){var r,o,a,s,l;for(r=0;r<n.length;r++){o=e,s=(a=n[r]).split(/[.\/]/);for(var u=0;u<s.length-1;++u)o[s[u]]===t&&(o[s[u]]={}),o=o[s[u]];o[s[s.length-1]]=i[a]}if(e.AMDLC_TESTS){for(a in l=e.privateModules||{},i)l[a]=i[a];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}([o,a,s,l,u,c,f,h,p,g,v,y,x,C,_,N,R,E,A,M,P,D,I,L,U,j,X,Q,oe,ae,se,le,ce,fe,he,ve,be,ye,xe,Ce,we,ke,Se,_e,Te,Ne,Re,Ee,Ae,Me,Pe,De,Be,Ie,Fe,ze,rt,it,ot,at,st,lt,ut,ct,dt,ft,ht,pt,gt,mt,vt,bt,yt,xt,Ct,wt,kt,St,_t,Tt,Nt,Rt,At,Mt,Pt,Dt,It,Lt,Ot,Ft,Ht,zt,Wt,Vt,Ut,jt,qt,$t,Yt,Xt,Kt,Gt,Jt,Qt,Zt,en,tn])}(window),function(){var e={},t=function(t){for(var r=e[t],i=r.deps,o=r.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=n(i[l]);var u=o.apply(null,s);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u},n=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},r=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},i=function(e,t){r(e,[],function(){return t})};i("1",tinymce.Env),i("2",tinymce.EditorManager),i("3",tinymce.ThemeManager),i("8",tinymce.util.Tools),i("9",tinymce.ui.Factory),i("a",tinymce.DOM),r("b",["8","9"],function(e,t){var n=function(n,r,i){var o,a=[];if(r)return e.each(r.split(/[ ,]/),function(e){var r=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,function(t){e.active(t)},!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,function(t){e.disabled(t)})};"|"==e?o=null:t.has(e)?(a.push(e={type:e,size:i}),o=null):(o||a.push(o={type:"buttongroup",items:[]}),n.buttons[e]&&("function"==typeof(e=n.buttons[e])&&(e=e()),e.type=e.type||"button",e.size=i,e=t.create(e),o.items.push(e),n.initialized?r():n.on("init",r)))}),{type:"toolbar",layout:"flow",items:a}};return{createToolbar:n,createToolbars:function(t,r){var i=[],o=t.settings,a=function(e){if(e)return i.push(n(t,e,r)),!0};if(e.isArray(o.toolbar)){if(0===o.toolbar.length)return;e.each(o.toolbar,function(e,t){o["toolbar"+(t+1)]=e}),delete o.toolbar}for(var s=1;s<10&&a(o["toolbar"+s]);s++);if(i.length||!1===o.toolbar||a(o.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),i.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}}}}),r("c",["8"],function(e){var t={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n=function(e,t){return"|"==t?{text:"|"}:e[t]},r=function(r,i,o){var a,s,l,u,c;if(c=e.makeMap((i.removed_menuitems||"").split(/[ ,]/)),i.menu?(s=i.menu[o],u=!0):s=t[o],s){a={text:s.title},l=[],e.each((s.items||"").split(/[ ,]/),function(e){n(r,e)&&!c[e]&&l.push(n(r,e))}),u||e.each(r,function(e){e.context==o&&("before"==e.separator&&l.push({text:"|"}),e.prependToContext?l.unshift(e):l.push(e),"after"==e.separator&&l.push({text:"|"}))});for(var d=0;d<l.length;d++)"|"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a};return{createMenuButtons:function(e){var n,i=[],o=e.settings,a=[];if(o.menu)for(n in o.menu)a.push(n);else for(n in t)a.push(n);for(var s="string"==typeof o.menubar?o.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var u=s[l];(u=r(e.menuItems,e.settings,u))&&i.push(u)}return i}}}),i("j",tinymce.util.Delay),i("k",tinymce.geom.Rect),r("d",["a","8","j","b","9","k"],function(e,t,n,r,i,o){var a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},s=function(e){t.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},l=function(e,t){e.moveTo(t.left,t.top)},u=function(e,n,r){n=n?n.substr(0,2):"",t.each({t:"down",b:"up"},function(t,i){e.classes.toggle("arrow-"+t,r(i,n.substr(0,1)))}),t.each({l:"left",r:"right"},function(t,i){e.classes.toggle("arrow-"+t,r(i,n.substr(1,1)))})},c=function(e,t,n,r,i,o){return o=a({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:a(r),contentAreaRect:a(i),panelRect:o})),o};return{addContextualToolbars:function(a){var d,f=a.settings,h=function(){return a.contextToolbars||[]},p=function(t,n){var r,i,d,h,p,g,m,v=f.inline_toolbar_position_handler;if(!a.removed){if(!t||!t.toolbar.panel)return void s(a);m=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],p=t.toolbar.panel,n&&p.show(),d=function(t){var n,r,i;return n=e.getPos(a.getContentAreaContainer()),r=a.dom.getRect(t),"BODY"===(i=a.dom.getRoot()).nodeName&&(r.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft,r.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop),r.x+=n.x,r.y+=n.y,r}(t.element),i=e.getRect(p.getEl()),h=e.getRect(a.getContentAreaContainer()||a.getBody()),"inline"!==e.getStyle(t.element,"display",!0)&&(d.w=t.element.clientWidth,d.h=t.element.clientHeight),a.inline||(h.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(t.element)&&d.w<25&&(d=o.inflate(d,0,8)),r=o.findBestRelativePosition(i,d,h,m),d=o.clamp(d,h),r?(g=o.relativePosition(i,d,r),l(p,c(v,g.x,g.y,d,h,i))):(h.h+=i.h,(d=o.intersect(h,d))?(r=o.findBestRelativePosition(i,d,h,["bc-tc","bl-tl","br-tr"]))?(g=o.relativePosition(i,d,r),l(p,c(v,g.x,g.y,d,h,i))):l(p,c(v,d.x,d.y,d,h,i)):p.hide()),u(p,r,function(e,t){return e===t})}},g=function(e){return function(){n.requestAnimationFrame(function(){a.selection&&p(b(a.selection.getNode()),e)})}},m=function(){d||(d=a.selection.getScrollContainer()||a.getWin(),e.bind(d,"scroll",g(!0)),a.on("remove",function(){e.unbind(d,"scroll")}))},v=function(){t.each(h(),function(e){e.panel&&e.panel.hide()})},b=function(e){var t,n,r,i=h();for(t=(r=a.$(e).parents().add(e)).length-1;t>=0;t--)for(n=i.length-1;n>=0;n--)if(i[n].predicate(r[t]))return{toolbar:i[n],element:r[t]};return null};a.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&n.setEditorTimeout(a,function(){var e;(e=b(a.selection.getNode()))?(v(),function(e){var t;e.toolbar.panel?(e.toolbar.panel.show(),p(e)):(m(),t=i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:r.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus()}}),e.toolbar.panel=t,t.renderTo(document.body).reflow(),p(e))}(e)):v()})}),a.on("blur hide contextmenu",v),a.on("ObjectResizeStart",function(){var e=b(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),a.on("ResizeEditor ResizeWindow",g(!0)),a.on("nodeChange",g(!1)),a.on("remove",function(){t.each(h(),function(e){e.panel&&e.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=b(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})}}}),r("e",[],function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}};return{addKeys:function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",function(){t.focus()})}}}),r("f",["8","9","1"],function(e,t,n){var r=function(e,t,n){var r=e.settings[n];r&&r(function(e){return{element:function(){return e}}}(t.getEl("body")))},i=function(t,n,i){e.each(i,function(e){var i=n.items().filter("#"+e.name)[0];i&&i.visible()&&e.name!==t&&(r(e,i,"onhide"),i.visible(!1))})},o=function(t,n){return e.grep(t,function(e){return e.name===n})[0]},a=function(e,n,a){return function(s){var l=s.control,u=l.parents().filter("panel")[0],c=u.find("#"+n)[0],d=o(a,n);i(n,u,a),l.parent().items().each(function(e){e.active(!1)}),c&&c.visible()?(r(d,c,"onhide"),c.hide(),l.active(!1)):(c?(c.show(),r(d,c,"onshow")):(c=t.create({type:"container",name:n,layout:"stack",classes:"sidebar-panel",html:""}),u.prepend(c),r(d,c,"onrender"),r(d,c,"onshow")),l.active(!0)),e.fire("ResizeEditor")}};return{hasSidebar:function(e){return!(n.ie&&!(n.ie>=11)||!e.sidebars)&&e.sidebars.length>0},createSidebar:function(t){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(t.sidebars,function(e){var n=e.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:a(t,e.name,t.sidebars)}})}]}}}}),r("g",[],function(){return{fireSkinLoaded:function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}}}}),r("6",["a"],function(e){var t=function(e){return{width:e.clientWidth,height:e.clientHeight}},n=function(n,r,i){var o,a,s,l,u=n.settings;o=n.getContainer(),a=n.getContentAreaContainer().firstChild,s=t(o),l=t(a),null!==r&&(r=Math.max(u.min_width||100,r),r=Math.min(u.max_width||65535,r),e.setStyle(o,"width",r+(s.width-l.width)),e.setStyle(a,"width",r)),i=Math.max(u.min_height||100,i),i=Math.min(u.max_height||65535,i),e.setStyle(a,"height",i),n.fire("ResizeEditor")};return{resizeTo:n,resizeBy:function(e,t,r){var i=e.getContentAreaContainer();n(e,i.clientWidth+t,i.clientHeight+r)}}}),r("4",["8","9","a","b","c","d","e","f","g","6"],function(e,t,n,r,i,o,a,s,l,u){var c=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},d=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[c("0"),s.createSidebar(e)]}};return{render:function(e,f,h){var p,g,m,v=e.settings;return h.skinUiCss&&n.styleSheetLoader.load(h.skinUiCss,l.fireSkinLoaded(e)),p=f.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===v.menubar?null:{type:"menubar",border:"0 0 1 0",items:i.createMenuButtons(e)},r.createToolbars(e,v.toolbar_items_size),s.hasSidebar(e)?d(e):c("1 0 0 0")]}),!1!==v.resize&&(g={type:"resizehandle",direction:v.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;m={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){u.resizeTo(e,"both"===v.resize?m.width+t.deltaX:null,m.height+t.deltaY)}}),!1!==v.statusbar&&p.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},g]}),e.fire("BeforeRenderUI"),e.on("SwitchMode",function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}}(p)),p.renderBefore(h.targetNode).reflow(),v.readonly&&e.setMode("readonly"),v.width&&n.setStyle(p.getEl(),"width",v.width),e.on("remove",function(){p.remove(),p=null}),a.addKeys(e,p),o.addContextualToolbars(e),{iframeContainer:p.find("#iframe")[0].getEl(),editorContainer:p.getEl()}}}}),i("h",tinymce.ui.FloatPanel),r("5",["8","9","a","h","b","c","d","e","g"],function(e,t,n,r,i,o,a,s,l){return{render:function(e,u,c){var d,f,h=e.settings;h.fixed_toolbar_container&&(f=n.select(h.fixed_toolbar_container)[0]);var p=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),r=e.getBody(),i=0,o=0;if(t){var a=n.getPos(r),s=n.getPos(t);i=Math.max(0,s.x-a.x),o=Math.max(0,s.y-a.y)}d.fixed(!1).moveRel(r,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,o)}},g=function(){d&&(d.show(),p(),n.addClass(e.getBody(),"mce-edit-focus"))},m=function(){d&&(d.hide(),r.hideAll(),n.removeClass(e.getBody(),"mce-edit-focus"))},v=function(){return d?void(d.visible()||g()):(d=u.panel=t.create({type:f?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!f,border:1,items:[!1===h.menubar?null:{type:"menubar",border:"0 0 1 0",items:o.createMenuButtons(e)},i.createToolbars(e,h.toolbar_items_size)]}),e.fire("BeforeRenderUI"),d.renderTo(f||document.body).reflow(),s.addKeys(e,d),g(),a.addContextualToolbars(e),e.on("nodeChange",p),e.on("activate",g),e.on("deactivate",m),void e.nodeChanged())};return h.content_editable=!0,e.on("focus",function(){c.skinUiCss?n.styleSheetLoader.load(c.skinUiCss,v,v):v()}),e.on("blur hide",m),e.on("remove",function(){d&&(d.remove(),d=null)}),c.skinUiCss&&n.styleSheetLoader.load(c.skinUiCss,l.fireSkinLoaded(e)),{}}}}),i("i",tinymce.ui.Throbber),r("7",["i"],function(e){return{setup:function(t,n){var r;t.on("ProgressState",function(t){r=r||new e(n.panel.getEl("body")),t.state?r.show(t.time):r.hide()})}}}),r("0",["1","2","3","4","5","6","7"],function(e,t,n,r,i,o,a){var s=function(n,o,s){var l=n.settings,u=!1!==l.skin&&(l.skin||"lightgray");if(u){var c=l.skin_url;c=c?n.documentBaseURI.toAbsolute(c):t.baseURL+"/skins/"+u,s.skinUiCss=e.documentMode<=7?c+"/skin.ie7.min.css":c+"/skin.min.css",n.contentCSS.push(c+"/content"+(n.inline?".inline":"")+".min.css")}return a.setup(n,o),l.inline?i.render(n,o,s):r.render(n,o,s)};return n.add("modern",function(e){return{renderUI:function(t){return s(e,this,t)},resizeTo:function(t,n){return o.resizeTo(e,t,n)},resizeBy:function(t,n){return o.resizeBy(e,t,n)}}}),function(){}}),n("0")()}(),tinymce.PluginManager.add("link",function(e){function t(e){return e&&"A"===e.nodeName&&e.href}function n(e){return tinymce.util.Tools.grep(e,t).length>0}function r(t){return e.dom.getParent(t,"a[href]")}function i(){return r(e.selection.getStart())}function o(t){if(t){var n=function(e){return e.getAttribute("data-mce-href")||e.getAttribute("href")}(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else!function(e){if(!tinymce.Env.ie||tinymce.Env.ie>10){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}(t,n)}else{var r=window.open("","_blank");if(r){r.opener=null;var i=r.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(e)+'">'),i.close()}}}(t.href)}}function a(){o(i())}function s(t){return function(){var n=e.settings.link_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function l(e,t,n){return function e(n,r){return r=r||[],tinymce.each(n,function(n){var i={text:n.text||n.title};n.menu?i.menu=e(n.menu):(i.value=n.value,t&&t(i)),r.push(i)}),r}(e,n||[])}function u(t){function n(e){var t=s.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),s.find("#href").value(e.control.value())}function r(){!a&&0===b.text.length&&u&&this.parent().parent().find("#text")[0].value(this.value())}var i,o,a,s,u,d,f,h,p,g,m,v,b={},y=e.selection,x=e.dom;i=y.getNode(),o=x.getParent(i,"a[href]"),u=function(e){var t=y.getContent();return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1==t.indexOf("href=")))}(),b.text=a=o?o.innerText||o.textContent:y.getContent({format:"text"}),b.href=o?x.getAttrib(o,"href"):"",o?b.target=x.getAttrib(o,"target"):e.settings.default_link_target&&(b.target=e.settings.default_link_target),(v=x.getAttrib(o,"rel"))&&(b.rel=v),(v=x.getAttrib(o,"class"))&&(b.class=v),(v=x.getAttrib(o,"title"))&&(b.title=v),u&&(d={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){b.text=this.value()}}),t&&(f={type:"listbox",label:"Link list",values:l(t,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:n,value:e.convertURL(b.href,"href"),onPostRender:function(){f=this}}),!1!==e.settings.target_list&&(e.settings.target_list||(e.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),p={name:"target",type:"listbox",label:"Target",values:l(e.settings.target_list)}),e.settings.rel_list&&(h={name:"rel",type:"listbox",label:"Rel",values:l(e.settings.rel_list)}),e.settings.link_class_list&&(g={name:"class",type:"listbox",label:"Class",values:l(e.settings.link_class_list,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),!1!==e.settings.link_title&&(m={name:"title",type:"textbox",label:"Title",value:b.title}),s=e.windowManager.open({title:"Insert link",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(t){var n=t.meta||{};f&&f.value(e.convertURL(this.value(),"href")),tinymce.each(t.meta,function(e,t){var n=s.find("#"+t);"text"===t?0===a.length&&(n.value(e),b.text=e):n.value(e)}),n.attach&&(c={href:this.value(),attach:n.attach}),n.text||r.call(this)},onkeyup:r,onbeforecall:function(e){e.meta=s.toJSON()}},d,m,function(t){var r=[];if(tinymce.each(e.dom.select("a:not([href])"),function(e){var n=e.name||e.id;n&&r.push({text:n,value:"#"+n,selected:-1!=t.indexOf("#"+n)})}),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:n}}(b.href),f,h,p,g],onSubmit:function(t){function n(t,n){var r=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})}function r(){var t={href:s,target:b.target?b.target:null,rel:b.rel?b.rel:null,class:b.class?b.class:null,title:b.title?b.title:null};e.settings.allow_unsafe_link_target||(t.rel=function(e,t){function n(e){var t=new RegExp("("+r.replace(" ","|")+")","g");return e&&(e=tinymce.trim(e.replace(t,""))),e||null}var r="noopener noreferrer";return t?function(e){return(e=n(e))?[e,r].join(" "):r}(e):n(e)}(t.rel,"_blank"==t.target)),s===c.href&&(c.attach(),c={}),o?(e.focus(),u&&b.text!=a&&("innerText"in o?o.innerText=b.text:o.textContent=b.text),x.setAttribs(o,t),y.select(o),e.undoManager.add()):u?e.insertContent(x.createHTML("a",t,x.encode(b.text))):e.execCommand("mceInsertLink",!1,t)}function i(){e.undoManager.transact(r)}var s;return b=tinymce.extend(b,t.data),(s=b.href)?s.indexOf("@")>0&&-1==s.indexOf("//")&&-1==s.indexOf("mailto:")?void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(s="mailto:"+s),i()}):e.settings.link_assume_external_targets&&!/^\w+:/i.test(s)||!e.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(s)?void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(s="http://"+s),i()}):void i():void e.execCommand("unlink")}})}var c={};e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:s(u),stateSelector:"a[href]"}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),e.addContextToolbar&&(e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:a}),e.addContextToolbar(function(n){var r,i,o;return!!(e.settings.link_context_toolbar&&!function(){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}()&&t(n)&&(r=e.selection,i=r.getRng(),o=i.startContainer,3==o.nodeType&&r.isCollapsed()&&i.startOffset>0&&i.startOffset<o.data.length))},"openlink | link unlink")),e.addShortcut("Meta+K","",s(u)),e.addCommand("mceLink",s(u)),e.on("click",function(e){var t=r(e.target);t&&tinymce.util.VK.metaKeyPressed(e)&&(e.preventDefault(),o(t))}),e.on("keydown",function(e){var t=i();t&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),o(t))}),this.showDialog=u,e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:a,onPostRender:function(){var t=this,r=function(e){n(e.parents)?t.show():t.hide()};n(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",r),t.on("remove",function(){e.off("nodechange",r)})},prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:s(u),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(e,t){"use strict";function n(e,t){for(var n,r=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||i(e[a])))throw"module definition dependecy not found: "+e[a];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){o[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}var o={};r("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(e,t,n){function r(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}return{filter:r,innerText:function(i){var o=new n,a=new t({},o),s="",l=o.getShortEndedElements(),u=e.makeMap("script noscript style textarea video audio iframe object"," "),c=o.getBlockElements();return i=r(i,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,r=t;if("br"!==n)if(l[n]&&(s+=" "),u[n])s+=" ";else{if(3==t.type&&(s+=t.value),!t.shortEnded&&(t=t.firstChild))do{e(t)}while(t=t.next);c[n]&&r.next&&(s+="\n","p"==n&&(s+="\n"))}else s+="\n"}(a.parse(i)),s},trimHtml:function(e){return r(function(e){var t="\x3c!--StartFragment--\x3e",n="\x3c!--EndFragment--\x3e",r=e.indexOf(t);if(-1!==r){var i=e.substr(r+t.length),o=i.indexOf(n);if(-1!==o&&/^<\/(p|h[1-6]|li)>/i.test(i.substr(o+n.length,5)))return i.substr(0,o)}return e}(e),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}}}}),r("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(e){var t=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},n=function(e){return t(e)&&/.(gif|jpe?g|png)$/.test(e)},r=function(e,n,r){return!(!1!==e.selection.isCollapsed()||!t(n))&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0}(e,n,r)},i=function(e,t,r){return!!n(t)&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0}(e,t,r)},o=function(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0},a=function(t,n){e.each([r,i,o],function(e){return!0!==e(t,n,o)})};return{isImageUrl:n,isAbsoluteUrl:t,insertContent:function(e,t){!1===e.settings.smart_paste?o(e,t):a(e,t)}}}),r("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(e,t,n,r,i,o){return function(a){function s(e){var t,n=a.dom;if(t=a.fire("BeforePastePreProcess",{content:e}),e=(t=a.fire("PastePreProcess",t)).content,!t.isDefaultPrevented()){if(a.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var r=n.add(a.getBody(),"div",{style:"display:none"},e);t=a.fire("PastePostProcess",{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(a,e)}}function l(e){e=a.dom.encode(e).replace(/\r\n/g,"\n");var t,n=a.dom.getParent(a.selection.getStart(),a.dom.isBlock),i=a.settings.forced_root_block;i&&(t=(t=a.dom.createHTML(i,a.settings.forced_root_block_attrs)).substr(0,t.length-3)+">"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!i?e=r.filter(e,[[/\n/g,"<br>"]]):-1!=(e=r.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(e=t+e),s(e)}function u(){var t,n=a.dom,r=a.getBody(),i=a.dom.getViewPort(a.getWin()).y,o=20;if(C=a.selection.getRng(),a.inline&&(t=a.selection.getScrollContainer())&&t.scrollTop>0&&(i=t.scrollTop),C.getClientRects){var s=function(e){var t,r,i,o=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1==o.nodeType){for(i=o.childNodes[C.startOffset];i&&3==i.nodeType&&!i.data.length;)i=i.nextSibling;if(i)return"BR"==i.tagName&&(r=n.doc.createTextNode("\ufeff"),i.parentNode.insertBefore(r,i),(e=n.createRng()).setStartBefore(r),e.setEndAfter(r),t=e.getClientRects(),n.remove(r)),t.length?t[0]:void 0}}(C);if(s)o=i+(s.top-n.getPos(r).y);else{o=i;var l=C.startContainer;l&&(3==l.nodeType&&l.parentNode!=r&&(l=l.parentNode),1==l.nodeType&&(o=n.getPos(l,t||r).y))}}x=n.add(a.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+o+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},T),(e.ie||e.gecko)&&n.setStyle(x,"left","rtl"==n.getStyle(r,"direction",!0)?65535:-65535),n.bind(x,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),x.focus(),a.selection.select(x,!0)}function c(){if(x){for(var e;e=a.dom.get("mcepastebin");)a.dom.remove(e),a.dom.unbind(e);C&&a.selection.setRng(C)}x=C=null}function d(){var e,t,n,r="";for(e=a.dom.select("div[id=mcepastebin]"),t=0;t<e.length;t++)(n=e[t]).firstChild&&"mcepastebin"==n.firstChild.id&&(n=n.firstChild),r!=T&&(r+=n.innerHTML);return r}function f(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1==n.indexOf(N)&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var i=e.types[r];t[i]=e.getData(i)}}return t}function h(e){return f(e.clipboardData||a.getDoc().dataTransfer)}function p(e){return b(e,"text/html")||b(e,"text/plain")}function g(e,t,n){e&&(a.selection.setRng(e),e=null);var r=t.result,i=function(e){var t;return-1!==(t=e.indexOf(","))?e.substr(t+1):null}(r),o=new Image;if(o.src=r,function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(o)}(a.settings)){var l,u,c=a.editorUpload.blobCache;(u=c.findFirst(function(e){return e.base64()===i}))?l=u:(l=c.create(R(),n,i),c.add(l)),s('<img src="'+l.blobUri()+'">')}else s('<img src="'+r+'">')}function m(e,t){function n(n){var r,i,o,a=!1;if(n)for(r=0;r<n.length;r++)if(/^image\/(jpeg|png|gif|bmp)$/.test((i=n[r]).type)){var s=i.getAsFile?i.getAsFile():i;(o=new FileReader).onload=g.bind(null,t,o,s),o.readAsDataURL(s),e.preventDefault(),a=!0}return a}var r=e.clipboardData||e.dataTransfer;if(a.settings.paste_data_images&&r)return n(r.items)||n(r.files)}function v(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc())}function b(e,t){return t in e&&e[t].length>0}function y(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}var x,C,w,k=this,S=0,_=!1,T="%MCEPASTEBIN%",N="data:text/mce-internal,",R=r.createIdGenerator("mceclip");k.pasteHtml=s,k.pasteText=l,k.pasteImageData=m,a.on("preInit",function(){(function(){function t(e,t,n){var i;return b(e,"text/html")?i=e["text/html"]:(i=d())==T&&(n=!0),i=r.trimHtml(i),x&&x.firstChild&&"mcepastebin"===x.firstChild.id&&(n=!0),c(),i.length||(n=!0),n&&(i=b(e,"text/plain")&&-1==i.indexOf("</p>")?e["text/plain"]:r.innerText(i)),i==T?void(t||a.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(n?l(i):s(i))}a.on("keydown",function(t){function n(e){y(e)&&!e.isDefaultPrevented()&&c()}if(y(t)&&!t.isDefaultPrevented()){if((w=t.shiftKey&&86==t.keyCode)&&e.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(t.stopImmediatePropagation(),S=(new Date).getTime(),e.ie&&w)return t.preventDefault(),void a.fire("paste",{ieFake:!0});c(),u(),a.once("keyup",n),a.once("paste",function(){a.off("keyup",n)})}}),a.on("paste",function(n){var r=(new Date).getTime(),i=h(n),s=(new Date).getTime()-r,l=(new Date).getTime()-S-s<1e3,f="text"==k.pasteFormat||w;return w=!1,n.isDefaultPrevented()||function(e){var t=n.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}()?void c():!p(i)&&m(n,C||a.selection.getRng())?void c():(l||n.preventDefault(),!e.ie||l&&!n.ieFake||(u(),a.dom.bind(x,"paste",function(e){e.stopPropagation()}),a.getDoc().execCommand("Paste",!1,null),i["text/html"]=d()),void(b(i,"text/html")?(n.preventDefault(),t(i,l,f)):o.setEditorTimeout(a,function(){t(i,l,f)},0)))}),a.on("dragstart dragend",function(e){_="dragstart"==e.type}),a.on("drop",function(e){var t,n;if(n=v(e),!e.isDefaultPrevented()&&!_&&(p(t=f(e.dataTransfer))&&!function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}(t)||!m(e,n))&&n&&!1!==a.settings.paste_filter_drop){var i=t["mce-internal"]||t["text/html"]||t["text/plain"];i&&(e.preventDefault(),o.setEditorTimeout(a,function(){a.undoManager.transact(function(){t["mce-internal"]&&a.execCommand("Delete"),a.selection.setRng(n),i=r.trimHtml(i),t["text/html"]?s(i):l(i)})}))}}),a.on("dragover dragend",function(e){a.settings.paste_data_images&&e.preventDefault()})})(),a.parser.addNodeFilter("img",function(t,n,r){function i(t){t.attr("data-mce-object")||u===e.transparentSrc||t.remove()}function o(e){return 0===e.indexOf("webkit-fake-url")}function s(e){return 0===e.indexOf("data:")}if(!a.settings.paste_data_images&&r.data&&!0===r.data.paste)for(var l=t.length;l--;){var u=t[l].attributes.map.src;u&&(o(u)?i(t[l]):!a.settings.allow_html_data_urls&&s(u)&&i(t[l]))}})})}}),r("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(e,t,n,r,i,o){function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(t){var n,r;return r=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),e.each(r,function(e){if(e.test(t))return n=!0,!1}),n}function l(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function u(u){var c=u.settings;u.on("BeforePastePreProcess",function(d){function f(t,n){var r,o={},a=u.dom.parseStyle(n);return e.each(a,function(e,i){switch(i){case"mso-list":(r=/\w+ \w+([0-9]+)/i.exec(n))&&(t._listLevel=parseInt(r[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case"horiz-align":i="text-align";break;case"vert-align":i="vertical-align";break;case"font-color":case"mso-foreground":i="color";break;case"mso-background":case"mso-highlight":i="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(o[i]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===i.indexOf("mso-comment")?void t.remove():void(0!==i.indexOf("mso-")&&("all"==h||p&&p[i])&&(o[i]=e))}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],t.wrap(new i("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],t.wrap(new i("i",1))),(o=u.dom.serializeStyle(o,t.name))||null}var h,p,g=d.content;if(g=(g=g.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(h=c.paste_retain_style_properties)&&(p=e.makeMap(h.split(/[, ]/))),!1!==c.paste_enable_default_filters&&a(d.content)){d.wordContent=!0,g=o.filter(g,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var m=c.paste_word_valid_elements;m||(m="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var v=new n({valid_elements:m,valid_children:"-li[p]"});e.each(v.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var b=new t({},v);b.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",f(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),b.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),b.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),b.addNodeFilter("a",function(e){for(var t,n,r,i=e.length;i--;)if(n=(t=e[i]).attr("href"),r=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var y=b.parse(g);!1!==c.paste_convert_word_fake_lists&&function(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e,t,r){var s=e._listLevel||u;s!=u&&(s<u?o&&(o=o.parent.parent):(a=o,o=null)),o&&o.name==t?o.append(e):(a=a||o,o=new i(t,1),r>1&&o.attr("start",""+r),e.wrap(o)),e.name="li",s>u&&a&&a.lastChild.append(o),u=s,function e(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{e(t)}while(t=t.next)}(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var o,a,u=1,c=[],d=e.firstChild;null!=d;)if(c.push(d),null!==(d=d.walk()))for(;void 0!==d&&d.parent!==e;)d=d.walk();for(var f=0;f<c.length;f++)if("p"==(e=c[f]).name&&e.firstChild){var h=t(e);if(l(h)){r(e,"ul");continue}if(s(h)){var p=/([0-9]+)\./.exec(h),g=1;p&&(g=parseInt(p[1],10)),r(e,"ol",g);continue}if(e._listLevel){r(e,"ul",1);continue}o=null}else a=o,o=null}(y),d.content=new r({validate:c.validate},v).serialize(y)}})}return u.isWordContent=a,u}),r("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(e,t,n,r){return function(i){function o(e){i.on("BeforePastePreProcess",function(t){t.content=e(t.content)})}e.webkit&&o(function(e){if(n.isWordContent(e))return e;var t=i.settings.paste_webkit_styles;if(!1===i.settings.paste_remove_styles_if_webkit||"all"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var r=i.dom,o=i.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,n,i,a){var s=r.parseStyle(i,"span"),l={};if("none"===t)return n+a;for(var u=0;u<t.length;u++){var c=s[t[u]],d=r.getStyle(o,t[u],!0);/color/.test(t[u])&&(c=r.toHex(c),d=r.toHex(d)),d!=c&&(l[t[u]]=c)}return(l=r.serializeStyle(l,"span"))?n+' style="'+l+'"'+a:n+a})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}),e.ie&&(o(function(e){if(!n.isWordContent(e))return e;var o=[];t.each(i.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+o.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=r.filter(e,[[a,"$1"]]),r.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),i.on("PastePostProcess",function(e){i.$("a",e.node).find("font,u").each(function(e,t){i.dom.remove(t,!0)})}))}}),r("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(e,t,n,r){var i;e.add("paste",function(o){function a(){if("text"==l.pasteFormat)l.pasteFormat="html",o.fire("PastePlainTextToggle",{state:!1});else if(l.pasteFormat="text",o.fire("PastePlainTextToggle",{state:!0}),!i&&!1!==o.settings.paste_plaintext_inform){var e=o.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");o.notificationManager.open({text:e,type:"info"}),i=!0}o.focus()}function s(){var e=this;e.active("text"===l.pasteFormat),o.on("PastePlainTextToggle",function(t){e.active(t.state)})}var l,u=this,c=o.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(c.plugins)&&e.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(u.clipboard=l=new t(o),u.quirks=new r(o),u.wordFilter=new n(o),o.settings.paste_as_text&&(u.clipboard.pasteFormat="text"),c.paste_preprocess&&o.on("PastePreProcess",function(e){c.paste_preprocess.call(u,u,e)}),c.paste_postprocess&&o.on("PastePostProcess",function(e){c.paste_postprocess.call(u,u,e)}),o.addCommand("mceInsertClipboardContent",function(e,t){t.content&&u.clipboard.pasteHtml(t.content),t.text&&u.clipboard.pasteText(t.text)}),o.settings.paste_block_drop&&o.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),o.settings.paste_data_images||o.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),o.addCommand("mceTogglePlainTextPaste",a),o.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:a,onPostRender:s}),void o.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:l.pasteFormat,onclick:a,onPostRender:s}))})}),function(n){var r,i,a,s,l;for(r=0;r<n.length;r++){i=e,s=(a=n[r]).split(/[.\/]/);for(var u=0;u<s.length-1;++u)i[s[u]]===t&&(i[s[u]]={}),i=i[s[u]];i[s[s.length-1]]=o[a]}if(e.AMDLC_TESTS){for(a in l=e.privateModules||{},o)l[a]=o[a];for(r=0;r<n.length;r++)delete l[n[r]];e.privateModules=l}}(["tinymce/pasteplugin/Utils"])}(window),function(e,t){"use strict";function n(e,t){for(var n,r=[],a=0;a<e.length;++a){if(!(n=o[e[a]]||i(e[a])))throw"module definition dependecy not found: "+e[a];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){o[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}var o={};r("tinymce/tableplugin/Utils",["tinymce/Env"],function(e){var t=function(e){return function(t,n){t&&(1===(n=parseInt(n,10))||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},n=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:t("colSpan"),setRowSpan:t("rowspan"),getColSpan:n("colSpan"),getRowSpan:n("rowSpan"),setSpanVal:function(e,n,r){t(n)(e,r)},getSpanVal:function(e,t){return n(t)(e)},paddCell:function(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus="1" />'))}}}),r("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},r=function(e,t,r){var i=n(e,t,r);return i?i.elm:null},i=function(e,t,i,o){var a,s=0,l=r(e,t,i);for(a=i;(o>0?a<e.length:a>=0)&&l===n(e,t,a).elm;a+=o)s++;return s},o=function(e,t,n){for(var r,i=e[n],o=t;o<i.length;o++)if((r=i[o]).real)return r.elm;return null},a=function(e,n){for(var r,o=[],a=e[n],s=0;s<a.length;s++)o.push({elm:(r=a[s]).elm,above:i(e,s,n,-1)-1,below:i(e,s,n,1)-1}),s+=t.getColSpan(r.elm)-1;return o},s=function(e,n){var r=e.elm.ownerDocument.createElement("td");return t.setColSpan(r,t.getColSpan(e.elm)),t.setRowSpan(r,n),t.paddCell(r),r},l=function(e,t,n,r){var i=o(e,n+1,r);i?i.parentNode.insertBefore(t,i):(i=o(e,0,r)).parentNode.appendChild(t)},u=function(e,n,r,i){if(0!==n.above){t.setRowSpan(n.elm,n.above);var o=s(n,n.below+1);return l(e,o,r,i),o}return null},c=function(e,n,r,i){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var o=s(n,n.below);return l(e,o,r,i+1),o}return null};return{splitAt:function(t,n,i,o){var s=a(t,i),l=r(t,n,i).parentNode,d=[];return e.each(s,function(e,n){null!==(o?u(t,e,n,i):c(t,e,n,i))&&d.push(d)}),{cells:d,row:l}}}}),r("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(e,n,r,i){var o=e.each,a=r.getSpanVal,s=r.setSpanVal;return function(l,u,c){function d(){l.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function f(e){return e===l.getBody()}function h(t,n){return t?(n=e.map(n.split(","),function(e){return e.toLowerCase()}),e.grep(t.childNodes,function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())})):[]}function p(){var e=0;L=[],O=0,o(["thead","tbody","tfoot"],function(t){var n=h(u,t)[0],r=h(n,"tr");o(r,function(n,r){r+=e,o(h(n,"td,th"),function(e,n){var i,o,s,l;if(L[r])for(;L[r][n];)n++;for(s=a(e,"rowspan"),l=a(e,"colspan"),o=r;o<r+s;o++)for(L[o]||(L[o]=[]),i=n;i<n+l;i++)L[o][i]={part:t,real:o==r&&i==n,elm:e,rowspan:s,colspan:l};O=Math.max(O,n+1)})}),e+=r.length})}function g(e){return l.fire("newrow",{node:e}),e}function m(e){return l.fire("newcell",{node:e}),e}function v(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function b(e,t){var n;if(n=L[t])return n[e]}function y(e,t){return e[t]?e[t]:null}function x(e,t){for(var n=[],r=0;r<e.length;r++)n.push(b(t,r));return n}function C(e){return e&&(!!W.getAttrib(e.elm,"data-mce-selected")||e==c)}function w(){var e=[];return o(u.rows,function(t){o(t.cells,function(n){if(W.getAttrib(n,"data-mce-selected")||c&&n==c.elm)return e.push(t),!1})}),e}function k(t){var i,a={};return!1!==l.settings.table_clone_elements&&(a=e.makeMap((l.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var r;if(3==e.nodeType)return o(W.getParents(e.parentNode,null,t).reverse(),function(e){a[e.nodeName]&&(e=v(e,!1),i?r&&r.appendChild(e):i=r=e,r=e)}),r&&(r.innerHTML=n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),m(t=v(t,!1)),s(t,"rowSpan",1),s(t,"colSpan",1),i?t.appendChild(i):r.paddCell(t),t}function S(){var e,t=W.createRng();return o(W.select("tr",u),function(e){0===e.cells.length&&W.remove(e)}),0===W.select("tr",u).length?(t.setStartBefore(u),t.setEndBefore(u),z.setRng(t),void W.remove(u)):(o(W.select("thead,tbody,tfoot",u),function(e){0===e.rows.length&&W.remove(e)}),p(),void(F&&(e=L[Math.min(L.length-1,F.y)],e&&(z.select(e[Math.min(e.length-1,F.x)].elm,!0),z.collapse(!0)))))}function _(e,t,n,r){var i,o,a,s,l;for(i=L[t][e].elm.parentNode,a=1;a<=n;a++)if(i=W.getNext(i,"tr")){for(o=e;o>=0;o--)if((l=L[t+a][o].elm).parentNode==i){for(s=1;s<=r;s++)W.insertAfter(k(l),l);break}if(-1==o)for(s=1;s<=r;s++)i.insertBefore(k(i.cells[0]),i.cells[0])}}function T(){o(L,function(e,t){o(e,function(e,n){var r,i,o;if(C(e)&&(r=a(e=e.elm,"colspan"),i=a(e,"rowspan"),r>1||i>1)){for(s(e,"rowSpan",1),s(e,"colSpan",1),o=0;o<r-1;o++)W.insertAfter(k(e),e);_(n,t,i-1,r)}})})}function N(e,t,n){for(var r=[],i=0;i<e.length;i++)(i<t||i>n)&&r.push(e[i]);return r}function R(t){return e.grep(t,function(e){return!1===e.real})}function E(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].elm;t[t.length-1]!==r&&t.push(r)}return t}function A(t,n,i,o,a){var s=0;if(a-i<1)return 0;for(var l=i+1;l<=a;l++){var u=N(y(t,l),n,o),c=R(u);u.length===c.length&&(e.each(E(c),function(e){r.setRowSpan(e,r.getRowSpan(e)-1)}),s++)}return s}function M(t,n,i,o,a){var s=0;if(o-n<1)return 0;for(var l=n+1;l<=o;l++){var u=N(x(t,l),i,a),c=R(u);u.length===c.length&&(e.each(E(c),function(e){r.setColSpan(e,r.getColSpan(e)-1)}),s++)}return s}function P(e){var n,r,i,l,u,c,d,f,h,p;if(o(L,function(r,i){if(o(r,function(t){if(C(t)&&(c=g(v(u=(t=t.elm).parentNode,!1)),n=i,e))return!1}),e)return n===t}),n!==t){for(l=0,p=0;l<L[0].length;l+=p)if(L[n][l]&&(p=a(r=L[n][l].elm,"colspan"),r!=i)){if(e){if(n>0&&L[n-1][l]&&(h=a(f=L[n-1][l].elm,"rowSpan"))>1){s(f,"rowSpan",h+1);continue}}else if((h=a(r,"rowspan"))>1){s(r,"rowSpan",h+1);continue}d=k(r),s(d,"colSpan",r.colSpan),c.appendChild(d),i=r}c.hasChildNodes()&&(e?u.parentNode.insertBefore(c,u):W.insertAfter(c,u))}}function D(e){var n,r;o(L,function(r){if(o(r,function(t,r){if(C(t)&&(n=r,e))return!1}),e)return n===t}),o(L,function(t,i){var o,l,u;t[n]&&(o=t[n].elm)!=r&&(u=a(o,"colspan"),l=a(o,"rowspan"),1==u?e?(o.parentNode.insertBefore(k(o),o),_(n,i,l-1,u)):(W.insertAfter(k(o),o),_(n,i,l-1,u)):s(o,"colSpan",o.colSpan+1),r=o)})}function B(e){var t=[];return o(e,function(e){o(e,function(e){t.push(e)})}),t}function I(e){var t;return o(L,function(n,r){return o(n,function(n,i){if(n.elm==e)return t={x:i,y:r},!1}),!t}),t}var L,O,F,H,z=l.selection,W=z.dom;u=u||W.getParent(z.getStart(!0),"table"),p(),(c=c||W.getParent(z.getStart(!0),"th,td"))&&(F=I(c),H=function(){var e,t;return e=t=0,o(L,function(n,r){o(n,function(n,i){var o,a;C(n)&&(i>e&&(e=i),r>t&&(t=r),(n=L[r][i]).real&&((o=n.colspan-1)&&i+o>e&&(e=i+o),(a=n.rowspan-1)&&r+a>t&&(t=r+a)))})}),{x:e,y:t}}(),c=b(F.x,F.y)),e.extend(this,{deleteTable:function(){var e=W.createRng();f(u)||(e.setStartAfter(u),e.setEndAfter(u),z.setRng(e),W.remove(u))},split:T,merge:function(t,n,r){var i,a,l,u,c,d,f,h,g,m,v,y,x;if(t?(u=(a=(i=I(t)).x)+(n-1),c=(l=i.y)+(r-1)):(F=H=null,o(L,function(e,t){o(e,function(e,n){C(e)&&(F||(F={x:n,y:t}),H={x:n,y:t})})}),F&&(a=F.x,l=F.y,u=H.x,c=H.y)),h=b(a,l),g=b(u,c),h&&g&&h.part==g.part){T(),p(),y=A(L,a,l,u,c),x=M(L,a,l,u,c),h=b(a,l).elm;var w=u-a-x+1,k=c-l-y+1;for(w===O&&k===L.length&&(w=1,k=1),w===O&&k>1&&(k=1),s(h,"colSpan",w),s(h,"rowSpan",k),f=l;f<=c;f++)for(d=a;d<=u;d++)L[f]&&L[f][d]&&(t=L[f][d].elm)!=h&&(m=e.grep(t.childNodes),o(m,function(e){h.appendChild(e)}),m.length&&(m=e.grep(h.childNodes),v=0,o(m,function(e){"BR"==e.nodeName&&v++<m.length-1&&h.removeChild(e)})),W.remove(t));S()}},insertRow:P,insertRows:function(e,t){t=t||w().length||1;for(var n=0;n<t;n++)P(e)},insertCol:D,insertCols:function(e,t){t=t||function(){var e=0;return o(L,function(t){if(o(t,function(t){C(t)&&e++}),e)return!1}),e}()||1;for(var n=0;n<t;n++)D(e)},splitCols:function(t){if(F){var n=i.splitAt(L,F.x,F.y,t);e.each(n.cells,m)}},deleteCols:function(){var t=[];if(f(u)){if(1==L[0].length)return;if(e.grep(B(L),C).length==B(L).length)return}o(L,function(n){o(n,function(n,r){C(n)&&-1===e.inArray(t,r)&&(o(L,function(e){var t,n=e[r].elm;(t=a(n,"colSpan"))>1?s(n,"colSpan",t-1):W.remove(n)}),t.push(r))})}),S()},deleteRows:function(){var e;e=w(),f(u)&&e.length==u.rows.length||(o(e.reverse(),function(e){!function(e){var t,n;o(e.cells,function(e){var n=a(e,"rowSpan");n>1&&(s(e,"rowSpan",n-1),_((t=I(e)).x,t.y,1,1))}),t=I(e.cells[0]),o(L[t.y],function(e){var t;(e=e.elm)!=n&&((t=a(e,"rowSpan"))<=1?W.remove(e):s(e,"rowSpan",t-1),n=e)})}(e)}),S())},cutRows:function(){var e=w();if(!f(u)||e.length!=u.rows.length)return W.remove(e),S(),e},copyRows:function(){var e=w();return o(e,function(t,n){e[n]=v(t,!0)}),e},pasteRows:function(t,n){var r,a,l;t&&(r=i.splitAt(L,F.x,F.y,n),a=r.row,e.each(r.cells,m),l=e.map(t,function(e){return e.cloneNode(!0)}),n||l.reverse(),o(l,function(e){var t,r,i=e.cells.length;for(g(e),t=0;t<i;t++)m(r=e.cells[t]),s(r,"colSpan",1),s(r,"rowSpan",1);for(t=i;t<O;t++)e.appendChild(m(k(e.cells[i-1])));for(t=O;t<i;t++)W.remove(e.cells[t]);n?a.parentNode.insertBefore(e,a):W.insertAfter(e,a)}),d())},getPos:I,setStartCell:function(e){F=I(e)},setEndCell:function(e){var t,n,r,i,o,a,s,l,u,c;if(H=I(e),F&&H){for(t=Math.min(F.x,H.x),n=Math.min(F.y,H.y),o=r=Math.max(F.x,H.x),a=i=Math.max(F.y,H.y),c=n;c<=i;c++)for(u=t;u<=r;u++)(e=L[c][u]).real&&((s=e.colspan-1)&&u+s>o&&(o=u+s),(l=e.rowspan-1)&&c+l>a&&(a=c+l));for(d(),c=n;c<=a;c++)for(u=t;u<=o;u++)L[c][u]&&W.setAttrib(L[c][u].elm,"data-mce-selected","1")}},moveRelIdx:function(e,t){var n,r,i;r=(n=I(e)).y*O+n.x;do{if(!(i=b((r+=t)%O,Math.floor(r/O))))break;if(i.elm!=e)return z.select(i.elm,!0),W.isEmpty(i.elm)&&z.collapse(!0),!0}while(i.elm==e);return!1},refresh:p})}}),r("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t,n,r,i){var o=r.each,a=i.getSpanVal;return function(s){function l(){s.on("KeyDown",function(e){var t,n,r=s.dom;37!=e.keyCode&&38!=e.keyCode||(t=s.selection.getRng(),(n=r.getParent(t.startContainer,"table"))&&s.getBody().firstChild==n&&function(e,t){var n,r=t.ownerDocument,i=r.createRange();return i.setStartBefore(t),i.setEnd(e.endContainer,e.endOffset),(n=r.createElement("body")).appendChild(i.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(t,n)&&((t=r.createRng()).setStartBefore(n),t.setEndBefore(n),s.selection.setRng(t),e.preventDefault()))})}function u(){s.on("KeyDown SetContent VisualAid",function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):s.dom.add(s.getBody(),"br",{"data-mce-bogus":"1"}))}),s.on("PreProcess",function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||"\xa0"==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&s.dom.remove(t)})}(function(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),i.paddCell(e)}s.on("keydown",function(i){var o,a,l,u;if((i.keyCode==e.DELETE||i.keyCode==e.BACKSPACE)&&!i.isDefaultPrevented()&&(o=s.dom.getParent(s.selection.getStart(),"table"))){if(a=s.dom.select("td,th",o),0===(l=r.grep(a,function(e){return!!s.dom.getAttrib(e,"data-mce-selected")})).length)return u=s.dom.getParent(s.selection.getStart(),"td,th"),void(s.selection.isCollapsed()&&u&&s.dom.isEmpty(u)&&(i.preventDefault(),n(u),t(u)));i.preventDefault(),s.undoManager.transact(function(){a.length==l.length?s.execCommand("mceTableDelete"):(r.each(l,n),t(l[0]))})}})})(),function(){var t=function(e,t){var n=s.selection.getRng(),r=e.ownerDocument.createTextNode("\xa0");n.startOffset?e.insertBefore(r,e.firstChild):e.appendChild(r),t&&(s.selection.select(r,!0),s.selection.collapse(!0))},r=function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()},i=function(e){return e.firstChild===e.lastChild&&e.firstChild},o=function(e){return e&&3===e.nodeType},a=function(e){var t=i(e);return o(t)&&1===t.data.length?t.data:null},l=function(e){var t=i(e),n=a(e);return t&&!o(t)||n&&!c(n)},u=function(e){return s.dom.isEmpty(e)||c(a(e))},c=function(e){return"\xa0"===e};s.on("keydown",function(e){if(r(e)){var i=s.dom.getParent(s.selection.getStart(),"caption");i&&"CAPTION"==i.nodeName&&"TABLE"==i.parentNode.nodeName&&(n.ie&&(s.selection.isCollapsed()?l(i)&&t(i):(s.undoManager.transact(function(){s.execCommand("Delete"),u(i)&&t(i,!0)}),e.preventDefault())),u(i)&&e.preventDefault())}})}(),n.webkit&&(function(){function n(n){function r(e,t){var r=e?"previousSibling":"nextSibling",o=s.dom.getParent(t,"tr"),a=o[r];if(a)return h(0,t,a,e),n.preventDefault(),!0;var u=s.dom.getParent(o,"table"),c=o.parentNode,d=c.nodeName.toLowerCase();if("tbody"===d||d===(e?"tfoot":"thead")){var f=function(e,t,n,r){var i=s.dom.select(">tbody",t),o=i.indexOf(n);return e&&0===o||!e&&o===i.length-1?function(e,t){var n=s.dom.select(">"+(e?"thead":"tfoot"),t);return 0!==n.length?n[0]:null}(e,t):-1===o?i["thead"===n.tagName.toLowerCase()?0:i.length-1]:i[o+(e?-1:1)]}(e,u,c);if(null!==f)return i(e,f,t)}return l(e,o,r,u)}function i(e,t,r){var i=u(t,e);return i&&h(0,r,i,e),n.preventDefault(),!0}function l(e,t,i,o){var a=o[i];if(a)return c(a),!0;var l=s.dom.getParent(o,"td,th");return l?r(e,l):(c(u(t,!e)),n.preventDefault(),!1)}function u(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?s.dom.getParent(n,"td,th"):n}function c(e){s.selection.setCursorLocation(e,0)}function d(e){for(var t=0,n=e;n.previousSibling;)t+=a(n=n.previousSibling,"colspan");return t}function f(e,t){var n=0,r=0;return o(e.children,function(e,i){if(n+=a(e,"colspan"),r=i,n>t)return!1}),r}function h(e,t,n,r){var i=f(n,d(s.dom.getParent(t,"td,th"))),o=n.childNodes[i];c(u(o,r)||o)}var p=n.keyCode;if((p==e.UP||p==e.DOWN)&&function(e){var t=e.selection.getNode();return null!==e.dom.getParent(t,"tr")}(s)){var g=s.selection.getNode();t.setEditorTimeout(s,function(){(function(e){var t=s.selection.getNode(),n=s.dom.getParent(t,"td,th"),r=s.dom.getParent(e,"td,th");return n&&n!==r&&function(e,t){return s.dom.getParent(n,"TABLE")===s.dom.getParent(t,"TABLE")}(0,r)})(g)&&r(!n.shiftKey&&p===e.UP,g)},0)}}s.on("KeyDown",function(e){n(e)})}(),function(){function e(){var e=s.selection.getRng(),t=s.selection.getNode(),n=s.dom.getParent(e.startContainer,"TD,TH");if(function(e,t,n,r){var i,o=s.dom.getParent(t.startContainer,"TABLE");return o&&(i=o.parentNode),3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&r&&("TR"==n.nodeName||n==i)||("TD"==n.nodeName||"TH"==n.nodeName)&&!r}(0,e,t,n)){n||(n=t);for(var r=n.lastChild;r.lastChild;)r=r.lastChild;3==r.nodeType&&(e.setEnd(r,r.data.length),s.selection.setRng(e))}}s.on("KeyDown",function(){e()}),s.on("MouseDown",function(t){2!=t.button&&e()})}()),n.gecko&&(l(),u()),n.ie>9&&(l(),u())}}),r("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(e,t,n){return function(r,i){function o(e){r.getBody().style.webkitUserSelect="",(e||g)&&(r.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),g=!1)}function a(e,t){return!(!e||!t)&&e===p.getParent(t,"table")}function s(t){var n,o,s=t.target;if(!f&&!h&&s!==d&&(d=s,c&&u)){if(o=p.getParent(s,"td,th"),a(c,o)||(o=p.getParent(c,"td,th")),u===o&&!g)return;if(i(!0),a(c,o)){t.preventDefault(),l||(l=new e(r,c,u),r.getBody().style.webkitUserSelect="none"),l.setEndCell(o),g=!0,n=r.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,u,c,d,f,h,p=r.dom,g=!0,m=function(){u=l=c=d=null,i(!1)};return r.on("SelectionChange",function(e){g&&e.stopImmediatePropagation()},!0),r.on("MouseDown",function(e){2==e.button||f||h||(o(),u=p.getParent(e.target,"td,th"),c=p.getParent(u,"table"))}),r.on("mouseover",s),r.on("remove",function(){p.unbind(r.getDoc(),"mouseover",s),o()}),r.on("MouseUp",function(){function e(e,r){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(r?i.setStart(e,0):i.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(r?i.setStartBefore(e):i.setEndBefore(e))}while(e=r?o.next():o.prev())}var i,o,a,s,c,d=r.selection;if(u){if(l&&(r.getBody().style.webkitUserSelect=""),(o=p.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(i=p.createRng()).setStartBefore(s=o[0]),i.setEndAfter(s),e(s,1),a=new t(s,p.getParent(o[0],"table"));do{if("TD"==s.nodeName||"TH"==s.nodeName){if(!p.getAttrib(s,"data-mce-selected"))break;c=s}}while(s=a.next());e(c),d.setRng(i)}r.nodeChanged(),m()}}),r.on("KeyUp Drop SetContent",function(e){o("setcontent"==e.type),m(),f=!1}),r.on("ObjectResizeStart ObjectResized",function(e){f="objectresized"!=e.type}),r.on("dragstart",function(){h=!0}),r.on("drop dragend",function(){h=!1}),{clear:o}}}),r("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each;return function(r){function i(){var e=r.settings.color_picker_callback;if(e)return function(){var t=this;e.call(r,function(e){t.value(e).fire("change")},t.value())}}function o(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){c(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:i()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:i()}]}]}}function a(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function l(e){n("left center right".split(" "),function(t){r.formatter.remove("align"+t,{},e)})}function u(t,n,r){return function t(r,i){return i=i||[],e.each(r,function(e){var r={text:e.text||e.title};e.menu?r.menu=t(e.menu):(r.value=e.value,n&&n(r)),i.push(r)}),i}(t,r||[])}function c(e,t,n){var r=t.toJSON(),i=e.parseStyle(r.style);n?(t.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change")):(i["border-color"]=r.borderColor,i["background-color"]=r.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}function d(e,t,n){var r=e.parseStyle(e.getAttrib(n,"style"));r["border-color"]&&(t.borderColor=r["border-color"]),r["background-color"]&&(t.backgroundColor=r["background-color"]),t.style=e.serializeStyle(r)}function f(e,t,r){var i=e.parseStyle(e.getAttrib(t,"style"));n(r,function(e){i[e.name]=e.value}),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}var h=this;h.tableProps=function(){h.table(!0)},h.table=function(i){function h(){function n(e,t,r){if("TD"===e.tagName||"TH"===e.tagName)C.setStyle(e,t,r);else if(e.children)for(var i=0;i<e.children.length;i++)n(e.children[i],t,r)}var i;c(C,this),!1===(w=e.extend(w,this.toJSON())).class&&delete w.class,r.undoManager.transact(function(){if(g||(g=r.plugins.table.insertTable(w.cols||1,w.rows||1)),r.dom.setAttribs(g,{style:w.style,class:w.class}),r.settings.table_style_by_css){if((x=[]).push({name:"border",value:w.border}),x.push({name:"border-spacing",value:s(w.cellspacing)}),f(C,g,x),C.setAttribs(g,{"data-mce-border-color":w.borderColor,"data-mce-cell-padding":w.cellpadding,"data-mce-border":w.border}),g.children)for(var e=0;e<g.children.length;e++)n(g.children[e],"border",w.border),n(g.children[e],"padding",s(w.cellpadding))}else r.dom.setAttribs(g,{border:w.border,cellpadding:w.cellpadding,cellspacing:w.cellspacing});C.getAttrib(g,"width")&&!r.settings.table_style_by_css?C.setAttrib(g,"width",a(w.width)):C.setStyle(g,"width",s(w.width)),C.setStyle(g,"height",s(w.height)),(i=C.select("caption",g)[0])&&!w.caption&&C.remove(i),!i&&w.caption&&((i=C.create("caption")).innerHTML=t.ie?"\xa0":'<br data-mce-bogus="1"/>',g.insertBefore(i,g.firstChild)),l(g),w.align&&r.formatter.apply("align"+w.align,{},g),r.focus(),r.addVisual()})}function p(e,t){return function(e,n){for(var r=0;r<n.length;r++){var i=C.getStyle(n[r],t);if(void 0===e&&(e=i),e!=i)return""}return e}(void 0,r.dom.select("td,th",e))}var g,m,v,b,y,x,C=r.dom,w={};!0===i?(g=C.getParent(r.selection.getStart(),"table"))&&(w={width:a(C.getStyle(g,"width")||C.getAttrib(g,"width")),height:a(C.getStyle(g,"height")||C.getAttrib(g,"height")),cellspacing:a(C.getStyle(g,"border-spacing")||C.getAttrib(g,"cellspacing")),cellpadding:C.getAttrib(g,"data-mce-cell-padding")||C.getAttrib(g,"cellpadding")||p(g,"padding"),border:C.getAttrib(g,"data-mce-border")||C.getAttrib(g,"border")||p(g,"border"),borderColor:C.getAttrib(g,"data-mce-border-color"),caption:!!C.select("caption",g)[0],class:C.getAttrib(g,"class")},n("left center right".split(" "),function(e){r.formatter.matchNode(g,"align"+e)&&(w.align=e)})):(m={label:"Cols",name:"cols"},v={label:"Rows",name:"rows"}),r.settings.table_class_list&&(w.class&&(w.class=w.class.replace(/\s*mce\-item\-table\s*/g,"")),b={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"table",classes:[e.value]})})})}),y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==r.settings.table_appearance_options?[m,v,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[m,v,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},b]},!1!==r.settings.table_advtab?(d(C,w,g),r.windowManager.open({title:"Table properties",data:w,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},o(C)],onsubmit:h})):r.windowManager.open({title:"Table properties",data:w,body:y,onsubmit:h})},h.merge=function(e,t){r.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();r.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},h.cell=function(){function t(e,t,n){(1===v.length||n)&&m.setAttrib(e,t,n)}function i(e,t,n){(1===v.length||n)&&m.setStyle(e,t,n)}function f(){c(m,this),p=e.extend(p,this.toJSON()),r.undoManager.transact(function(){n(v,function(e){t(e,"scope",p.scope),t(e,"style",p.style),t(e,"class",p.class),i(e,"width",s(p.width)),i(e,"height",s(p.height)),p.type&&e.nodeName.toLowerCase()!==p.type&&(e=m.rename(e,p.type)),1===v.length&&(l(e),function(e){n("top middle bottom".split(" "),function(t){r.formatter.remove("valign"+t,{},e)})}(e)),p.align&&r.formatter.apply("align"+p.align,{},e),p.valign&&r.formatter.apply("valign"+p.valign,{},e)}),r.focus()})}var h,p,g,m=r.dom,v=[];if(v=r.dom.select("td[data-mce-selected],th[data-mce-selected]"),h=r.dom.getParent(r.selection.getStart(),"td,th"),!v.length&&h&&v.push(h),h=h||v[0]){v.length>1?p={width:"",height:"",scope:"",class:"",align:"",style:"",type:h.nodeName.toLowerCase()}:((p={width:a(m.getStyle(h,"width")||m.getAttrib(h,"width")),height:a(m.getStyle(h,"height")||m.getAttrib(h,"height")),scope:m.getAttrib(h,"scope"),class:m.getAttrib(h,"class")}).type=h.nodeName.toLowerCase(),n("left center right".split(" "),function(e){r.formatter.matchNode(h,"align"+e)&&(p.align=e)}),n("top middle bottom".split(" "),function(e){r.formatter.matchNode(h,"valign"+e)&&(p.valign=e)}),d(m,p,h)),r.settings.table_cell_class_list&&(g={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"td",classes:[e.value]})})})});var b={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},g]};r.windowManager.open(!1!==r.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:p,body:[{title:"General",type:"form",items:b},o(m)],onsubmit:f}:{title:"Cell properties",data:p,body:b,onsubmit:f})}},h.row=function(){function t(e,t,n){(1===y.length||n)&&b.setAttrib(e,t,n)}function i(){var i,o,a;c(b,this),m=e.extend(m,this.toJSON()),r.undoManager.transact(function(){var e=m.type;n(y,function(n){t(n,"scope",m.scope),t(n,"style",m.style),t(n,"class",m.class),function(e,t,n){(1===y.length||n)&&b.setStyle(e,"height",n)}(n,0,s(m.height)),e!==n.parentNode.nodeName.toLowerCase()&&(i=b.getParent(n,"table"),o=n.parentNode,(a=b.select(e,i)[0])||(a=b.create(e),i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a)),a.appendChild(n),o.hasChildNodes()||b.remove(o)),1===y.length&&l(n),m.align&&r.formatter.apply("align"+m.align,{},n)}),r.focus()})}var f,h,p,g,m,v,b=r.dom,y=[];f=r.dom.getParent(r.selection.getStart(),"table"),h=r.dom.getParent(r.selection.getStart(),"td,th"),n(f.rows,function(e){n(e.cells,function(t){if(b.getAttrib(t,"data-mce-selected")||t==h)return y.push(e),!1})}),(p=y[0])&&(y.length>1?m={height:"",scope:"",class:"",align:"",type:p.parentNode.nodeName.toLowerCase()}:((m={height:a(b.getStyle(p,"height")||b.getAttrib(p,"height")),scope:b.getAttrib(p,"scope"),class:b.getAttrib(p,"class")}).type=p.parentNode.nodeName.toLowerCase(),n("left center right".split(" "),function(e){r.formatter.matchNode(p,"align"+e)&&(m.align=e)}),d(b,m,p)),r.settings.table_row_class_list&&(g={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"tr",classes:[e.value]})})})}),v={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},g]},r.windowManager.open(!1!==r.settings.table_row_advtab?{title:"Row properties",data:m,bodyType:"tabpanel",body:[{title:"General",type:"form",items:v},o(b)],onsubmit:i}:{title:"Row properties",data:m,body:v,onsubmit:i}))}}}),r("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(e,n){var r;return function(i){function o(e,t){return{index:e,y:i.dom.getPos(t).y}}function a(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function s(e,t){return{index:e,x:i.dom.getPos(t).x}}function l(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function u(){return"rtl"===i.getBody().dir}function c(){return function(){return i.inline}?i.getBody().ownerDocument.body:i.getBody()}function d(e,t){return u()?l(e,t):s(e,t)}function f(e,t){return u()?s(e,t):l(e,t)}function h(e,t){var n=i.dom.getStyle(e,t,!0);return parseInt(n,10)}function p(e){return h(e,"width")/h(e.parentElement,"width")*100}function g(e,t,n){for(var r=[],i=1;i<n.length;i++)r.push(e(i-1,n[i].element));return r.push(t(n.length-1,n[n.length-1].element)),r}function m(){var t=i.dom.select("."+ie,c());e.each(t,function(e){i.dom.remove(e)})}function v(e){m(),N(e)}function b(e,t,n,r,i,o,a,s){var l={"data-mce-bogus":"all",class:ie+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+r+"px; height: "+i+"px; width: "+o+"px; "};return l[a]=s,l}function y(t,n,r){e.each(t,function(e){var t=r.x,o=e.y-he/2,a=he,s=n;i.dom.add(c(),"div",b(oe,ae,t,o,a,s,se,e.index))})}function x(t,n,r){e.each(t,function(e){var t=e.x-he/2,o=r.y,a=n,s=he;i.dom.add(c(),"div",b(ue,ce,t,o,a,s,de,e.index))})}function C(t){return e.map(t.rows,function(t){return{element:t,cells:e.map(t.cells,function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}})}})}function w(n){function r(e,t){return e+","+t}var i={},o=[],a=0,s=0;return e.each(n,function(n,l){var u=[];e.each(n.cells,function(e){for(var n=0;i[r(l,n)]!==t;)n++;for(var o={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:l,colIndex:n},c=0;c<e.colspan;c++)for(var d=0;d<e.rowspan;d++){var f=l+d,h=n+c;i[r(f,h)]=o,a=Math.max(a,f+1),s=Math.max(s,h+1)}u.push(o)}),o.push({element:n.element,cells:u})}),{grid:{maxRows:a,maxCols:s},getAt:function(e,t){return i[r(e,t)]},getAllCells:function(){var t=[];return e.each(o,function(e){t=t.concat(e.cells)}),t},getAllRows:function(){return o}}}function k(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function S(e,t,n){for(var r,i=e(),o=0;o<i.length;o++)t(i[o])&&(r=i[o]);return r||n()}function _(t){var n=k(0,t.grid.maxCols),r=k(0,t.grid.maxRows);return e.map(n,function(e){return S(function(){for(var n=[],i=0;i<r.length;i++){var o=t.getAt(i,e);o&&o.colIndex===e&&n.push(o)}return n},function(e){return 1===e.colspan},function(){for(var n,i=0;i<r.length;i++)if(n=t.getAt(i,e))return n;return null})})}function T(t){var n=k(0,t.grid.maxCols),r=k(0,t.grid.maxRows);return e.map(r,function(e){return S(function(){for(var r=[],i=0;i<n.length;i++){var o=t.getAt(e,i);o&&o.rowIndex===e&&r.push(o)}return r},function(e){return 1===e.rowspan},function(){return t.getAt(e,0)})})}function N(e){var t=w(C(e)),n=T(t),r=_(t),s=i.dom.getPos(e),l=n.length>0?g(o,a,n):[],u=r.length>0?g(d,f,r):[];y(l,e.offsetWidth,s),x(u,e.offsetHeight,s)}function R(e,t,n,r){if(t<0||t>=e.length-1)return"";var i=e[t];if(i)i={value:i,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(i={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),u=0;u<l.length;u++)l[u]&&(s={value:l[u],delta:u+1});var c=s.delta-i.delta,d=Math.abs(s.value-i.value)/c;return n?d/h(r,"width")*100:d}function E(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function A(e,t,n){var r=E(e,"width"),i=parseInt(r,10),o=t?function(e,t){return h(e,"width")/h(t,"width")*100}(e,n):h(e,"width");return(t&&!H(r)||!t&&!z(r))&&(i=0),!isNaN(i)&&i>0?i:o}function M(t,n,r){for(var i=_(t),o=e.map(i,function(e){return d(e.colIndex,e.element).x}),a=[],s=0;s<i.length;s++){var l=(i[s].element.hasAttribute("colspan")?parseInt(i[s].element.getAttribute("colspan"),10):1)>1?R(o,s):A(i[s].element,n,r);a.push(l=l||pe)}return a}function P(e){var t=E(e,"height"),n=parseInt(t,10);return H(t)&&(n=0),!isNaN(n)&&n>0?n:h(e,"height")}function D(t){for(var n=T(t),r=e.map(n,function(e){return o(e.rowIndex,e.element).y}),i=[],a=0;a<n.length;a++){var s=(n[a].element.hasAttribute("rowspan")?parseInt(n[a].element.getAttribute("rowspan"),10):1)>1?R(r,a):P(n[a].element);i.push(s=s||ge)}return i}function B(t,n,r,i,o){function a(t){return e.map(t,function(){return 0})}function s(e,t){var n,o=a(l.slice(0,e)),s=a(l.slice(t+1));if(r>=0){var u=Math.max(i,l[t]-r);n=o.concat([r,u-l[t]]).concat(s)}else{var c=Math.max(i,l[e]+r);n=o.concat([c-l[e],l[e]-c]).concat(s)}return n}var l=t.slice(0);return 0===t.length?[]:1===t.length?o?[100-l[0]]:[Math.max(i,l[0]+r)-l[0]]:0===n?s(0,1):n>0&&n<t.length-1?s(n,n+1):n===t.length-1?function(e,t){var n,o=a(l.slice(0,t));if(r>=0)n=o.concat([r]);else{var s=Math.max(i,l[t]+r);n=o.concat([s-l[t]])}return n}(0,n):[]}function I(e,t,n){for(var r=0,i=e;i<t;i++)r+=n[i];return r}function L(t,n){var r=t.getAllCells();return e.map(r,function(e){var t=I(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function O(t,n){var r=t.getAllCells();return e.map(r,function(e){var t=I(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function F(t,n){var r=t.getAllRows();return e.map(r,function(e,t){return{element:e.element,height:n[t]}})}function H(e){return ve.test(e)}function z(e){return be.test(e)}function W(t,n,r){for(var o=w(C(t)),a=H(t.width)||H(t.style.width),s=M(o,a,t),l=a?function(e,t){return n/h(e,"width")*100}(t):n,u=B(s,r,l,pe,a),c=[],d=0;d<u.length;d++)c.push(u[d]+s[d]);var f=L(o,c),g=a?"%":"px",m=a?r<o.grid.maxCols-1?p(t):p(t)+function(e,t){return n/h(e.parentElement,"width")*100}(t):r<o.grid.maxCols-1?h(t,"width"):h(t,"width")+n;i.undoManager.transact(function(){var n;n=g,e.each(f,function(e){i.dom.setStyle(e.element,"width",e.width+n),i.dom.setAttrib(e.element,"width",null)}),r!=o.grid.maxCols-1&&a||(i.dom.setStyle(t,"width",m+g),i.dom.setAttrib(t,"width",null))})}function V(t,n,r){for(var o=w(C(t)),a=D(o),s=[],l=0,u=0;u<a.length;u++)s.push(u===r?n+a[u]:a[u]),l+=l[u];var c=O(o,s),d=F(o,s);i.undoManager.transact(function(){e.each(d,function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)}),e.each(c,function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)}),i.dom.setStyle(t,"height",l+"px"),i.dom.setAttrib(t,"height",null)})}function U(){if(i.dom.remove(ee),Z){var e,t;if(i.dom.removeClass(te,me),Z=!1,q(te)){var n=parseInt(i.dom.getAttrib(te,fe),10),o=i.dom.getPos(te).x;e=parseInt(i.dom.getAttrib(te,de),10),t=u()?n-o:o-n,Math.abs(t)>=1&&W(r,t,e)}else if($(te)){var a=parseInt(i.dom.getAttrib(te,le),10),s=i.dom.getPos(te).y;e=parseInt(i.dom.getAttrib(te,se),10),t=s-a,Math.abs(t)>=1&&V(r,t,e)}v(r),i.nodeChanged()}}function j(e,t){ee=ee||function(){var e=document.createElement("div");return e.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),e.setAttribute("data-mce-bogus","all"),e}(),Z=!0,i.dom.addClass(e,me),te=e,function(e,t){i.dom.bind(e,"mouseup",function(){U()}),i.dom.bind(e,"mousemove",function(e){clearTimeout(Q),Z&&t(e)}),i.dom.bind(e,"mouseout",function(){Q=setTimeout(function(){U()},200)})}(ee,t),i.dom.add(c(),ee)}function q(e){return i.dom.hasClass(e,ue)}function $(e){return i.dom.hasClass(e,oe)}function Y(e){var n=e.clientX-(ne=ne!==t?ne:e.clientX);ne=e.clientX;var r=i.dom.getPos(te).x;i.dom.setStyle(te,"left",r+n+"px")}function X(e){var n=e.clientY-(re=re!==t?re:e.clientY);re=e.clientY;var r=i.dom.getPos(te).y;i.dom.setStyle(te,"top",r+n+"px")}function K(e){ne=t,j(e,Y)}function G(e){re=t,j(e,X)}function J(e){var t=e.target,n=i.getBody();if(i.$.contains(n,r)||r===n)if(q(t)){e.preventDefault();var o=i.dom.getPos(t).x;i.dom.setAttrib(t,fe,o),K(t)}else if($(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,le,a),G(t)}else m()}var Q,Z,ee,te,ne,re,ie="mce-resize-bar",oe="mce-resize-bar-row",ae="row-resize",se="data-row",le="data-initial-top",ue="mce-resize-bar-col",ce="col-resize",de="data-col",fe="data-initial-left",he=4,pe=10,ge=10,me="mce-resize-bar-dragging",ve=new RegExp(/(\d+(\.\d+)?%)/),be=new RegExp(/px|em/);return i.on("init",function(){i.dom.bind(c(),"mousedown",J)}),i.on("ObjectResized",function(t){var n=t.target;if("TABLE"===n.nodeName){var r=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=i.dom.getStyle(e,"width",!0);r.push({cell:e,width:t})})}),e.each(r,function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)})}}),i.on("mouseover",function(e){if(!Z){var t=i.dom.getParent(e.target,"table");("TABLE"===e.target.nodeName||t)&&(r=t,v(t))}}),i.on("keydown",function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:m()}}),i.on("remove",function(){m(),i.dom.unbind(c(),"mousedown",J)}),{adjustWidth:W,adjustHeight:V,clearBars:m,drawBars:N,determineDeltas:B,getTableGrid:w,getTableDetails:C,getWidths:M,getPixelHeights:D,isPercentageBasedSize:H,isPixelBasedSize:z,recalculateWidths:L,recalculateCellHeights:O,recalculateRowHeights:F}}}),r("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(e,t,n,r,i,o,a,s,l){var u=o.each;l.add("table",function(o){function a(e){return function(){o.execCommand(e)}}function l(e,t){var n,r,i,a;for(i='<table id="__mce"><tbody>',n=0;n<t;n++){for(i+="<tr>",r=0;r<e;r++)i+="<td>"+(s.ie&&s.ie<10?"&nbsp;":"<br>")+"</td>";i+="</tr>"}return i+="</tbody></table>",o.undoManager.transact(function(){o.insertContent(i),a=o.dom.get("__mce"),o.dom.setAttrib(a,"id",null),o.$("tr",a).each(function(e,t){o.fire("newrow",{node:t}),o.$("th,td",t).each(function(e,t){o.fire("newcell",{node:t})})}),o.dom.setAttribs(a,o.settings.table_default_attributes||{}),o.dom.setStyles(a,o.settings.table_default_styles||{})}),a}function c(e,t,n){function r(){var r,i,a,s={},l=0;(r=(i=o.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(r=o.selection.getStart()),n&&i.length>0?(u(i,function(e){return s[e.parentNode.parentNode.nodeName]=1}),u(s,function(e){l+=e}),a=1!==l):a=!o.dom.getParent(r,t),e.disabled(a),o.selection.selectorChanged(t,function(t){e.disabled(!t)})}o.initialized?r():o.on("init",r)}function d(){c(this,"table")}function f(){c(this,"td,th")}function h(e,t,n){var r,i,a,s,l,u=n.getEl().getElementsByTagName("table")[0],c=n.isRtl()||"tl-tr"==n.parent().rel;for(u.nextSibling.innerHTML=e+1+" x "+(t+1),c&&(e=9-e),i=0;i<10;i++)for(r=0;r<10;r++)o.dom.toggleClass(s=u.rows[i].childNodes[r].firstChild,"mce-active",l=(c?r>=e:r<=e)&&i<=t),l&&(a=s);return a.parentNode}function p(e){return o.dom.is(e,"table")&&o.getBody().contains(e)}var g,m,v=this,b=new r(o);!o.settings.object_resizing||!1===o.settings.table_resize_bars||!0!==o.settings.object_resizing&&"table"!==o.settings.object_resizing||(m=i(o)),o.addMenuItem("inserttable",!1===o.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:b.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),b.table())},onshow:function(){h(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e,"mce-active"),o.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"==r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(h(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){l(t.lastX+1,t.lastY+1)}),o.addVisual())}}]}),o.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:d,onclick:b.tableProps}),o.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:d,cmd:"mceTableDelete"}),o.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:a("mceTableCellProps"),onPostRender:f},{text:"Merge cells",onclick:a("mceTableMergeCells"),onPostRender:function(){c(this,"td,th",!0)}},{text:"Split cell",onclick:a("mceTableSplitCells"),onPostRender:f}]}),o.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:a("mceTableInsertRowBefore"),onPostRender:f},{text:"Insert row after",onclick:a("mceTableInsertRowAfter"),onPostRender:f},{text:"Delete row",onclick:a("mceTableDeleteRow"),onPostRender:f},{text:"Row properties",onclick:a("mceTableRowProps"),onPostRender:f},{text:"-"},{text:"Cut row",onclick:a("mceTableCutRow"),onPostRender:f},{text:"Copy row",onclick:a("mceTableCopyRow"),onPostRender:f},{text:"Paste row before",onclick:a("mceTablePasteRowBefore"),onPostRender:f},{text:"Paste row after",onclick:a("mceTablePasteRowAfter"),onPostRender:f}]}),o.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:a("mceTableInsertColBefore"),onPostRender:f},{text:"Insert column after",onclick:a("mceTableInsertColAfter"),onPostRender:f},{text:"Delete column",onclick:a("mceTableDeleteCol"),onPostRender:f}]});var y=[];u("inserttable tableprops deletetable | cell row column".split(" "),function(e){y.push("|"==e?{text:"-"}:o.menuItems[e])}),o.addButton("table",{type:"menubutton",title:"Table",menu:y}),s.isIE||o.on("click",function(e){"TABLE"===(e=e.target).nodeName&&(o.selection.select(e),o.nodeChanged())}),v.quirks=new t(o),o.on("Init",function(){v.cellSelection=new n(o,function(e){e&&m&&m.clearBars()}),v.resizeBars=m}),o.on("PreInit",function(){o.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=o.dom.getParent(o.selection.getStart(),"th,td"),o.dom.select("td[data-mce-selected],th[data-mce-selected]").length?e.merge():b.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){g=e.cutRows()},mceTableCopyRow:function(e){g=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(g,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(g)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){m&&m.clearBars(),e.deleteTable()}},function(t,n){o.addCommand(n,function(){var n=new e(o);n&&(t(n),o.execCommand("mceRepaint"),v.cellSelection.clear())})}),u({mceInsertTable:b.table,mceTableProps:function(){b.table(!0)},mceTableRowProps:b.row,mceTableCellProps:b.cell},function(e,t){o.addCommand(t,function(t,n){e(n)})}),o.addButton("tableprops",{title:"Table properties",onclick:b.tableProps,icon:"table"}),o.addButton("tabledelete",{title:"Delete table",onclick:a("mceTableDelete")}),o.addButton("tablecellprops",{title:"Cell properties",onclick:a("mceTableCellProps")}),o.addButton("tablemergecells",{title:"Merge cells",onclick:a("mceTableMergeCells")}),o.addButton("tablesplitcells",{title:"Split cell",onclick:a("mceTableSplitCells")}),o.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:a("mceTableInsertRowBefore")}),o.addButton("tableinsertrowafter",{title:"Insert row after",onclick:a("mceTableInsertRowAfter")}),o.addButton("tabledeleterow",{title:"Delete row",onclick:a("mceTableDeleteRow")}),o.addButton("tablerowprops",{title:"Row properties",onclick:a("mceTableRowProps")}),o.addButton("tablecutrow",{title:"Cut row",onclick:a("mceTableCutRow")}),o.addButton("tablecopyrow",{title:"Copy row",onclick:a("mceTableCopyRow")}),o.addButton("tablepasterowbefore",{title:"Paste row before",onclick:a("mceTablePasteRowBefore")}),o.addButton("tablepasterowafter",{title:"Paste row after",onclick:a("mceTablePasteRowAfter")}),o.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:a("mceTableInsertColBefore")}),o.addButton("tableinsertcolafter",{title:"Insert column after",onclick:a("mceTableInsertColAfter")}),o.addButton("tabledeletecol",{title:"Delete column",onclick:a("mceTableDeleteCol")}),function(){var e=o.settings.table_toolbar;""!==e&&!1!==e&&(e||(e="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),o.addContextToolbar(p,e))}(),!1!==o.settings.table_tab_navigation&&o.on("keydown",function(t){var n,r,i;9==t.keyCode&&(n=o.dom.getParent(o.selection.getStart(),"th,td"))&&(t.preventDefault(),r=new e(o),i=t.shiftKey?-1:1,o.undoManager.transact(function(){!r.moveRelIdx(n,i)&&i>0&&(r.insertRow(),r.refresh(),r.moveRelIdx(n,i))}))}),v.insertTable=l,v.setClipboardRows=function(e){g=e},v.getClipboardRows=function(){return g}})})}(window),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=e()}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return i(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){function r(e){if(e){var t=[0,0,0],n=1,r=e.match(/^#([a-fA-F0-9]{3})$/i);if(r)for(r=r[1],i=0;i<t.length;i++)t[i]=parseInt(r[i]+r[i],16);else if(r=e.match(/^#([a-fA-F0-9]{6})$/i))for(r=r[1],i=0;i<t.length;i++)t[i]=parseInt(r.slice(2*i,2*i+2),16);else if(r=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=parseInt(r[i+1]);n=parseFloat(r[4])}else if(r=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=Math.round(2.55*parseFloat(r[i+1]));n=parseFloat(r[4])}else if(r=e.match(/(\w+)/)){if("transparent"==r[1])return[0,0,0,0];if(!(t=d[r[1]]))return}for(var i=0;i<t.length;i++)t[i]=u(t[i],0,255);return n=n||0==n?u(n,0,1):1,t[3]=n,t}}function i(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function o(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function a(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function s(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function u(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var d=e(6);t.exports={getRgba:r,getHsla:i,getRgb:function(e){var t=r(e);return t&&t.slice(0,3)},getHsl:function(e){var t=i(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=r(e);return t?t[3]:(t=i(e))?t[3]:(t=o(e))?t[3]:void 0},hexString:function(e){return"#"+c(e[0])+c(e[1])+c(e[2])},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?a(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:a,percentString:function(e,t){return t<1||e[3]&&e[3]<1?s(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:s,hslString:function(e,t){return t<1||e[3]&&e[3]<1?l(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:l,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return f[e.slice(0,3)]}};var f={};for(var h in d)f[d[h]]=h},{6:6}],3:[function(e,t,n){var r=e(5),i=e(2),o=function(e){return e instanceof o?e:this instanceof o?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=i.getRgba(e))?this.setValues("rgb",t):(t=i.getHsla(e))?this.setValues("hsl",t):(t=i.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new o(e);var t};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,r=e,i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new o,r=this.values,i=n.values;for(var a in r)r.hasOwnProperty(a)&&("[object Array]"===(t={}.toString.call(e=r[a]))?i[a]=e.slice(0):"[object Number]"===t?i[a]=e:console.error("unexpected color value:",e));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,i,o=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)o[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)o[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[a[e][0]]){var u=a[e];for(n=0;n<e.length;n++)o[e][n]=t[u[n]];l=t.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===l?o.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(s[e][n],o[e][n])),o[e][n]=Math.round(i);for(var c in a)c!==e&&(o[c]=r[e][c](o[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:n===r[t]?this:(r[t]=n,this.setValues(e,r),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},{2:2,5:5}],4:[function(e,t,n){function i(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return s==a?t=0:r==s?t=(i-o)/l:i==s?t=2+(o-r)/l:o==s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function o(e){var t,n,r=e[0],i=e[1],o=e[2],a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?t=0:r==s?t=(i-o)/l:i==s?t=2+(o-r)/l:o==s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function a(e){var t=e[0],n=e[1],r=e[2];return[i(e)[0],1/255*Math.min(t,Math.min(n,r))*100,100*(r=1-1/255*Math.max(t,Math.max(n,r)))]}function s(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]}function l(e){return _[JSON.stringify(e)]}function u(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function c(e){var t=u(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function d(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,i[u]=255*(o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t);return i}function f(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}}function h(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),i=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(i=1-i),o=s+i*((n=1-l)-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function p(e){var t=e[1]/100,n=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-r)+r)),255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]}function m(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function v(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function y(e){var t,n,r,i,o=e[0],a=e[1],s=e[2];return o<=8?i=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),i=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),n,r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3)]}function x(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]}function C(e){return m(y(e))}function w(e){var t,n=e[1];return t=e[2]/360*2*Math.PI,[e[0],n*Math.cos(t),n*Math.sin(t)]}function k(e){return S[e]}t.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:function(e){return x(c(e))},hsl2rgb:d,hsl2hsv:function(e){var t=e[1]/100,n=e[2]/100;return 0===n?[0,0,0]:[e[0],2*(t*=(n*=2)<=1?n:2-n)/(n+t)*100,(n+t)/2*100]},hsl2hwb:function(e){return a(d(e))},hsl2cmyk:function(e){return s(d(e))},hsl2keyword:function(e){return l(d(e))},hsv2rgb:f,hsv2hsl:function(e){var t,n,r=e[1]/100,i=e[2]/100;return t=r*i,[e[0],100*(t=(t/=(n=(2-r)*i)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return a(f(e))},hsv2cmyk:function(e){return s(f(e))},hsv2keyword:function(e){return l(f(e))},hwb2rgb:h,hwb2hsl:function(e){return i(h(e))},hwb2hsv:function(e){return o(h(e))},hwb2cmyk:function(e){return s(h(e))},hwb2keyword:function(e){return l(h(e))},cmyk2rgb:p,cmyk2hsl:function(e){return i(p(e))},cmyk2hsv:function(e){return o(p(e))},cmyk2hwb:function(e){return a(p(e))},cmyk2keyword:function(e){return l(p(e))},keyword2rgb:k,keyword2hsl:function(e){return i(k(e))},keyword2hsv:function(e){return o(k(e))},keyword2hwb:function(e){return a(k(e))},keyword2cmyk:function(e){return s(k(e))},keyword2lab:function(e){return c(k(e))},keyword2xyz:function(e){return u(k(e))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(e){return x(v(e))},lab2xyz:y,lab2rgb:C,lab2lch:x,lch2lab:w,lch2xyz:function(e){return y(w(e))},lch2rgb:function(e){return C(w(e))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_={};for(var T in S)_[JSON.stringify(S[T])]=T},{}],5:[function(e,t,n){var r=e(4),i=function(){return new u};for(var o in r){i[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(i[s]=i[s]||{})[l]=i[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space;t=i[n][e](this.convs[n]),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=i},{4:4}],6:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,n){var r=e(29)();r.helpers=e(45),e(27)(r),r.defaults=e(25),r.Element=e(26),r.elements=e(40),r.Interaction=e(28),r.platform=e(48),e(31)(r),e(22)(r),e(23)(r),e(24)(r),e(30)(r),e(33)(r),e(32)(r),e(35)(r),e(54)(r),e(52)(r),e(53)(r),e(55)(r),e(56)(r),e(57)(r),e(15)(r),e(16)(r),e(17)(r),e(18)(r),e(19)(r),e(20)(r),e(21)(r),e(8)(r),e(9)(r),e(10)(r),e(11)(r),e(12)(r),e(13)(r),e(14)(r);var i=[];i.push(e(49)(r),e(50)(r),e(51)(r)),r.plugins.register(i),r.platform.initialize(),t.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.canvasHelpers=r.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],15:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}},mode:"index",axis:"y"}}),t.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var t,n=this;e.DatasetController.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0},update:function(e){var t,n,r=this,i=r.getMeta().data;for(r._ruler=r.getRuler(),t=0,n=i.length;t<n;++t)r.updateElement(i[t],t,e)},updateElement:function(e,t,n){var r=this,i=r.chart,a=r.getMeta(),s=r.getDataset(),l=e.custom||{},u=i.options.elements.rectangle;e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={datasetLabel:s.label,label:i.data.labels[t],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:o.valueAtIndexOrDefault(s.backgroundColor,t,u.backgroundColor),borderColor:l.borderColor?l.borderColor:o.valueAtIndexOrDefault(s.borderColor,t,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:o.valueAtIndexOrDefault(s.borderWidth,t,u.borderWidth)},r.updateElementGeometry(e,t,n),e.pivot()},updateElementGeometry:function(e,t,n){var r=this,i=e._model,o=r.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,t),c=r.calculateBarIndexPixels(r.index,t,l);i.horizontal=s,i.base=n?a:u.base,i.x=s?n?a:u.head:c.center,i.y=s?c.center:n?a:u.head,i.height=s?c.size:void 0,i.width=s?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,n,r=this.chart,i=this.getIndexScale().options.stacked,o=void 0===e?r.data.datasets.length:e+1,a=[];for(t=0;t<o;++t)(n=r.getDatasetMeta(t)).bar&&r.isDatasetVisible(t)&&(!1===i||!0===i&&-1===a.indexOf(n.stack)||void 0===i&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e,t,n=this,r=n.getIndexScale(),i=n.getStackCount(),o=n.index,a=[],s=r.isHorizontal(),l=s?r.left:r.top,u=l+(s?r.width:r.height);for(e=0,t=n.getMeta().data.length;e<t;++e)a.push(r.getPixelForValue(null,e,o));return{pixels:a,start:l,end:u,stackCount:i,scale:r}},calculateBarValuePixels:function(e,t){var n,r,i,o,a,s,l=this,u=l.chart,c=l.getMeta(),d=l.getValueScale(),f=u.data.datasets,h=d.getRightValue(f[e].data[t]),p=d.options.stacked,g=c.stack,m=0;if(p||void 0===p&&void 0!==g)for(n=0;n<e;++n)(r=u.getDatasetMeta(n)).bar&&r.stack===g&&r.controller.getValueScaleId()===d.id&&u.isDatasetVisible(n)&&(i=d.getRightValue(f[n].data[t]),(h<0&&i<0||h>=0&&i>0)&&(m+=i));return o=d.getPixelForValue(m),{size:s=((a=d.getPixelForValue(m+h))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,n){var r,i,a,s,l,u=n.scale.options,c=this.getStackIndex(e),d=n.pixels,f=d[t],h=d.length,p=n.start,g=n.end;return 1===h?(r=f>p?f-p:g-f,i=f<g?g-f:f-p):(t>0&&(r=(f-d[t-1])/2,t===h-1&&(i=r)),t<h-1&&(i=(d[t+1]-f)/2,0===t&&(r=i))),l=(s=((a=r*u.categoryPercentage)+i*u.categoryPercentage)/n.stackCount)*u.barPercentage,f-=a,f+=s*c,{size:l=Math.min(o.valueOrDefault(u.barThickness,l),o.valueOrDefault(u.maxBarThickness,1/0)),base:f+=(s-l)/2,head:f+l,center:f+l/2}},draw:function(){var e=this,t=e.chart,n=e.getValueScale(),r=e.getMeta().data,i=e.getDataset(),a=r.length,s=0;for(o.canvas.clipArea(t.ctx,t.chartArea);s<a;++s)isNaN(n.getRightValue(i.data[s]))||r[s].draw();o.canvas.unclipArea(t.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model;i.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o.valueAtIndexOrDefault(t.hoverBackgroundColor,n,o.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor?r.hoverBorderColor:o.valueAtIndexOrDefault(t.hoverBorderColor,n,o.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o.valueAtIndexOrDefault(t.hoverBorderWidth,n,i.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model,a=this.chart.options.elements.rectangle;i.backgroundColor=r.backgroundColor?r.backgroundColor:o.valueAtIndexOrDefault(t.backgroundColor,n,a.backgroundColor),i.borderColor=r.borderColor?r.borderColor:o.valueAtIndexOrDefault(t.borderColor,n,a.borderColor),i.borderWidth=r.borderWidth?r.borderWidth:o.valueAtIndexOrDefault(t.borderWidth,n,a.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": ("+e.xLabel+", "+e.yLabel+", "+t.datasets[e.datasetIndex].data[e.index].r+")"}}}}),t.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:i.Point,update:function(e){var t=this,n=t.getMeta().data;o.each(n,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,i=r.getMeta(),o=e.custom||{},a=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),l=r._resolveElementOptions(e,t),u=r.getDataset().data[t],c=r.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,t,c),f=n?s.getBasePixel():s.getPixelForValue(u,t,c);e._xScale=a,e._yScale=s,e._options=l,e._datasetIndex=c,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(f),x:d,y:f},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=o.valueOrDefault(n.hoverBackgroundColor,o.getHoverColor(n.backgroundColor)),t.borderColor=o.valueOrDefault(n.hoverBorderColor,o.getHoverColor(n.borderColor)),t.borderWidth=o.valueOrDefault(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},removeHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t.borderWidth=n.borderWidth,t.radius=n.radius},_resolveElementOptions:function(e,t){var n,r,i,a=this,s=a.chart,l=s.data.datasets[a.index],u=e.custom||{},c=s.options.elements.point,d=o.options.resolve,f=l.data[t],h={},p={chart:s,dataIndex:t,dataset:l,datasetIndex:a.index},g=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,r=g.length;n<r;++n)h[i=g[n]]=d([u[i],l[i],c[i]],p,t);return h.radius=d([u.radius,f?f.r:void 0,l.radius,c.radius],p,t),h}})}},{25:25,40:40,45:45}],17:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)t.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&t.push(i[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var i=e.getDatasetMeta(0),a=t.datasets[0],s=i.data[r],l=s&&s.custom||{},u=o.valueAtIndexOrDefault,c=e.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(a.backgroundColor,r,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(a.borderColor,r,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(a.borderWidth,r,c.borderWidth),hidden:isNaN(a.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,i,o=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o]&&(i.data[o].hidden=!i.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return o.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}}),r._set("pie",o.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),t.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:i.Arc,linkScales:o.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t=this,n=t.chart,r=n.chartArea,i=n.options,a=i.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=t.getMeta(),f=i.cutoutPercentage,h=i.circumference;if(h<2*Math.PI){var p=i.rotation%(2*Math.PI),g=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+h,m={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(g),y:Math.sin(g)},b=p<=0&&g>=0||p<=2*Math.PI&&2*Math.PI<=g,y=p<=.5*Math.PI&&.5*Math.PI<=g||p<=2.5*Math.PI&&2.5*Math.PI<=g,x=p<=-Math.PI&&-Math.PI<=g||p<=Math.PI&&Math.PI<=g,C=p<=.5*-Math.PI&&.5*-Math.PI<=g||p<=1.5*Math.PI&&1.5*Math.PI<=g,w=f/100,k={x:x?-1:Math.min(m.x*(m.x<0?1:w),v.x*(v.x<0?1:w)),y:C?-1:Math.min(m.y*(m.y<0?1:w),v.y*(v.y<0?1:w))},S={x:b?1:Math.max(m.x*(m.x>0?1:w),v.x*(v.x>0?1:w)),y:y?1:Math.max(m.y*(m.y>0?1:w),v.y*(v.y>0?1:w))},_={width:.5*(S.x-k.x),height:.5*(S.y-k.y)};u=Math.min(s/_.width,l/_.height),c={x:-.5*(S.x+k.x),y:-.5*(S.y+k.y)}}n.borderWidth=t.getMaxBorderWidth(d.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(f?n.outerRadius/100*f:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=c.x*n.outerRadius,n.offsetY=c.y*n.outerRadius,d.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t.getRingIndex(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength,0),o.each(d.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,i=r.chart,a=i.chartArea,s=i.options,l=s.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=s.rotation,f=s.rotation,h=r.getDataset(),p=n&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(h.data[t])*(s.circumference/(2*Math.PI));o.extend(e,{_datasetIndex:r.index,_index:t,_model:{x:u+i.offsetX,y:c+i.offsetY,startAngle:d,endAngle:f,circumference:p,outerRadius:n&&l.animateScale?0:r.outerRadius,innerRadius:n&&l.animateScale?0:r.innerRadius,label:(0,o.valueAtIndexOrDefault)(h.label,t,i.data.labels[t])}});var g=e._model;this.removeHoverStyle(e),n&&l.animateRotate||(g.startAngle=0===t?s.rotation:r.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return o.each(n.data,function(n,i){e=t.data[i],isNaN(e)||n.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,r=0,i=this.index,o=e.length,a=0;a<o;a++)r=(n=e[a]._chart?e[a]._chart.config.data.datasets[i].hoverBorderWidth:0)>(r=(t=e[a]._model?e[a]._model.borderWidth:0)>r?t:r)?n:r;return r}})}},{25:25,40:40,45:45}],18:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),t.exports=function(e){function t(e,t){return o.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(e){var n,r,i,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,f=a.getScaleForId(s.yAxisID),h=a.getDataset(),p=t(h,c);for(p&&(i=l.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),l._scale=f,l._datasetIndex=a.index,l._children=u,l._model={spanGaps:h.spanGaps?h.spanGaps:c.spanGaps,tension:i.tension?i.tension:o.valueOrDefault(h.lineTension,d.tension),backgroundColor:i.backgroundColor?i.backgroundColor:h.backgroundColor||d.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:h.borderWidth||d.borderWidth,borderColor:i.borderColor?i.borderColor:h.borderColor||d.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:h.borderCapStyle||d.borderCapStyle,borderDash:i.borderDash?i.borderDash:h.borderDash||d.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:h.borderDashOffset||d.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:h.borderJoinStyle||d.borderJoinStyle,fill:i.fill?i.fill:void 0!==h.fill?h.fill:d.fill,steppedLine:i.steppedLine?i.steppedLine:o.valueOrDefault(h.steppedLine,d.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:o.valueOrDefault(h.cubicInterpolationMode,d.cubicInterpolationMode)},l.pivot()),n=0,r=u.length;n<r;++n)a.updateElement(u[n],n,e);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),n=0,r=u.length;n<r;++n)u[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=e.custom||{};return i.backgroundColor?n=i.backgroundColor:r.pointBackgroundColor?n=o.valueAtIndexOrDefault(r.pointBackgroundColor,t,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=e.custom||{};return i.borderColor?n=i.borderColor:r.pointBorderColor?n=o.valueAtIndexOrDefault(r.pointBorderColor,t,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=e.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||o.isArray(r.pointBorderWidth)?n=o.valueAtIndexOrDefault(r.pointBorderWidth,t,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=i.borderWidth,n},updateElement:function(e,t,n){var r,i,a=this,s=a.getMeta(),l=e.custom||{},u=a.getDataset(),c=a.index,d=u.data[t],f=a.getScaleForId(s.yAxisID),h=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),r=h.getPixelForValue("object"==typeof d?d:NaN,t,c),i=n?f.getBasePixel():a.calculatePointY(d,t,c),e._xScale=h,e._yScale=f,e._datasetIndex=c,e._index=t,e._model={x:r,y:i,skip:l.skip||isNaN(r)||isNaN(i),radius:l.radius||o.valueAtIndexOrDefault(u.pointRadius,t,p.radius),pointStyle:l.pointStyle||o.valueAtIndexOrDefault(u.pointStyle,t,p.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||o.valueAtIndexOrDefault(u.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,n){var r,i,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(r=0;r<n;r++)if(i=s.data.datasets[r],"line"===(o=s.getDatasetMeta(r)).type&&o.yAxisID===u.id&&s.isDatasetVisible(r)){var f=Number(u.getRightValue(i.data[t]));f<0?d+=f||0:c+=f||0}var h=Number(u.getRightValue(e));return u.getPixelForValue(h<0?d+h:c+h)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,r,i,a=this,s=a.getMeta(),l=a.chart.chartArea,u=s.data||[];if(s.dataset._model.spanGaps&&(u=u.filter(function(e){return!e._model.skip})),"monotone"===s.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(u);else for(t=0,n=u.length;t<n;++t)r=u[t]._model,i=o.splineCurve(o.previousItem(u,t)._model,r,o.nextItem(u,t)._model,s.dataset._model.tension),r.controlPointPreviousX=i.previous.x,r.controlPointPreviousY=i.previous.y,r.controlPointNextX=i.next.x,r.controlPointNextY=i.next.y;if(a.chart.options.elements.line.capBezierPoints)for(t=0,n=u.length;t<n;++t)(r=u[t]._model).controlPointPreviousX=e(r.controlPointPreviousX,l.left,l.right),r.controlPointPreviousY=e(r.controlPointPreviousY,l.top,l.bottom),r.controlPointNextX=e(r.controlPointNextX,l.left,l.right),r.controlPointNextY=e(r.controlPointNextY,l.top,l.bottom)},draw:function(){var e=this,n=e.chart,r=e.getMeta(),i=r.data||[],a=n.chartArea,s=i.length,l=0;for(o.canvas.clipArea(n.ctx,a),t(e.getDataset(),n.options)&&r.dataset.draw(),o.canvas.unclipArea(n.ctx);l<s;++l)i[l].draw(a)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model;i.radius=r.hoverRadius||o.valueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),i.backgroundColor=r.hoverBackgroundColor||o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,n,o.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||o.valueAtIndexOrDefault(t.pointHoverBorderColor,n,o.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||o.valueAtIndexOrDefault(t.pointHoverBorderWidth,n,i.borderWidth)},removeHoverStyle:function(e){var t=this,n=t.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},a=e._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),a.radius=i.radius||o.valueAtIndexOrDefault(n.pointRadius,r,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,r),a.borderColor=t.getPointBorderColor(e,r),a.borderWidth=t.getPointBorderWidth(e,r)}})}},{25:25,40:40,45:45}],19:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)t.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&t.push(i[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var i=e.getDatasetMeta(0),a=t.datasets[0],s=i.data[r].custom||{},l=o.valueAtIndexOrDefault,u=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,r,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,r,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,r,u.borderWidth),hidden:isNaN(a.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,i,o=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),t.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:i.Arc,linkScales:o.noop,update:function(e){var t=this,n=t.chart,r=n.chartArea,i=t.getMeta(),a=n.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);n.outerRadius=Math.max((l-s.borderWidth/2)/2,0),n.innerRadius=Math.max(a.cutoutPercentage?n.outerRadius/100*a.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),t.outerRadius=n.outerRadius-n.radiusLength*t.index,t.innerRadius=t.outerRadius-n.radiusLength,i.count=t.countVisibleElements(),o.each(i.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){for(var r=this,i=r.chart,a=r.getDataset(),s=i.options,l=s.animation,u=i.scale,c=i.data.labels,d=r.calculateCircumference(a.data[t]),f=u.xCenter,h=u.yCenter,p=0,g=r.getMeta(),m=0;m<t;++m)isNaN(a.data[m])||g.data[m].hidden||++p;var v=s.startAngle,b=e.hidden?0:u.getDistanceFromCenterForValue(a.data[t]),y=v+d*p,x=y+(e.hidden?0:d),C=l.animateScale?0:u.getDistanceFromCenterForValue(a.data[t]);o.extend(e,{_datasetIndex:r.index,_index:t,_scale:u,_model:{x:f,y:h,innerRadius:0,outerRadius:n?C:b,startAngle:n&&l.animateRotate?v:y,endAngle:n&&l.animateRotate?v:x,label:o.valueAtIndexOrDefault(c,t,c[t])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return o.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||n++}),n},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{25:25,40:40,45:45}],20:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),t.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:o.noop,update:function(e){var t=this,n=t.getMeta(),r=n.data,i=n.dataset.custom||{},a=t.getDataset(),s=t.chart.options.elements.line,l=t.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),o.extend(n.dataset,{_datasetIndex:t.index,_scale:l,_children:r,_loop:!0,_model:{tension:i.tension?i.tension:o.valueOrDefault(a.lineTension,s.tension),backgroundColor:i.backgroundColor?i.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:a.borderWidth||s.borderWidth,borderColor:i.borderColor?i.borderColor:a.borderColor||s.borderColor,fill:i.fill?i.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:i.borderCapStyle?i.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:i.borderDash?i.borderDash:a.borderDash||s.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle}}),n.dataset.pivot(),o.each(r,function(n,r){t.updateElement(n,r,e)},t),t.updateBezierControlPoints()},updateElement:function(e,t,n){var r=this,i=e.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,u=s.getPointPositionForValue(t,a.data[t]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),o.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{x:n?s.xCenter:u.x,y:n?s.yCenter:u.y,tension:i.tension?i.tension:o.valueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:i.radius?i.radius:o.valueAtIndexOrDefault(a.pointRadius,t,l.radius),backgroundColor:i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(a.pointBackgroundColor,t,l.backgroundColor),borderColor:i.borderColor?i.borderColor:o.valueAtIndexOrDefault(a.pointBorderColor,t,l.borderColor),borderWidth:i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(a.pointBorderWidth,t,l.borderWidth),pointStyle:i.pointStyle?i.pointStyle:o.valueAtIndexOrDefault(a.pointStyle,t,l.pointStyle),hitRadius:i.hitRadius?i.hitRadius:o.valueAtIndexOrDefault(a.pointHitRadius,t,l.hitRadius)}}),e._model.skip=i.skip?i.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,t=this.getMeta();o.each(t.data,function(n,r){var i=n._model,a=o.splineCurve(o.previousItem(t.data,r,!0)._model,i,o.nextItem(t.data,r,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),i.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),i.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),i.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),n.pivot()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,i=e._model;i.radius=n.hoverRadius?n.hoverRadius:o.valueAtIndexOrDefault(t.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),i.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,r,o.getHoverColor(i.backgroundColor)),i.borderColor=n.hoverBorderColor?n.hoverBorderColor:o.valueAtIndexOrDefault(t.pointHoverBorderColor,r,o.getHoverColor(i.borderColor)),i.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o.valueAtIndexOrDefault(t.pointHoverBorderWidth,r,i.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,i=e._model,a=this.chart.options.elements.point;i.radius=n.radius?n.radius:o.valueAtIndexOrDefault(t.pointRadius,r,a.radius),i.backgroundColor=n.backgroundColor?n.backgroundColor:o.valueAtIndexOrDefault(t.pointBackgroundColor,r,a.backgroundColor),i.borderColor=n.borderColor?n.borderColor:o.valueAtIndexOrDefault(t.pointBorderColor,r,a.borderColor),i.borderWidth=n.borderWidth?n.borderWidth:o.valueAtIndexOrDefault(t.pointBorderWidth,r,a.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(e,t,n){"use strict";e(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),t.exports=function(e){e.controllers.scatter=e.controllers.line}},{25:25}],22:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45);r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),t.exports=function(e){e.Animation=i.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,r){var i,o,a=this.animations;for(t.chart=e,r||(e.animating=!0),i=0,o=a.length;i<o;++i)if(a[i].chart===e)return void(a[i]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=o.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var r=Date.now();e.dropFrames+=(r-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var t,n,r=this.animations,i=0;i<r.length;)n=(t=r[i]).chart,t.currentStep=(t.currentStep||0)+e,t.currentStep=Math.min(t.currentStep,t.numSteps),o.callback(t.render,[n,t],n),o.callback(t.onAnimationProgress,[t],n),t.currentStep>=t.numSteps?(o.callback(t.onAnimationComplete,[t],n),n.animating=!1,r.splice(i,1)):++i}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})}},{25:25,26:26,45:45}],23:[function(e,t,n){"use strict";var r=e(25),i=e(45),o=e(28),a=e(48);t.exports=function(e){function t(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=i.configMerge(r.global,r[e.type],e.options||{}),e}function n(e){return"top"===e||"bottom"===e}var s=e.plugins;e.types={},e.instances={},e.controllers={},i.extend(e.prototype,{construct:function(n,r){var o=this;r=t(r);var s=a.acquireContext(n,r),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;o.id=i.uid(),o.ctx=s,o.canvas=l,o.config=r,o.width=c,o.height=u,o.aspectRatio=u?c/u:null,o.options=r.options,o._bufferedRender=!1,o.chart=o,o.controller=o,e.instances[o.id]=o,Object.defineProperty(o,"data",{get:function(){return o.config.data},set:function(e){o.config.data=e}}),s&&l?(o.initialize(),o.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return s.notify(e,"beforeInit"),i.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),s.notify(e,"afterInit"),e},clear:function(){return i.canvas.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,o=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(i.getMaximumWidth(r))),l=Math.max(0,Math.floor(o?a/o:i.getMaximumHeight(r)));if((t.width!==a||t.height!==l)&&(r.width=t.width=a,r.height=t.height=l,r.style.width=a+"px",r.style.height=l+"px",i.retinaScale(t,n.devicePixelRatio),!e)){var u={width:a,height:l};s.notify(t,"resize",[u]),t.options.onResize&&t.options.onResize(t,u),t.stop(),t.update(t.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;i.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),i.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildScales:function(){var t=this,r=t.options,o=t.scales={},a=[];r.scales&&(a=a.concat((r.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),r.scale&&a.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),i.each(a,function(r){var a=r.options,s=i.valueOrDefault(a.type,r.dtype),l=e.scaleService.getScaleConstructor(s);if(l){n(a.position)!==n(r.dposition)&&(a.position=r.dposition);var u=new l({id:a.id,options:a,ctx:t.ctx,chart:t});o[u.id]=u,u.mergeTicksOptions(),r.isDefault&&(t.scale=u)}}),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],r=[];return i.each(t.data.datasets,function(i,o){var a=t.getDatasetMeta(o),s=i.type||t.config.type;if(a.type&&a.type!==s&&(t.destroyDatasetMeta(o),a=t.getDatasetMeta(o)),a.type=s,n.push(a.type),a.controller)a.controller.updateIndex(o);else{var l=e.controllers[a.type];if(void 0===l)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(t,o),r.push(a.controller)}},t),r},resetElements:function(){var e=this;i.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),function(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}(t),!1!==s.notify(t,"beforeUpdate")){t.tooltip._data=t.data;var n=t.buildOrUpdateControllers();i.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.buildOrUpdateElements()},t),t.updateLayout(),i.each(n,function(e){e.reset()}),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],s.notify(t,"afterUpdate"),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var t=this;!1!==s.notify(t,"beforeLayout")&&(e.layoutService.update(this,this.width,this.height),s.notify(t,"afterScaleUpdate"),s.notify(t,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==s.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);s.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),r={meta:n,index:e};!1!==s.notify(t,"beforeDatasetUpdate",[r])&&(n.controller.update(),s.notify(t,"afterDatasetUpdate",[r]))},render:function(t){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var r=t.duration,o=t.lazy;if(!1!==s.notify(n,"beforeRender")){var a=n.options.animation,l=function(e){s.notify(n,"afterRender"),i.callback(a&&a.onComplete,[e],n)};if(a&&(void 0!==r&&0!==r||void 0===r&&0!==a.duration)){var u=new e.Animation({numSteps:(r||a.duration)/16.66,easing:t.easing||a.easing,render:function(e,t){var n=t.currentStep,r=n/t.numSteps;e.draw((0,i.easing.effects[t.easing])(r),r,n)},onAnimationProgress:a.onProgress,onAnimationComplete:l});e.animationService.addAnimation(n,u,r,o)}else n.draw(),l(new e.Animation({numSteps:0,chart:n}));return n}},draw:function(e){var t=this;t.clear(),i.isNullOrUndef(e)&&(e=1),t.transition(e),!1!==s.notify(t,"beforeDraw",[e])&&(i.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t._drawTooltip(e),s.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=this,n=0,r=(t.data.datasets||[]).length;n<r;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==s.notify(t,"beforeDatasetsDraw",[e])){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);s.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,r=n.getDatasetMeta(e),i={meta:r,index:e,easingValue:t};!1!==s.notify(n,"beforeDatasetDraw",[i])&&(r.controller.draw(t),s.notify(n,"afterDatasetDraw",[i]))},_drawTooltip:function(e){var t=this,n=t.tooltip,r={tooltip:n,easingValue:e};!1!==s.notify(t,"beforeTooltipDraw",[r])&&(n.draw(),s.notify(t,"afterTooltipDraw",[r]))},getElementAtEvent:function(e){return o.modes.single(this,e)},getElementsAtEvent:function(e){return o.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return o.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=o.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return o.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var r=n._meta[t.id];return r||(r=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var t,n,r=this,o=r.canvas;for(r.stop(),t=0,n=r.data.datasets.length;t<n;++t)r.destroyDatasetMeta(t);o&&(r.unbindEvents(),i.canvas.clear(r),a.releaseContext(r.ctx),r.canvas=null,r.ctx=null),s.notify(r,"destroy"),delete e.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};i.each(e.options.events,function(r){a.addEventListener(e,r,n),t[r]=n}),e.options.responsive&&(n=function(){e.resize()},a.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,i.each(t,function(t,n){a.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var r,i,o,a=n?"setHoverStyle":"removeHoverStyle";for(i=0,o=e.length;i<o;++i)(r=e[i])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==s.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);r|=n&&n.handleEvent(e),s.notify(t,"afterEvent",[e]);var i=t._bufferedRequest;return i?t.render(i):r&&!t.animating&&(t.stop(),t.render(t.options.hover.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,r=n.options||{},o=r.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===e.type?[]:n.getElementsAtEventForMode(e,o.mode,o),i.callback(r.onHover||r.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||r.onClick&&r.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),t=!i.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),e.Controller=e}},{25:25,28:28,45:45,48:48}],24:[function(e,t,n){"use strict";var r=e(45);t.exports=function(e){function t(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),i.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),o=i.apply(this,t);return r.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),o}})}))}function n(e,t){var n=e._chartjs;if(n){var r=n.listeners,o=r.indexOf(t);-1!==o&&r.splice(o,1),r.length>0||(i.forEach(function(t){delete e[t]}),delete e._chartjs)}}var i=["push","pop","shift","splice","unshift"];e.DatasetController=function(e,t){this.initialize(e,t)},r.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,r=n.getMeta(),i=n.getDataset().data||[],o=r.data;for(e=0,t=i.length;e<t;++e)o[e]=o[e]||n.createMetaData(e);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,r=e.getDataset(),i=r.data||(r.data=[]);e._data!==i&&(e._data&&n(e._data,e),t(i,e),e._data=i),e.resyncElements()},update:r.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,i=0;i<r;++i)n[i].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,o=e.custom||{},a=r.valueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,i,t.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,i,t.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,i,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},o=r.valueAtIndexOrDefault,a=r.getHoverColor,s=e._model;s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:o(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,r=t.data.length,i=n.length;i<r?t.data.splice(i,r-i):i>r&&e.insertElements(r,i-r)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=r.inherits}},{45:45}],25:[function(e,t,n){"use strict";var r=e(45);t.exports={_set:function(e,t){return r.merge(this[e]||(this[e]={}),t)}}},{45:45}],26:[function(e,t,n){"use strict";function r(e,t,n,r){var o,a,s,l,u,c,d,f,h,p=Object.keys(n);for(o=0,a=p.length;o<a;++o)if(c=n[s=p[o]],t.hasOwnProperty(s)||(t[s]=c),(l=t[s])!==c&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),(d=typeof c)==typeof(u=e[s]))if("string"===d){if((f=i(u)).valid&&(h=i(c)).valid){t[s]=h.mix(f,r).rgbString();continue}}else if("number"===d&&isFinite(u)&&isFinite(c)){t[s]=u+(c-u)*r;continue}t[s]=c}}var i=e(3),o=e(45),a=function(e){o.extend(this,e),this.initialize.apply(this,arguments)};o.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=o.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,o=t._view;return n&&1!==e?(o||(o=t._view={}),i||(i=t._start={}),r(i,o,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),a.extend=o.inherits,t.exports=a},{3:3,45:45}],27:[function(e,t,n){"use strict";var r=e(3),i=e(25),o=e(45);t.exports=function(e){function t(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function n(e){return null!=e&&"none"!==e}function a(e,r,i){var o=document.defaultView,a=e.parentNode,s=o.getComputedStyle(e)[r],l=o.getComputedStyle(a)[r],u=n(s),c=n(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(s,e,i):d,c?t(l,a,i):d):"none"}o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,i){var a=n[t]||{},s=r[t];"scales"===t?n[t]=o.scaleMerge(a,s):"scale"===t?n[t]=o.merge(a,[e.scaleService.getScaleDefaults(s.type),s]):o._merger(t,n,r,i)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,i){if("xAxes"===t||"yAxes"===t){var a,s,l,u=r[t].length;for(n[t]||(n[t]=[]),a=0;a<u;++a)s=o.valueOrDefault((l=r[t][a]).type,"xAxes"===t?"category":"linear"),a>=n[t].length&&n[t].push({}),o.merge(n[t][a],!n[t][a].type||l.type&&l.type!==n[t][a].type?[e.scaleService.getScaleDefaults(s),l]:l)}else o._merger(t,n,r,i)}})},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return o.each(e,function(e){t(e)&&n.push(e)}),n},o.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,i=e.length;r<i;++r)if(t.call(n,e[r],r,e))return r;return-1},o.findNextWhere=function(e,t,n){o.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},o.findPreviousWhere=function(e,t,n){o.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,n){return Math.abs(e-t)<n},o.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},o.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},o.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},o.aliasPixel=function(e){return e%2==0?0:.5},o.splineCurve=function(e,t,n,r){var i=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=r*(u=isNaN(u)?0:u),f=r*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-i.x),y:o.y-d*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(e){var t,n,r,i,a,s,l,u,c,d=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),f=d.length;for(t=0;t<f;++t)if(!(r=d[t]).model.skip){if(n=t>0?d[t-1]:null,(i=t<f-1?d[t+1]:null)&&!i.model.skip){var h=i.model.x-r.model.x;r.deltaK=0!==h?(i.model.y-r.model.y)/h:0}r.mK=!n||n.model.skip?r.deltaK:!i||i.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?0:(n.deltaK+r.deltaK)/2}for(t=0;t<f-1;++t)i=d[t+1],(r=d[t]).model.skip||i.model.skip||(o.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(a=r.mK/r.deltaK,s=i.mK/r.deltaK,(u=Math.pow(a,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(u),r.mK=a*l*r.deltaK,i.mK=s*l*r.deltaK)));for(t=0;t<f;++t)(r=d[t]).model.skip||(i=t<f-1?d[t+1]:null,(n=t>0?d[t-1]:null)&&!n.model.skip&&(r.model.controlPointPreviousX=r.model.x-(c=(r.model.x-n.model.x)/3),r.model.controlPointPreviousY=r.model.y-c*r.mK),i&&!i.model.skip&&(r.model.controlPointNextX=r.model.x+(c=(i.model.x-r.model.x)/3),r.model.controlPointNextY=r.model.y+c*r.mK))},o.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},o.niceNum=function(e,t){var n=Math.floor(o.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},o.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o.getRelativePosition=function(e,t){var n,r,i=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),f=parseFloat(o.getStyle(a,"padding-bottom")),h=s.bottom-s.top-c-f;return{x:n=Math.round((n-s.left-u)/(s.right-s.left-u-d)*a.width/t.currentDevicePixelRatio),y:r=Math.round((r-s.top-c)/h*a.height/t.currentDevicePixelRatio)}},o.getConstraintWidth=function(e){return a(e,"max-width","clientWidth")},o.getConstraintHeight=function(e){return a(e,"max-height","clientHeight")},o.getMaximumWidth=function(e){var t=e.parentNode;if(!t)return e.clientWidth;var n=parseInt(o.getStyle(t,"padding-left"),10),r=parseInt(o.getStyle(t,"padding-right"),10),i=t.clientWidth-n-r,a=o.getConstraintWidth(e);return isNaN(a)?i:Math.min(i,a)},o.getMaximumHeight=function(e){var t=e.parentNode;if(!t)return e.clientHeight;var n=parseInt(o.getStyle(t,"padding-top"),10),r=parseInt(o.getStyle(t,"padding-bottom"),10),i=t.clientHeight-n-r,a=o.getConstraintHeight(e);return isNaN(a)?i:Math.min(i,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||window.devicePixelRatio||1;if(1!==n){var r=e.canvas,i=e.height,o=e.width;r.height=i*n,r.width=o*n,e.ctx.scale(n,n),r.style.height=i+"px",r.style.width=o+"px"}},o.fontString=function(e,t,n){return t+" "+e+"px "+n},o.longestText=function(e,t,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.font=t;var s=0;o.each(n,function(t){null!=t&&!0!==o.isArray(t)?s=o.measureText(e,i,a,s,t):o.isArray(t)&&o.each(t,function(t){null==t||o.isArray(t)||(s=o.measureText(e,i,a,s,t))})});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete i[a[u]];a.splice(0,l)}return s},o.measureText=function(e,t,n,r,i){var o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r},o.numberOfLabelLines=function(e){var t=1;return o.each(e,function(e){o.isArray(e)&&e.length>t&&(t=e.length)}),t},o.color=r?function(e){return e instanceof CanvasGradient&&(e=i.global.defaultColor),r(e)}:function(e){return console.error("Color.js not found!"),e},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(e,t,n){"use strict";function r(e,t){return e.native?{x:e.x,y:e.y}:u.getRelativePosition(e,t)}function i(e,t){var n,r,i,o,a;for(r=0,o=e.data.datasets.length;r<o;++r)if(e.isDatasetVisible(r))for(i=0,a=(n=e.getDatasetMeta(r)).data.length;i<a;++i){var s=n.data[i];s._view.skip||t(s)}}function o(e,t){var n=[];return i(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function a(e,t,n,r){var o=Number.POSITIVE_INFINITY,a=[];return i(e,function(e){if(!n||e.inRange(t.x,t.y)){var i=e.getCenterPoint(),s=r(t,i);s<o?(a=[e],o=s):s===o&&a.push(e)}}),a}function s(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function l(e,t,n){var i=r(t,e);n.axis=n.axis||"x";var l=s(n.axis),u=n.intersect?o(e,i):a(e,i,!1,l),c=[];return u.length?(e.data.datasets.forEach(function(t,n){if(e.isDatasetVisible(n)){var r=e.getDatasetMeta(n).data[u[0]._index];r&&!r._view.skip&&c.push(r)}}),c):[]}var u=e(45);t.exports={modes:{single:function(e,t){var n=r(t,e),o=[];return i(e,function(e){if(e.inRange(n.x,n.y))return o.push(e),o}),o.slice(0,1)},label:l,index:l,dataset:function(e,t,n){var i=r(t,e);n.axis=n.axis||"xy";var l=s(n.axis),u=n.intersect?o(e,i):a(e,i,!1,l);return u.length>0&&(u=e.getDatasetMeta(u[0]._datasetIndex).data),u},"x-axis":function(e,t){return l(e,t,{intersect:!1})},point:function(e,t){return o(e,r(t,e))},nearest:function(e,t,n){var i=r(t,e);n.axis=n.axis||"xy";var o=s(n.axis),l=a(e,i,n.intersect,o);return l.length>1&&l.sort(function(e,t){var n=e.getArea()-t.getArea();return 0===n&&(n=e._datasetIndex-t._datasetIndex),n}),l.slice(0,1)},x:function(e,t,n){var o=r(t,e),a=[],s=!1;return i(e,function(e){e.inXRange(o.x)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a},y:function(e,t,n){var o=r(t,e),a=[],s=!1;return i(e,function(e){e.inYRange(o.y)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a}}}},{45:45}],29:[function(e,t,n){"use strict";e(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),t.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.Chart=e,e}},{25:25}],30:[function(e,t,n){"use strict";var r=e(45);t.exports=function(e){function t(e,t){return r.where(e,function(e){return e.position===t})}function n(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r._tmpIndex_-i._tmpIndex_:r.weight-i.weight}),e.forEach(function(e){delete e._tmpIndex_})}e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,i=["fullWidth","position","weight"],o=i.length,a=0;a<o;++a)n.hasOwnProperty(r=i[a])&&(t[r]=n[r])},update:function(e,i,o){function a(e){var t=r.findNextWhere(_,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(A,T),right:Math.max(M,N),top:0,bottom:0};e.update(e.fullWidth?b:k,y/2,n)}else e.update(t.minSize.width,S)}function s(e){e.isHorizontal()?(e.left=e.fullWidth?u:A,e.right=e.fullWidth?i-c:A+k,e.top=H,e.bottom=H+e.height,H=e.bottom):(e.left=F,e.right=F+e.width,e.top=P,e.bottom=P+S,F=e.right)}if(e){var l=r.options.toPadding((e.options.layout||{}).padding),u=l.left,c=l.right,d=l.top,f=l.bottom,h=t(e.boxes,"left"),p=t(e.boxes,"right"),g=t(e.boxes,"top"),m=t(e.boxes,"bottom"),v=t(e.boxes,"chartArea");n(h,!0),n(p,!1),n(g,!0),n(m,!1);var b=i-u-c,y=o-d-f,x=y/2,C=(i-b/2)/(h.length+p.length),w=(o-x)/(g.length+m.length),k=b,S=y,_=[];r.each(h.concat(p,g,m),function(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?b:k,w),S-=t.height):(t=e.update(C,x),k-=t.width),_.push({horizontal:n,minSize:t,box:e})});var T=0,N=0,R=0,E=0;r.each(g.concat(m),function(e){if(e.getPadding){var t=e.getPadding();T=Math.max(T,t.left),N=Math.max(N,t.right)}}),r.each(h.concat(p),function(e){if(e.getPadding){var t=e.getPadding();R=Math.max(R,t.top),E=Math.max(E,t.bottom)}});var A=u,M=c,P=d,D=f;r.each(h.concat(p),a),r.each(h,function(e){A+=e.width}),r.each(p,function(e){M+=e.width}),r.each(g.concat(m),a),r.each(g,function(e){P+=e.height}),r.each(m,function(e){D+=e.height}),r.each(h.concat(p),function(e){var t=r.findNextWhere(_,function(t){return t.box===e});t&&e.update(t.minSize.width,S,{left:0,right:0,top:P,bottom:D})}),A=u,M=c,P=d,D=f,r.each(h,function(e){A+=e.width}),r.each(p,function(e){M+=e.width}),r.each(g,function(e){P+=e.height}),r.each(m,function(e){D+=e.height});var B=Math.max(T-A,0);A+=B,M+=Math.max(N-M,0);var I=Math.max(R-P,0);P+=I,D+=Math.max(E-D,0);var L=o-P-D,O=i-A-M;O===k&&L===S||(r.each(h,function(e){e.height=L}),r.each(p,function(e){e.height=L}),r.each(g,function(e){e.fullWidth||(e.width=O)}),r.each(m,function(e){e.fullWidth||(e.width=O)}),S=L,k=O);var F=u+B,H=d+I;r.each(h.concat(g),s),F+=k,H+=S,r.each(p,s),r.each(m,s),e.chartArea={left:A,top:P,right:A+k,bottom:P+S},r.each(v,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(k,S)})}}}}},{45:45}],31:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45);r._set("global",{plugins:{}}),t.exports=function(e){e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,i,o,a,s,l=this.descriptors(e),u=l.length;for(r=0;r<u;++r)if("function"==typeof(s=(o=(i=l[r]).plugin)[t])&&((a=[e].concat(n||[])).push(i.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(e){var t=e._plugins||(e._plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],a=e&&e.config||{},s=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,a=s[t];!1!==a&&(!0===a&&(a=o.clone(r.global.plugins[t])),n.push(e),i.push({plugin:e,options:a||{}}))}}),t.descriptors=i,t.id=this._cacheId,i}},e.pluginService=e.plugins,e.PluginBase=i.extend({})}},{25:25,26:26,45:45}],32:[function(e,t,n){"use strict";function r(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(e[t].label);return r}function i(e,t,n){var r=e.getPixelForTick(t);return n&&(r-=0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(t-1))/2),r}var o=e(25),a=e(26),s=e(45),l=e(34);o._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:l.formatters.values,minor:{},major:{}}}),t.exports=function(e){function t(e,t,n){return s.isArray(t)?s.longestText(e,n,t):e.measureText(t).width}function n(e){var t=s.valueOrDefault,n=o.global,r=t(e.fontSize,n.defaultFontSize),i=t(e.fontStyle,n.defaultFontStyle),a=t(e.fontFamily,n.defaultFontFamily);return{size:r,style:i,family:a,font:s.fontString(r,i,a)}}function l(e){return s.options.toLineHeight(s.valueOrDefault(e.lineHeight,1.2),s.valueOrDefault(e.fontSize,o.global.defaultFontSize))}e.Scale=a.extend({getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var t in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)"major"!==t&&"minor"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){s.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,i,o,a,l,u,c=this;for(c.beforeUpdate(),c.maxWidth=e,c.maxHeight=t,c.margins=s.extend({left:0,right:0,top:0,bottom:0},n),c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),l=c.buildTicks()||[],c.afterBuildTicks(),c.beforeTickToLabelConversion(),o=c.convertTicksToLabels(l)||c.ticks,c.afterTickToLabelConversion(),c.ticks=o,r=0,i=o.length;r<i;++r)a=o[r],(u=l[r])?u.label=a:l.push(u={label:a,major:!1});return c._ticks=l,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){s.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){s.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){s.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){s.callback(this.options.beforeDataLimits,[this])},determineDataLimits:s.noop,afterDataLimits:function(){s.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){s.callback(this.options.beforeBuildTicks,[this])},buildTicks:s.noop,afterBuildTicks:function(){s.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){s.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){s.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){s.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,i=e.options.ticks,o=r(e._ticks),a=n(i);t.font=a.font;var l=i.minRotation||0;if(o.length&&e.options.display&&e.isHorizontal())for(var u,c=s.longestText(t,a.font,o,e.longestTextCache),d=c,f=e.getPixelForTick(1)-e.getPixelForTick(0)-6;d>f&&l<i.maxRotation;){var h=s.toRadians(l);if(u=Math.cos(h),Math.sin(h)*c>e.maxHeight){l--;break}l++,d=u*c}e.labelRotation=l},afterCalculateTickRotation:function(){s.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){s.callback(this.options.beforeFit,[this])},fit:function(){var e=this,i=e.minSize={width:0,height:0},o=r(e._ticks),a=e.options,u=a.ticks,c=a.scaleLabel,d=a.gridLines,f=a.display,h=e.isHorizontal(),p=n(u),g=a.gridLines.tickMarkLength;if(i.width=h?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:f&&d.drawTicks?g:0,i.height=h?f&&d.drawTicks?g:0:e.maxHeight,c.display&&f){var m=l(c)+s.options.toPadding(c.padding).height;h?i.height+=m:i.width+=m}if(u.display&&f){var v=s.longestText(e.ctx,p.font,o,e.longestTextCache),b=s.numberOfLabelLines(o),y=.5*p.size,x=e.options.ticks.padding;if(h){e.longestLabelWidth=v;var C=s.toRadians(e.labelRotation),w=Math.cos(C),k=Math.sin(C)*v+p.size*b+y*(b-1)+y;i.height=Math.min(e.maxHeight,i.height+k+x),e.ctx.font=p.font;var S=t(e.ctx,o[0],p.font),_=t(e.ctx,o[o.length-1],p.font);0!==e.labelRotation?(e.paddingLeft="bottom"===a.position?w*S+3:w*y+3,e.paddingRight="bottom"===a.position?w*y+3:w*_+3):(e.paddingLeft=S/2+3,e.paddingRight=_/2+3)}else u.mirror?v=0:v+=x+y,i.width=Math.min(e.maxWidth,i.width+v),e.paddingTop=p.size/2,e.paddingBottom=p.size/2}e.handleMargins(),e.width=i.width,e.height=i.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){s.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(s.isNullOrUndef(e))return NaN;if("number"==typeof e&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:s.noop,getPixelForValue:s.noop,getValueForPixel:s.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var r=(t.width-(t.paddingLeft+t.paddingRight))/Math.max(t._ticks.length-(n?0:1),1),i=r*e+t.paddingLeft;return n&&(i+=r/2),t.left+Math.round(i)+(t.isFullWidth()?t.margins.left:0)}return t.top+e*((t.height-(t.paddingTop+t.paddingBottom))/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;return t.isHorizontal()?t.left+Math.round((t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft)+(t.isFullWidth()?t.margins.left:0):t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,r,i,o=this,a=o.isHorizontal(),l=o.options.ticks.minor,u=e.length,c=s.toRadians(o.labelRotation),d=Math.cos(c),f=o.longestLabelWidth*d,h=[];for(l.maxTicksLimit&&(i=l.maxTicksLimit),a&&(t=!1,(f+l.autoSkipPadding)*u>o.width-(o.paddingLeft+o.paddingRight)&&(t=1+Math.floor((f+l.autoSkipPadding)*u/(o.width-(o.paddingLeft+o.paddingRight)))),i&&u>i&&(t=Math.max(t,Math.floor(u/i)))),n=0;n<u;n++)r=e[n],(t>1&&n%t>0||n%t==0&&n+t>=u)&&n!==u-1&&delete r.label,h.push(r);return h},draw:function(e){var t=this,r=t.options;if(r.display){var a=t.ctx,u=o.global,c=r.ticks.minor,d=r.ticks.major||c,f=r.gridLines,h=r.scaleLabel,p=0!==t.labelRotation,g=t.isHorizontal(),m=c.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),v=s.valueOrDefault(c.fontColor,u.defaultFontColor),b=n(c),y=s.valueOrDefault(d.fontColor,u.defaultFontColor),x=n(d),C=f.drawTicks?f.tickMarkLength:0,w=s.valueOrDefault(h.fontColor,u.defaultFontColor),k=n(h),S=s.options.toPadding(h.padding),_=s.toRadians(t.labelRotation),T=[],N="right"===r.position?t.left:t.right-C,R="right"===r.position?t.left+C:t.right,E="bottom"===r.position?t.top:t.bottom-C,A="bottom"===r.position?t.top+C:t.bottom;if(s.each(m,function(n,o){if(!s.isNullOrUndef(n.label)){var a,l,d,h,v=n.label;o===t.zeroLineIndex&&r.offset===f.offsetGridLines?(a=f.zeroLineWidth,l=f.zeroLineColor,d=f.zeroLineBorderDash,h=f.zeroLineBorderDashOffset):(a=s.valueAtIndexOrDefault(f.lineWidth,o),l=s.valueAtIndexOrDefault(f.color,o),d=s.valueOrDefault(f.borderDash,u.borderDash),h=s.valueOrDefault(f.borderDashOffset,u.borderDashOffset));var b,y,x,w,k,S,M,P,D,B,I="middle",L="middle",O=c.padding;if(g){var F=C+O;"bottom"===r.position?(L=p?"middle":"top",I=p?"right":"center",B=t.top+F):(L=p?"middle":"bottom",I=p?"left":"center",B=t.bottom-F);var H=i(t,o,f.offsetGridLines&&m.length>1);H<t.left&&(l="rgba(0,0,0,0)"),H+=s.aliasPixel(a),D=t.getPixelForTick(o)+c.labelOffset,b=x=k=M=H,y=E,w=A,S=e.top,P=e.bottom}else{var z,W="left"===r.position;c.mirror?(I=W?"left":"right",z=O):(I=W?"right":"left",z=C+O),D=W?t.right-z:t.left+z;var V=i(t,o,f.offsetGridLines&&m.length>1);V<t.top&&(l="rgba(0,0,0,0)"),V+=s.aliasPixel(a),B=t.getPixelForTick(o)+c.labelOffset,b=N,x=R,k=e.left,M=e.right,y=w=S=P=V}T.push({tx1:b,ty1:y,tx2:x,ty2:w,x1:k,y1:S,x2:M,y2:P,labelX:D,labelY:B,glWidth:a,glColor:l,glBorderDash:d,glBorderDashOffset:h,rotation:-1*_,label:v,major:n.major,textBaseline:L,textAlign:I})}}),s.each(T,function(e){if(f.display&&(a.save(),a.lineWidth=e.glWidth,a.strokeStyle=e.glColor,a.setLineDash&&(a.setLineDash(e.glBorderDash),a.lineDashOffset=e.glBorderDashOffset),a.beginPath(),f.drawTicks&&(a.moveTo(e.tx1,e.ty1),a.lineTo(e.tx2,e.ty2)),f.drawOnChartArea&&(a.moveTo(e.x1,e.y1),a.lineTo(e.x2,e.y2)),a.stroke(),a.restore()),c.display){a.save(),a.translate(e.labelX,e.labelY),a.rotate(e.rotation),a.font=e.major?x.font:b.font,a.fillStyle=e.major?y:v,a.textBaseline=e.textBaseline,a.textAlign=e.textAlign;var t=e.label;if(s.isArray(t))for(var n=0,r=0;n<t.length;++n)a.fillText(""+t[n],0,r),r+=1.5*b.size;else a.fillText(t,0,0);a.restore()}}),h.display){var M,P,D=0,B=l(h)/2;if(g)M=t.left+(t.right-t.left)/2,P="bottom"===r.position?t.bottom-B-S.bottom:t.top+B+S.top;else{var I="left"===r.position;M=I?t.left+B+S.top:t.right-B-S.top,P=t.top+(t.bottom-t.top)/2,D=I?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(M,P),a.rotate(D),a.textAlign="center",a.textBaseline="middle",a.fillStyle=w,a.font=k.font,a.fillText(h.labelString,0,0),a.restore()}if(f.drawBorder){a.lineWidth=s.valueAtIndexOrDefault(f.lineWidth,0),a.strokeStyle=s.valueAtIndexOrDefault(f.color,0);var L=t.left,O=t.right,F=t.top,H=t.bottom,z=s.aliasPixel(a.lineWidth);g?(F=H="top"===r.position?t.bottom:t.top,F+=z,H+=z):(L=O="left"===r.position?t.right:t.left,L+=z,O+=z),a.beginPath(),a.moveTo(L,F),a.lineTo(O,H),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(e,t,n){"use strict";var r=e(25),i=e(45);t.exports=function(e){e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=i.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?i.merge({},[r.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=i.extend(n.defaults[e],t))},addScalesToLayout:function(t){i.each(t.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,e.layoutService.addBox(t,n)})}}}},{25:25,45:45}],34:[function(e,t,n){"use strict";var r=e(45);t.exports={generators:{linear:function(e,t){var n,i=[];if(e.stepSize&&e.stepSize>0)n=e.stepSize;else{var o=r.niceNum(t.max-t.min,!1);n=r.niceNum(o/(e.maxTicks-1),!0)}var a=Math.floor(t.min/n)*n,s=Math.ceil(t.max/n)*n;e.min&&e.max&&e.stepSize&&r.almostWhole((e.max-e.min)/e.stepSize,n/1e3)&&(a=e.min,s=e.max);var l=(s-a)/n;l=r.almostEquals(l,Math.round(l),n/1e3)?Math.round(l):Math.ceil(l),i.push(void 0!==e.min?e.min:a);for(var u=1;u<l;++u)i.push(a+u*n);return i.push(void 0!==e.max?e.max:s),i},logarithmic:function(e,t){var n,i,o=[],a=r.valueOrDefault,s=a(e.min,Math.pow(10,Math.floor(r.log10(t.min)))),l=Math.floor(r.log10(t.max)),u=Math.ceil(t.max/Math.pow(10,l));0===s?(n=Math.floor(r.log10(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),o.push(s),s=i*Math.pow(10,n)):(n=Math.floor(r.log10(s)),i=Math.floor(s/Math.pow(10,n)));do{o.push(s),10==++i&&(i=1,++n),s=i*Math.pow(10,n)}while(n<l||n===l&&i<u);var c=a(e.max,s);return o.push(c),o}},formatters:{values:function(e){return r.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var o=r.log10(Math.abs(i)),a="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(r.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}}},{45:45}],35:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45);r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(e,t){var n="",r=t.labels,i=r?r.length:0;if(e.length>0){var o=e[0];o.xLabel?n=o.xLabel:i>0&&o.index<i&&(n=r[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}}),t.exports=function(e){function t(e,t){var n=o.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(o.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function a(e){var t=e._xScale,n=e._yScale||e._scale,r=e._index,i=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(r,i):"",yLabel:n?n.getLabelForIndex(r,i):"",index:r,datasetIndex:i,x:e._model.x,y:e._model.y}}function s(e){var t=r.global,n=o.valueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:n(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:n(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:n(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n(e.titleFontStyle,t.defaultFontStyle),titleFontSize:n(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:n(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n(e.footerFontStyle,t.defaultFontStyle),footerFontSize:n(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}e.Tooltip=i.extend({initialize:function(){this._model=s(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options.callbacks,r=t.beforeTitle.apply(e,arguments),i=t.title.apply(e,arguments),o=t.afterTitle.apply(e,arguments),a=[];return a=n(a,r),a=n(a,i),n(a,o)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var r=this,i=r._options.callbacks,a=[];return o.each(e,function(e){var o={before:[],lines:[],after:[]};n(o.before,i.beforeLabel.call(r,e,t)),n(o.lines,i.label.call(r,e,t)),n(o.after,i.afterLabel.call(r,e,t)),a.push(o)}),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,r=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),o=t.afterFooter.apply(e,arguments),a=[];return a=n(a,r),a=n(a,i),n(a,o)},update:function(t){var n,r,i=this,l=i._options,u=i._model,c=i._model=s(l),d=i._active,f=i._data,h={xAlign:u.xAlign,yAlign:u.yAlign},p={x:u.x,y:u.y},g={width:u.width,height:u.height},m={x:u.caretX,y:u.caretY};if(d.length){c.opacity=1;var v=[],b=[];m=e.Tooltip.positioners[l.position].call(i,d,i._eventPosition);var y=[];for(n=0,r=d.length;n<r;++n)y.push(a(d[n]));l.filter&&(y=y.filter(function(e){return l.filter(e,f)})),l.itemSort&&(y=y.sort(function(e,t){return l.itemSort(e,t,f)})),o.each(y,function(e){v.push(l.callbacks.labelColor.call(i,e,i._chart)),b.push(l.callbacks.labelTextColor.call(i,e,i._chart))}),c.title=i.getTitle(y,f),c.beforeBody=i.getBeforeBody(y,f),c.body=i.getBody(y,f),c.afterBody=i.getAfterBody(y,f),c.footer=i.getFooter(y,f),c.x=Math.round(m.x),c.y=Math.round(m.y),c.caretPadding=l.caretPadding,c.labelColors=v,c.labelTextColors=b,c.dataPoints=y,p=function(e,t,n){var r=e.x,i=e.y,o=e.caretPadding,a=n.xAlign,s=n.yAlign,l=e.caretSize+o,u=e.cornerRadius+o;return"right"===a?r-=t.width:"center"===a&&(r-=t.width/2),"top"===s?i+=l:i-="bottom"===s?t.height+l:t.height/2,"center"===s?"left"===a?r+=l:"right"===a&&(r-=l):"left"===a?r-=u:"right"===a&&(r+=u),{x:r,y:i}}(c,g=function(e,t){var n=e._chart.ctx,r=2*t.yPadding,i=0,a=t.body,s=a.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0),l=t.title.length,u=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,f=t.footerFontSize;r+=l*c,r+=l?(l-1)*t.titleSpacing:0,r+=l?t.titleMarginBottom:0,r+=(s+=t.beforeBody.length+t.afterBody.length)*d,r+=s?(s-1)*t.bodySpacing:0,r+=u?t.footerMarginTop:0,r+=u*f,r+=u?(u-1)*t.footerSpacing:0;var h=0,p=function(e){i=Math.max(i,n.measureText(e).width+h)};return n.font=o.fontString(c,t._titleFontStyle,t._titleFontFamily),o.each(t.title,p),n.font=o.fontString(d,t._bodyFontStyle,t._bodyFontFamily),o.each(t.beforeBody.concat(t.afterBody),p),h=t.displayColors?d+2:0,o.each(a,function(e){o.each(e.before,p),o.each(e.lines,p),o.each(e.after,p)}),h=0,n.font=o.fontString(f,t._footerFontStyle,t._footerFontFamily),o.each(t.footer,p),{width:i+=2*t.xPadding,height:r}}(this,c),h=function(e,t){var n=e._model,r=e._chart,i=e._chart.chartArea,o="center",a="center";n.y<t.height?a="top":n.y>r.height-t.height&&(a="bottom");var s,l,u,c,d,f=(i.left+i.right)/2,h=(i.top+i.bottom)/2;"center"===a?(s=function(e){return e<=f},l=function(e){return e>f}):(s=function(e){return e<=t.width/2},l=function(e){return e>=r.width-t.width/2}),u=function(e){return e+t.width>r.width},c=function(e){return e-t.width<0},d=function(e){return e<=h?"top":"bottom"},s(n.x)?(o="left",u(n.x)&&(o="center",a=d(n.y))):l(n.x)&&(o="right",c(n.x)&&(o="center",a=d(n.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:o,yAlign:p.yAlign?p.yAlign:a}}(this,g))}else c.opacity=0;return c.xAlign=h.xAlign,c.yAlign=h.yAlign,c.x=p.x,c.y=p.y,c.width=g.width,c.height=g.height,c.caretX=m.x,c.caretY=m.y,i._model=c,t&&l.custom&&l.custom.call(i,c),i},drawCaret:function(e,t){var n=this._chart.ctx,r=this.getCaretPosition(e,t,this._view);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var r,i,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,f=n.yAlign,h=e.x,p=e.y,g=t.width,m=t.height;if("center"===f)s=p+m/2,"left"===d?(i=(r=h)-u,o=r,a=s+u,l=s-u):(i=(r=h+g)+u,o=r,a=s-u,l=s+u);else if("left"===d?(r=(i=h+c+u)-u,o=i+u):"right"===d?(r=(i=h+g-c-u)-u,o=i+u):(r=(i=h+g/2)-u,o=i+u),"top"===f)s=(a=p)-u,l=a;else{s=(a=p+m)+u,l=a;var v=o;o=r,r=v}return{x1:r,x2:i,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(e,n,r,i){var a=n.title;if(a.length){r.textAlign=n._titleAlign,r.textBaseline="top";var s,l,u=n.titleFontSize,c=n.titleSpacing;for(r.fillStyle=t(n.titleFontColor,i),r.font=o.fontString(u,n._titleFontStyle,n._titleFontFamily),s=0,l=a.length;s<l;++s)r.fillText(a[s],e.x,e.y),e.y+=u+c,s+1===a.length&&(e.y+=n.titleMarginBottom-c)}},drawBody:function(e,n,r,i){var a=n.bodyFontSize,s=n.bodySpacing,l=n.body;r.textAlign=n._bodyAlign,r.textBaseline="top",r.font=o.fontString(a,n._bodyFontStyle,n._bodyFontFamily);var u=0,c=function(t){r.fillText(t,e.x+u,e.y),e.y+=a+s};r.fillStyle=t(n.bodyFontColor,i),o.each(n.beforeBody,c);var d=n.displayColors;u=d?a+2:0,o.each(l,function(s,l){var u=t(n.labelTextColors[l],i);r.fillStyle=u,o.each(s.before,c),o.each(s.lines,function(o){d&&(r.fillStyle=t(n.legendColorBackground,i),r.fillRect(e.x,e.y,a,a),r.lineWidth=1,r.strokeStyle=t(n.labelColors[l].borderColor,i),r.strokeRect(e.x,e.y,a,a),r.fillStyle=t(n.labelColors[l].backgroundColor,i),r.fillRect(e.x+1,e.y+1,a-2,a-2),r.fillStyle=u),c(o)}),o.each(s.after,c)}),u=0,o.each(n.afterBody,c),e.y-=s},drawFooter:function(e,n,r,i){var a=n.footer;a.length&&(e.y+=n.footerMarginTop,r.textAlign=n._footerAlign,r.textBaseline="top",r.fillStyle=t(n.footerFontColor,i),r.font=o.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),o.each(a,function(t){r.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(e,n,r,i,o){r.fillStyle=t(n.backgroundColor,o),r.strokeStyle=t(n.borderColor,o),r.lineWidth=n.borderWidth;var a=n.xAlign,s=n.yAlign,l=e.x,u=e.y,c=i.width,d=i.height,f=n.cornerRadius;r.beginPath(),r.moveTo(l+f,u),"top"===s&&this.drawCaret(e,i),r.lineTo(l+c-f,u),r.quadraticCurveTo(l+c,u,l+c,u+f),"center"===s&&"right"===a&&this.drawCaret(e,i),r.lineTo(l+c,u+d-f),r.quadraticCurveTo(l+c,u+d,l+c-f,u+d),"bottom"===s&&this.drawCaret(e,i),r.lineTo(l+f,u+d),r.quadraticCurveTo(l,u+d,l,u+d-f),"center"===s&&"left"===a&&this.drawCaret(e,i),r.lineTo(l,u+f),r.quadraticCurveTo(l,u,l+f,u),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},i=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length)&&(this.drawBackground(r,t,e,n,i),r.x+=t.xPadding,r.y+=t.yPadding,this.drawTitle(r,t,e,i),this.drawBody(r,t,e,i),this.drawFooter(r,t,e,i))}},handleEvent:function(e){var t=this,n=t._options,r=!1;if(t._lastActive=t._lastActive||[],t._active="mouseout"===e.type?[]:t._chart.getElementsAtEventForMode(e,n.mode,n),!(r=!o.arrayEquals(t._active,t._lastActive)))return!1;if(t._lastActive=t._active,n.enabled||n.custom){t._eventPosition={x:e.x,y:e.y};var i=t._model;t.update(!0),t.pivot(),r|=i.x!==t._model.x||i.y!==t._model.y}return r}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:Math.round(r/o),y:Math.round(i/o)}},nearest:function(e,t){var n,r,i,a=t.x,s=t.y,l=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n];if(u&&u.hasValue()){var c=u.getCenterPoint(),d=o.distanceBetweenPoints(t,c);d<l&&(l=d,i=u)}}if(i){var f=i.tooltipPosition();a=f.x,s=f.y}return{x:a,y:s}}}}},{25:25,26:26,45:45}],36:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45);r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),t.exports=i.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=o.getAngleFromPoint(n,{x:e,y:t}),i=r.angle,a=r.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;i>l;)i-=2*Math.PI;for(;i<s;)i+=2*Math.PI;return i>=s&&i<=l&&a>=n.innerRadius&&a<=n.outerRadius}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,r=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,r),e.arc(t.x,t.y,t.innerRadius,r,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})},{25:25,26:26,45:45}],37:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45),a=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),t.exports=i.extend({draw:function(){var e,t,n,r,i=this,s=i._view,l=i._chart.ctx,u=s.spanGaps,c=i._children.slice(),d=a.elements.line,f=-1;for(i._loop&&c.length&&c.push(c[0]),l.save(),l.lineCap=s.borderCapStyle||d.borderCapStyle,l.setLineDash&&l.setLineDash(s.borderDash||d.borderDash),l.lineDashOffset=s.borderDashOffset||d.borderDashOffset,l.lineJoin=s.borderJoinStyle||d.borderJoinStyle,l.lineWidth=s.borderWidth||d.borderWidth,l.strokeStyle=s.borderColor||a.defaultColor,l.beginPath(),f=-1,e=0;e<c.length;++e)t=c[e],n=o.previousItem(c,e),r=t._view,0===e?r.skip||(l.moveTo(r.x,r.y),f=e):(n=-1===f?n:c[f],r.skip||(f!==e-1&&!u||-1===f?l.moveTo(r.x,r.y):o.canvas.lineTo(l,n._view,t._view),f=e));l.stroke(),l.restore()}})},{25:25,26:26,45:45}],38:[function(e,t,n){"use strict";function r(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}var i=e(25),o=e(26),a=e(45),s=i.global.defaultColor;i._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:s,borderColor:s,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),t.exports=o.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:r,inXRange:r,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._model,r=this._chart.ctx,o=t.pointStyle,l=t.radius,u=t.x,c=t.y,d=a.color,f=0;t.skip||(r.strokeStyle=t.borderColor||s,r.lineWidth=a.valueOrDefault(t.borderWidth,i.global.elements.point.borderWidth),r.fillStyle=t.backgroundColor||s,void 0!==e&&(n.x<e.left||1.01*e.right<n.x||n.y<e.top||1.01*e.bottom<n.y)&&(n.x<e.left?f=(u-n.x)/(e.left-n.x):1.01*e.right<n.x?f=(n.x-u)/(n.x-e.right):n.y<e.top?f=(c-n.y)/(e.top-n.y):1.01*e.bottom<n.y&&(f=(n.y-c)/(n.y-e.bottom)),f=Math.round(100*f)/100,r.strokeStyle=d(r.strokeStyle).alpha(f).rgbString(),r.fillStyle=d(r.fillStyle).alpha(f).rgbString()),a.canvas.drawPoint(r,o,l,u,c))}})},{25:25,26:26,45:45}],39:[function(e,t,n){"use strict";function r(e){return void 0!==e._view.width}function i(e){var t,n,i,o,a=e._view;if(r(e)){var s=a.width/2;t=a.x-s,n=a.x+s,i=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;t=Math.min(a.x,a.base),n=Math.max(a.x,a.base),i=a.y-l,o=a.y+l}return{left:t,top:i,right:n,bottom:o}}var o=e(25),a=e(26);o._set("global",{elements:{rectangle:{backgroundColor:o.global.defaultColor,borderColor:o.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),t.exports=a.extend({draw:function(){function e(e){return v[(b+e)%4]}var t,n,r,i,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(r=u.y-u.height/2,i=u.y+u.height/2,o=(n=u.x)>(t=u.base)?1:-1,a=1,s=u.borderSkipped||"left"):(t=u.x-u.width/2,n=u.x+u.width/2,o=1,a=(i=u.base)>(r=u.y)?1:-1,s=u.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(t-n),Math.abs(r-i)),f=(c=c>d?d:c)/2,h=t+("left"!==s?f*o:0),p=n+("right"!==s?-f*o:0),g=r+("top"!==s?f*a:0),m=i+("bottom"!==s?-f*a:0);h!==p&&(r=g,i=m),g!==m&&(t=h,n=p)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[t,i],[t,r],[n,r],[n,i]],b=["bottom","left","top","right"].indexOf(s,0);-1===b&&(b=0);var y=e(0);l.moveTo(y[0],y[1]);for(var x=1;x<4;x++)y=e(x),l.lineTo(y[0],y[1]);l.fill(),c&&l.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var r=i(this);n=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return n},inLabelRange:function(e,t){var n=this;if(!n._view)return!1;var o=i(n);return r(n)?e>=o.left&&e<=o.right:t>=o.top&&t<=o.bottom},inXRange:function(e){var t=i(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=i(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,n=this._view;return r(this)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})},{25:25,26:26}],40:[function(e,t,n){"use strict";t.exports={},t.exports.Arc=e(36),t.exports.Line=e(37),t.exports.Point=e(38),t.exports.Rectangle=e(39)},{36:36,37:37,38:38,39:39}],41:[function(e,t,n){"use strict";var r=e(42);n=t.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,i,o){if(o){var a=Math.min(o,r/2),s=Math.min(o,i/2);e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n)}else e.rect(t,n,r,i)},drawPoint:function(e,t,n,r,i){var o,a,s,l,u,c;if(!t||"object"!=typeof t||"[object HTMLImageElement]"!==(o=t.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(t){default:e.beginPath(),e.arc(r,i,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),u=(a=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(r-a/2,i+u/3),e.lineTo(r+a/2,i+u/3),e.lineTo(r,i-2*u/3),e.closePath(),e.fill();break;case"rect":c=1/Math.SQRT2*n,e.beginPath(),e.fillRect(r-c,i-c,2*c,2*c),e.strokeRect(r-c,i-c,2*c,2*c);break;case"rectRounded":var d=n/Math.SQRT2,f=r-d,h=i-d,p=Math.SQRT2*n;e.beginPath(),this.roundedRect(e,f,h,p,p,n/2),e.closePath(),e.fill();break;case"rectRot":c=1/Math.SQRT2*n,e.beginPath(),e.moveTo(r-c,i),e.lineTo(r,i+c),e.lineTo(r+c,i),e.lineTo(r,i-c),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(r,i+n),e.lineTo(r,i-n),e.moveTo(r-n,i),e.lineTo(r+n,i),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(r-s,i-l),e.lineTo(r+s,i+l),e.moveTo(r-s,i+l),e.lineTo(r+s,i-l),e.closePath();break;case"star":e.beginPath(),e.moveTo(r,i+n),e.lineTo(r,i-n),e.moveTo(r-n,i),e.lineTo(r+n,i),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(r-s,i-l),e.lineTo(r+s,i+l),e.moveTo(r-s,i+l),e.lineTo(r+s,i-l),e.closePath();break;case"line":e.beginPath(),e.moveTo(r-n,i),e.lineTo(r+n,i),e.closePath();break;case"dash":e.beginPath(),e.moveTo(r,i),e.lineTo(r+n,i),e.closePath()}e.stroke()}}else e.drawImage(t,r-t.width/2,i-t.height/2,t.width,t.height)},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){if(n.steppedLine)return"after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y);n.tension?e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},r.clear=n.clear,r.drawRoundedRectangle=function(e){e.beginPath(),n.roundedRect.apply(n,arguments),e.closePath()}},{42:42}],42:[function(e,t,n){"use strict";var r={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null==e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return r.valueOrDefault(r.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var o,a,s;if(r.isArray(e))if(a=e.length,i)for(o=a-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<a;o++)t.call(n,e[o],o);else if(r.isObject(e))for(a=(s=Object.keys(e)).length,o=0;o<a;o++)t.call(n,e[s[o]],s[o])},arrayEquals:function(e,t){var n,i,o,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(a=t[n],(o=e[n])instanceof Array&&a instanceof Array){if(!r.arrayEquals(o,a))return!1}else if(o!==a)return!1;return!0},clone:function(e){if(r.isArray(e))return e.map(r.clone);if(r.isObject(e)){for(var t={},n=Object.keys(e),i=n.length,o=0;o<i;++o)t[n[o]]=r.clone(e[n[o]]);return t}return e},_merger:function(e,t,n,i){var o=t[e],a=n[e];r.isObject(o)&&r.isObject(a)?r.merge(o,a,i):t[e]=r.clone(a)},_mergerIf:function(e,t,n){var i=t[e],o=n[e];r.isObject(i)&&r.isObject(o)?r.mergeIf(i,o):t.hasOwnProperty(e)||(t[e]=r.clone(o))},merge:function(e,t,n){var i,o,a,s,l,u=r.isArray(t)?t:[t],c=u.length;if(!r.isObject(e))return e;for(i=(n=n||{}).merger||r._merger,o=0;o<c;++o)if(r.isObject(t=u[o]))for(l=0,s=(a=Object.keys(t)).length;l<s;++l)i(a[l],e,t,n);return e},mergeIf:function(e,t){return r.merge(e,t,{merger:r._mergerIf})},extend:function(e){for(var t=1,n=arguments.length;t<n;++t)r.each(arguments[t],function(t,n){e[n]=t});return e},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=r.inherits,e&&r.extend(n.prototype,e),n.__super__=t.prototype,n}};t.exports=r,r.callCallback=r.callback,r.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},r.getValueOrDefault=r.valueOrDefault,r.getValueAtIndexOrDefault=r.valueAtIndexOrDefault},{}],43:[function(e,t,n){"use strict";var r=e(42),i={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-i.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*i.easeInBounce(2*e):.5*i.easeOutBounce(2*e-1)+.5}};t.exports={effects:i},r.easingEffects=i},{42:42}],44:[function(e,t,n){"use strict";var r=e(42);t.exports={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,o;return r.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,o=+e.left||0):t=n=i=o=+e||0,{top:t,right:n,bottom:i,left:o,height:t+i,width:o+n}},resolve:function(e,t,n){var i,o,a;for(i=0,o=e.length;i<o;++i)if(void 0!==(a=e[i])&&(void 0!==t&&"function"==typeof a&&(a=a(t)),void 0!==n&&r.isArray(a)&&(a=a[n]),void 0!==a))return a}}},{42:42}],45:[function(e,t,n){"use strict";t.exports=e(42),t.exports.easing=e(43),t.exports.canvas=e(41),t.exports.options=e(44)},{41:41,42:42,43:43,44:44}],46:[function(e,t,n){t.exports={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}}},{}],47:[function(e,t,n){"use strict";function r(e,t){var n=s.getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function i(e,t,n){e.addEventListener(t,n,p)}function o(e,t,n){e.removeEventListener(t,n,p)}function a(e,t,n,r,i){return{type:e,chart:t,native:i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}var s=e(45),l="$chartjs",u="chartjs-",c=u+"render-monitor",d=u+"render-animation",f=["animationstart","webkitAnimationStart"],h={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},p=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};t.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e="from{opacity:0.99}to{opacity:1}";!function(e,t){var n=e._style||document.createElement("style");e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}(this,"@-webkit-keyframes "+d+"{"+e+"}@keyframes "+d+"{"+e+"}."+c+"{-webkit-animation:"+d+" 0.001s;animation:"+d+" 0.001s;}")},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e[l]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var a=r(e,"width");void 0!==a&&(e.width=a)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=r(e,"height");void 0!==a&&(e.height=s)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[l]){var n=t[l].initial;["height","width"].forEach(function(e){var r=n[e];s.isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)}),s.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[l]}},addEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var o=n[l]||(n[l]={});i(r,t,(o.proxies||(o.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=h[e.type]||e.type,r=s.getRelativePosition(e,t);return a(n,t,r.x,r.y,e)}(t,e))})}else!function(e,t,n){var r=e[l]||(e[l]={}),o=r.resizer=function(e){var t=document.createElement("div"),n=u+"size-monitor",r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=r,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=t.childNodes[0],a=t.childNodes[1];t._reset=function(){o.scrollLeft=1e6,o.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6};var s=function(){t._reset(),e()};return i(o,"scroll",s.bind(o,"expand")),i(a,"scroll",s.bind(a,"shrink")),t}(function(e,t){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,s.requestAnimFrame.call(window,function(){n=!1,e.apply(t,r)}))}}(function(){if(r.resizer)return t(a("resize",n))}));!function(e,t){var n=e[l]||(e[l]={}),r=n.renderProxy=function(e){e.animationName===d&&t()};s.each(f,function(t){i(e,t,r)}),n.reflow=!!e.offsetParent,e.classList.add(c)}(e,function(){if(r.resizer){var t=e.parentNode;t&&t!==o.parentNode&&t.insertBefore(o,t.firstChild),o._reset()}})}(r,n,e)},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var i=((n[l]||{}).proxies||{})[e.id+"_"+t];i&&o(r,t,i)}else!function(e){var t=e[l]||{},n=t.resizer;delete t.resizer,function(e){var t=e[l]||{},n=t.renderProxy;n&&(s.each(f,function(t){o(e,t,n)}),delete t.renderProxy),e.classList.remove(c)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}(r)}},s.addEvent=i,s.removeEvent=o},{45:45}],48:[function(e,t,n){"use strict";var r=e(45),i=e(46),o=e(47);t.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o._enabled?o:i)},{45:45,46:46,47:47}],49:[function(e,t,n){"use strict";var r=e(25),i=e(40),o=e(45);r._set("global",{plugins:{filler:{propagate:!0}}}),t.exports=function(){function e(e,t,n){var r,i=e._model||{},o=i.fill;if(void 0===o&&(o=!!i.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(r=parseFloat(o,10),isFinite(r)&&Math.floor(r)===r)return"-"!==o[0]&&"+"!==o[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function t(e){var t,n=e.el._model||{},r=e.el._scale||{},i=e.fill,o=null;if(isFinite(i))return null;if("start"===i?o=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===i?o=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:r.getBasePosition?o=r.getBasePosition():r.getBasePixel&&(o=r.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return{x:(t=r.isHorizontal())?o:null,y:t?null:o}}return null}function n(e,t,n){var r,i=e[t].fill,o=[t];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!isFinite(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function a(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),c[n](e))}function s(e){return e&&!e.skip}function l(e,t,n,r,i){var a;if(r&&i){for(e.moveTo(t[0].x,t[0].y),a=1;a<r;++a)o.canvas.lineTo(e,t[a-1],t[a]);for(e.lineTo(n[i-1].x,n[i-1].y),a=i-1;a>0;--a)o.canvas.lineTo(e,n[a],n[a-1],!0)}}function u(e,t,n,r,i,o){var a,u,c,d,f,h,p,g=t.length,m=r.spanGaps,v=[],b=[],y=0,x=0;for(e.beginPath(),a=0,u=g+!!o;a<u;++a)f=n(d=t[c=a%g]._view,c,r),h=s(d),p=s(f),h&&p?(y=v.push(d),x=b.push(f)):y&&x&&(m?(h&&v.push(d),p&&b.push(f)):(l(e,v,b,y,x),y=x=0,v=[],b=[]));l(e,v,b,y,x),e.closePath(),e.fillStyle=i,e.fill()}var c={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),i=r&&n.isDatasetVisible(t)&&r.dataset._children||[],o=i.length||0;return o?function(e,t){return t<o&&i[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}};return{id:"filler",afterDatasetsUpdate:function(r,o){var s,l,u,c,d=(r.data.datasets||[]).length,f=o.propagate,h=[];for(l=0;l<d;++l)c=null,(u=(s=r.getDatasetMeta(l)).dataset)&&u._model&&u instanceof i.Line&&(c={visible:r.isDatasetVisible(l),fill:e(u,l,d),chart:r,el:u}),s.$filler=c,h.push(c);for(l=0;l<d;++l)(c=h[l])&&(c.fill=n(h,l,f),c.boundary=t(c),c.mapper=a(c))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var i=e.ctx,a=n.el,s=a._view,l=a._children||[],c=n.mapper,d=s.backgroundColor||r.global.defaultColor;c&&d&&l.length&&(o.canvas.clipArea(i,e.chartArea),u(i,l,c,s,d,a._loop),o.canvas.unclipArea(i))}}}}},{25:25,40:40,45:45}],50:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45);r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return o.isArray(t.datasets)?t.datasets.map(function(t,n){return{text:t.label,fillStyle:o.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}),t.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function n(t,n){var r=new e.Legend({ctx:t.ctx,options:n,chart:t});a.configure(t,r,n),a.addBox(t,r),t.legend=r}var a=e.layoutService,s=o.noop;return e.Legend=i.extend({initialize:function(e){o.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var e=this,t=e.options.labels||{},n=o.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var e=this,n=e.options,i=n.labels,a=n.display,s=e.ctx,l=r.global,u=o.valueOrDefault,c=u(i.fontSize,l.defaultFontSize),d=u(i.fontStyle,l.defaultFontStyle),f=u(i.fontFamily,l.defaultFontFamily),h=o.fontString(c,d,f),p=e.legendHitBoxes=[],g=e.minSize,m=e.isHorizontal();if(m?(g.width=e.maxWidth,g.height=a?10:0):(g.width=a?10:0,g.height=e.maxHeight),a)if(s.font=h,m){var v=e.lineWidths=[0],b=e.legendItems.length?c+i.padding:0;s.textAlign="left",s.textBaseline="top",o.each(e.legendItems,function(n,r){var o=t(i,c)+c/2+s.measureText(n.text).width;v[v.length-1]+o+i.padding>=e.width&&(b+=c+i.padding,v[v.length]=e.left),p[r]={left:0,top:0,width:o,height:c},v[v.length-1]+=o+i.padding}),g.height+=b}else{var y=i.padding,x=e.columnWidths=[],C=i.padding,w=0,k=0,S=c+y;o.each(e.legendItems,function(e,n){var r=t(i,c)+c/2+s.measureText(e.text).width;k+S>g.height&&(C+=w+i.padding,x.push(w),w=0,k=0),w=Math.max(w,r),k+=S,p[n]={left:0,top:0,width:r,height:c}}),C+=w,x.push(w),g.width+=C}e.width=g.width,e.height=g.height},afterFit:s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,n=e.options,i=n.labels,a=r.global,s=a.elements.line,l=e.width,u=e.lineWidths;if(n.display){var c,d=e.ctx,f=o.valueOrDefault,h=f(i.fontColor,a.defaultFontColor),p=f(i.fontSize,a.defaultFontSize),g=f(i.fontStyle,a.defaultFontStyle),m=f(i.fontFamily,a.defaultFontFamily),v=o.fontString(p,g,m);d.textAlign="left",d.textBaseline="middle",d.lineWidth=.5,d.strokeStyle=h,d.fillStyle=h,d.font=v;var b=t(i,p),y=e.legendHitBoxes,x=function(e,t,r){if(!(isNaN(b)||b<=0)){d.save(),d.fillStyle=f(r.fillStyle,a.defaultColor),d.lineCap=f(r.lineCap,s.borderCapStyle),d.lineDashOffset=f(r.lineDashOffset,s.borderDashOffset),d.lineJoin=f(r.lineJoin,s.borderJoinStyle),d.lineWidth=f(r.lineWidth,s.borderWidth),d.strokeStyle=f(r.strokeStyle,a.defaultColor);var i=0===f(r.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(f(r.lineDash,s.borderDash)),n.labels&&n.labels.usePointStyle){var l=p*Math.SQRT2/2,u=l/Math.SQRT2;o.canvas.drawPoint(d,r.pointStyle,l,e+u,t+u)}else i||d.strokeRect(e,t,b,p),d.fillRect(e,t,b,p);d.restore()}},C=e.isHorizontal();c=C?{x:e.left+(l-u[0])/2,y:e.top+i.padding,line:0}:{x:e.left+i.padding,y:e.top+i.padding,line:0};var w=p+i.padding;o.each(e.legendItems,function(t,n){var r=d.measureText(t.text).width,o=b+p/2+r,a=c.x,s=c.y;C?a+o>=l&&(s=c.y+=w,c.line++,a=c.x=e.left+(l-u[c.line])/2):s+w>e.bottom&&(a=c.x=a+e.columnWidths[c.line]+i.padding,s=c.y=e.top+i.padding,c.line++),x(a,s,t),y[n].left=a,y[n].top=s,function(e,t,n,r){var i=p/2,o=b+i+e,a=s+i;d.fillText(n.text,o,a),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(o,a),d.lineTo(o+r,a),d.stroke())}(a,0,t,r),C?c.x+=o+i.padding:c.y+=w})}},handleEvent:function(e){var t=this,n=t.options,r="mouseup"===e.type?"click":e.type,i=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var o=e.x,a=e.y;if(o>=t.left&&o<=t.right&&a>=t.top&&a<=t.bottom)for(var s=t.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===r){n.onClick.call(t,e.native,t.legendItems[l]),i=!0;break}if("mousemove"===r){n.onHover.call(t,e.native,t.legendItems[l]),i=!0;break}}}return i}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&n(e,t)},beforeUpdate:function(e){var t=e.options.legend,i=e.legend;t?(o.mergeIf(t,r.global.legend),i?(a.configure(e,i,t),i.options=t):n(e,t)):i&&(a.removeBox(e,i),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}}},{25:25,26:26,45:45}],51:[function(e,t,n){"use strict";var r=e(25),i=e(26),o=e(45);r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),t.exports=function(e){function t(t,r){var i=new e.Title({ctx:t.ctx,options:r,chart:t});n.configure(t,i,r),n.addBox(t,i),t.titleBlock=i}var n=e.layoutService,a=o.noop;return e.Title=i.extend({initialize:function(e){o.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:a,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var e=this,t=e.options,n=t.display,i=(0,o.valueOrDefault)(t.fontSize,r.global.defaultFontSize),a=e.minSize,s=o.isArray(t.text)?t.text.length:1,l=o.options.toLineHeight(t.lineHeight,i),u=n?s*l+2*t.padding:0;e.isHorizontal()?(a.width=e.maxWidth,a.height=u):(a.width=u,a.height=e.maxHeight),e.width=a.width,e.height=a.height},afterFit:a,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=o.valueOrDefault,i=e.options,a=r.global;if(i.display){var s,l,u,c=n(i.fontSize,a.defaultFontSize),d=n(i.fontStyle,a.defaultFontStyle),f=n(i.fontFamily,a.defaultFontFamily),h=o.fontString(c,d,f),p=o.options.toLineHeight(i.lineHeight,c),g=p/2+i.padding,m=0,v=e.top,b=e.left,y=e.bottom,x=e.right;t.fillStyle=n(i.fontColor,a.defaultFontColor),t.font=h,e.isHorizontal()?(l=b+(x-b)/2,u=v+g,s=x-b):(l="left"===i.position?b+g:x-g,u=v+(y-v)/2,s=y-v,m=Math.PI*("left"===i.position?-.5:.5)),t.save(),t.translate(l,u),t.rotate(m),t.textAlign="center",t.textBaseline="middle";var C=i.text;if(o.isArray(C))for(var w=0,k=0;k<C.length;++k)t.fillText(C[k],0,w,s),w+=p;else t.fillText(C,0,0,s);t.restore()}}}),{id:"title",beforeInit:function(e){var n=e.options.title;n&&t(e,n)},beforeUpdate:function(i){var a=i.options.title,s=i.titleBlock;a?(o.mergeIf(a,r.global.title),s?(n.configure(i,s,a),s.options=a):t(i,a)):s&&(e.layoutService.removeBox(i,s),delete i.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(e,t,n){"use strict";t.exports=function(e){var t=e.Scale.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1,void 0!==t.options.ticks.min&&(e=n.indexOf(t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=n.indexOf(t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,i=n.isHorizontal();return r.yLabels&&!i?n.getRightValue(r.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,r=this,i=r.options.offset,o=Math.max(r.maxIndex+1-r.minIndex-(i?0:1),1);if(null!=e&&(n=r.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){var a=r.getLabels().indexOf(e=n||e);t=-1!==a?a:t}if(r.isHorizontal()){var s=r.width/o,l=s*(t-r.minIndex);return i&&(l+=s/2),r.left+Math.round(l)}var u=r.height/o,c=u*(t-r.minIndex);return i&&(c+=u/2),r.top+Math.round(c)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,r=Math.max(t._ticks.length-(n?0:1),1),i=t.isHorizontal(),o=(i?t.width:t.height)/r;return e-=i?t.left:t.top,n&&(e-=o/2),(e<=0?0:Math.round(e/o))+t.minIndex},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",t,{position:"bottom"})}},{}],53:[function(e,t,n){"use strict";var r=e(25),i=e(45),o=e(34);t.exports=function(e){var t={position:"left",ticks:{callback:o.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return a?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,r=t.chart,o=r.data.datasets,a=t.isHorizontal();t.min=null,t.max=null;var s=n.stacked;if(void 0===s&&i.each(o,function(t,n){if(!s){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&e(i)&&void 0!==i.stack&&(s=!0)}}),n.stacked||s){var l={};i.each(o,function(o,a){var s=r.getDatasetMeta(a),u=[s.type,void 0===n.stacked&&void 0===s.stack?a:"",s.stack].join(".");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var c=l[u].positiveValues,d=l[u].negativeValues;r.isDatasetVisible(a)&&e(s)&&i.each(o.data,function(e,r){var i=+t.getRightValue(e);isNaN(i)||s.data[r].hidden||(c[r]=c[r]||0,d[r]=d[r]||0,n.relativePoints?c[r]=100:i<0?d[r]+=i:c[r]+=i)})}),i.each(l,function(e){var n=e.positiveValues.concat(e.negativeValues),r=i.min(n),o=i.max(n);t.min=null===t.min?r:Math.min(t.min,r),t.max=null===t.max?o:Math.max(t.max,o)})}else i.each(o,function(n,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&e(a)&&i.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this,n=t.options.ticks;if(t.isHorizontal())e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.width/50));else{var o=i.valueOrDefault(n.fontSize,r.global.defaultFontSize);e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.height/(2*o)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n=this,r=n.start,i=+n.getRightValue(e),o=n.end-r;return n.isHorizontal()?(t=n.left+n.width/o*(i-r),Math.round(t)):(t=n.bottom-n.height/o*(i-r),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal();return t.start+(n?e-t.left:t.bottom-e)/(n?t.width:t.height)*(t.end-t.start)},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",n,t)}},{25:25,34:34,45:45}],54:[function(e,t,n){"use strict";var r=e(45),i=e(34);t.exports=function(e){var t=r.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=r.sign(e.min),i=r.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var o=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(e.min=null===e.min?t.suggestedMin:Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(e.max=null===e.max?t.suggestedMax:Math.max(e.max,t.suggestedMax)),o!==a&&e.min>=e.max&&(o?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),o={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,stepSize:r.valueOrDefault(t.fixedStepSize,t.stepSize)},a=e.ticks=i.generators.linear(o,e);e.handleDirectionalChanges(),e.max=r.max(a),e.min=r.min(a),t.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{34:34,45:45}],55:[function(e,t,n){"use strict";var r=e(45),i=e(34);t.exports=function(e){var t={position:"left",ticks:{callback:i.formatters.logarithmic}},n=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,i=n.ticks,o=t.chart,a=o.data.datasets,s=r.valueOrDefault,l=t.isHorizontal();t.min=null,t.max=null,t.minNotZero=null;var u=n.stacked;if(void 0===u&&r.each(a,function(t,n){if(!u){var r=o.getDatasetMeta(n);o.isDatasetVisible(n)&&e(r)&&void 0!==r.stack&&(u=!0)}}),n.stacked||u){var c={};r.each(a,function(i,a){var s=o.getDatasetMeta(a),l=[s.type,void 0===n.stacked&&void 0===s.stack?a:"",s.stack].join(".");o.isDatasetVisible(a)&&e(s)&&(void 0===c[l]&&(c[l]=[]),r.each(i.data,function(e,r){var i=c[l],o=+t.getRightValue(e);isNaN(o)||s.data[r].hidden||(i[r]=i[r]||0,n.relativePoints?i[r]=100:i[r]+=o)}))}),r.each(c,function(e){var n=r.min(e),i=r.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?i:Math.max(t.max,i)})}else r.each(a,function(n,i){var a=o.getDatasetMeta(i);o.isDatasetVisible(i)&&e(a)&&r.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r),0!==r&&(null===t.minNotZero||r<t.minNotZero)&&(t.minNotZero=r))})});t.min=s(i.min,t.min),t.max=s(i.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(r.log10(t.min))-1),t.max=Math.pow(10,Math.floor(r.log10(t.max))+1)):(t.min=1,t.max=10))},buildTicks:function(){var e=this,t=e.options.ticks,n=e.ticks=i.generators.logarithmic({min:t.min,max:t.max},e);e.isHorizontal()||n.reverse(),e.max=r.max(n),e.min=r.min(n),t.reverse?(n.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,n,i,o=this,a=o.start,s=+o.getRightValue(e),l=o.options.ticks;return o.isHorizontal()?(i=r.log10(o.end)-r.log10(a),n=0===s?o.left:o.left+(t=o.width)/i*(r.log10(s)-r.log10(a))):(t=o.height,0!==a||l.reverse?0===o.end&&l.reverse?(i=r.log10(o.start)-r.log10(o.minNotZero),n=s===o.end?o.top:s===o.minNotZero?o.top+.02*t:o.top+.02*t+.98*t/i*(r.log10(s)-r.log10(o.minNotZero))):0===s?n=l.reverse?o.top:o.bottom:(i=r.log10(o.end)-r.log10(a),n=o.bottom-(t=o.height)/i*(r.log10(s)-r.log10(a))):(i=r.log10(o.end)-r.log10(o.minNotZero),n=s===a?o.bottom:s===o.minNotZero?o.bottom-.02*t:o.bottom-.02*t-.98*t/i*(r.log10(s)-r.log10(o.minNotZero)))),n},getValueForPixel:function(e){var t,n,i=this,o=r.log10(i.end)-r.log10(i.start);return i.isHorizontal()?(n=i.width,t=i.start*Math.pow(10,(e-i.left)*o/n)):(n=i.height,t=Math.pow(10,(i.bottom-e)*o/n)/i.start),t}});e.scaleService.registerScaleType("logarithmic",n,t)}},{34:34,45:45}],56:[function(e,t,n){"use strict";var r=e(25),i=e(45),o=e(34);t.exports=function(e){function t(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function n(e){var t=e.options.pointLabels,n=i.valueOrDefault(t.fontSize,p.defaultFontSize),r=i.valueOrDefault(t.fontStyle,p.defaultFontStyle),o=i.valueOrDefault(t.fontFamily,p.defaultFontFamily);return{size:n,style:r,family:o,font:i.fontString(n,r,o)}}function a(e,t,n){return i.isArray(n)?{w:i.longestText(e,e.font,n),h:n.length*t+1.5*(n.length-1)*t}:{w:e.measureText(n).width,h:t}}function s(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function l(e){return 0===e||180===e?"center":e<180?"left":"right"}function u(e,t,n,r){if(i.isArray(t))for(var o=n.y,a=1.5*r,s=0;s<t.length;++s)e.fillText(t[s],n.x,o),o+=a;else e.fillText(t,n.x,n.y)}function c(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function d(e){var r=e.ctx,o=i.valueOrDefault,a=e.options,s=a.angleLines,d=a.pointLabels;r.lineWidth=s.lineWidth,r.strokeStyle=s.color;var f=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),h=n(e);r.textBaseline="top";for(var g=t(e)-1;g>=0;g--){if(s.display){var m=e.getPointPosition(g,f);r.beginPath(),r.moveTo(e.xCenter,e.yCenter),r.lineTo(m.x,m.y),r.stroke(),r.closePath()}if(d.display){var v=e.getPointPosition(g,f+5),b=o(d.fontColor,p.defaultFontColor);r.font=h.font,r.fillStyle=b;var y=e.getIndexAngle(g),x=i.toDegrees(y);r.textAlign=l(x),c(x,e._pointLabelSizes[g],v),u(r,e.pointLabels[g]||"",v,h.size)}}}function f(e,n,r,o){var a=e.ctx;if(a.strokeStyle=i.valueAtIndexOrDefault(n.color,o-1),a.lineWidth=i.valueAtIndexOrDefault(n.lineWidth,o-1),e.options.gridLines.circular)a.beginPath(),a.arc(e.xCenter,e.yCenter,r,0,2*Math.PI),a.closePath(),a.stroke();else{var s=t(e);if(0===s)return;a.beginPath();var l=e.getPointPosition(0,r);a.moveTo(l.x,l.y);for(var u=1;u<s;u++)l=e.getPointPosition(u,r),a.lineTo(l.x,l.y);a.closePath(),a.stroke()}}function h(e){return i.isNumber(e)?e:0}var p=r.global,g={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},m=e.LinearScaleBase.extend({setDimensions:function(){var e=this,t=e.options,n=t.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var r=i.min([e.height,e.width]),o=i.valueOrDefault(n.fontSize,p.defaultFontSize);e.drawingArea=t.display?r/2-(o/2+n.backdropPaddingY):r/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;i.each(t.data.datasets,function(o,a){if(t.isDatasetVisible(a)){var s=t.getDatasetMeta(a);i.each(o.data,function(t,i){var o=+e.getRightValue(t);isNaN(o)||s.data[i].hidden||(n=Math.min(o,n),r=Math.max(o,r))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=i.valueOrDefault(e.fontSize,p.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,t;this.options.pointLabels.display?function(e){var r,o,l,u=n(e),c=Math.min(e.height/2,e.width/2),d={r:e.width,l:0,t:e.height,b:0},f={};e.ctx.font=u.font,e._pointLabelSizes=[];var h=t(e);for(r=0;r<h;r++){l=e.getPointPosition(r,c),o=a(e.ctx,u.size,e.pointLabels[r]||""),e._pointLabelSizes[r]=o;var p=e.getIndexAngle(r),g=i.toDegrees(p)%360,m=s(g,l.x,o.w,0,180),v=s(g,l.y,o.h,90,270);m.start<d.l&&(d.l=m.start,f.l=p),m.end>d.r&&(d.r=m.end,f.r=p),v.start<d.t&&(d.t=v.start,f.t=p),v.end>d.b&&(d.b=v.end,f.b=p)}e.setReductions(c,d,f)}(this):(e=this,t=Math.min(e.height/2,e.width/2),e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0))},setReductions:function(e,t,n){var r=this,i=t.l/Math.sin(n.l),o=Math.max(t.r-r.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),s=-Math.max(t.b-r.height,0)/Math.cos(n.b);i=h(i),o=h(o),a=h(a),s=h(s),r.drawingArea=Math.min(Math.round(e-(i+o)/2),Math.round(e-(a+s)/2)),r.setCenterPoint(i,o,a,s)},setCenterPoint:function(e,t,n,r){var i=this,o=n+i.drawingArea,a=i.height-r-i.drawingArea;i.xCenter=Math.round((e+i.drawingArea+(i.width-t-i.drawingArea))/2+i.left),i.yCenter=Math.round((o+a)/2+i.top)},getIndexAngle:function(e){return e*(2*Math.PI/t(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,r=n.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(r)*t)+n.xCenter,y:Math.round(Math.sin(r)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,t=e.options,n=t.gridLines,r=t.ticks,o=i.valueOrDefault;if(t.display){var a=e.ctx,s=this.getIndexAngle(0),l=o(r.fontSize,p.defaultFontSize),u=o(r.fontStyle,p.defaultFontStyle),c=o(r.fontFamily,p.defaultFontFamily),h=i.fontString(l,u,c);i.each(e.ticks,function(t,i){if(i>0||r.reverse){var u=e.getDistanceFromCenterForValue(e.ticksAsNumbers[i]);if(n.display&&0!==i&&f(e,n,u,i),r.display){var c=o(r.fontColor,p.defaultFontColor);if(a.font=h,a.save(),a.translate(e.xCenter,e.yCenter),a.rotate(s),r.showLabelBackdrop){var d=a.measureText(t).width;a.fillStyle=r.backdropColor,a.fillRect(-d/2-r.backdropPaddingX,-u-l/2-r.backdropPaddingY,d+2*r.backdropPaddingX,l+2*r.backdropPaddingY)}a.textAlign="center",a.textBaseline="middle",a.fillStyle=c,a.fillText(t,0,-u),a.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&d(e)}}});e.scaleService.registerScaleType("radialLinear",m,g)}},{25:25,34:34,45:45}],57:[function(e,t,n){"use strict";function r(e,t){return e-t}function i(e){var t,n,r,i={},o=[];for(t=0,n=e.length;t<n;++t)i[r=e[t]]||(i[r]=!0,o.push(r));return o}function o(e,t,n,r){var i=function(e,t,n){for(var r,i,o,a=0,s=e.length-1;a>=0&&a<=s;){if(o=e[r=a+s>>1],!(i=e[r-1]||null))return{lo:null,hi:o};if(o[t]<n)a=r+1;else{if(!(i[t]>n))return{lo:i,hi:o};s=r-1}}return{lo:o,hi:null}}(e,t,n),o=i.lo?i.hi?i.lo:e[e.length-2]:e[0],a=i.lo?i.hi?i.hi:e[e.length-1]:e[1],s=a[t]-o[t];return o[r]+(a[r]-o[r])*(s?(n-o[t])/s:0)}function a(e,t){var n=t.parser,r=t.parser||t.format;return"function"==typeof n?n(e):"string"==typeof e&&"string"==typeof r?c(e,r):(e instanceof c||(e=c(e)),e.isValid()?e:"function"==typeof r?r(e):e)}function s(e,t){if(f.isNullOrUndef(e))return null;var n=t.options.time,r=a(t.getRightValue(e),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function l(e){for(var t=m.indexOf(e)+1,n=m.length;t<n;++t)if(g[m[t]].common)return m[t]}function u(e,t,n,r,i){var a,s=0,l=0;return i.offset&&t.length&&(i.time.min||(a=t[0],s=(o(e,"time",t.length>1?t[1]:r,"pos")-o(e,"time",a,"pos"))/2),i.time.max||(a=t.length>1?t[t.length-2]:n,l=(o(e,"time",t[t.length-1],"pos")-o(e,"time",a,"pos"))/2)),{left:s,right:l}}var c=e(1);c="function"==typeof c?c:window.moment;var d=e(25),f=e(45),h=Number.MIN_SAFE_INTEGER||-9007199254740991,p=Number.MAX_SAFE_INTEGER||9007199254740991,g={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},m=Object.keys(g);t.exports=function(e){var t=e.Scale.extend({initialize:function(){if(!c)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this.options;return t.time&&t.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),e.Scale.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var e,t,n,o,a,l,u=this,d=u.chart,g=u.options.time,m=p,v=h,b=[],y=[],x=[];for(e=0,n=d.data.labels.length;e<n;++e)x.push(s(d.data.labels[e],u));for(e=0,n=(d.data.datasets||[]).length;e<n;++e)if(d.isDatasetVisible(e))if(f.isObject((a=d.data.datasets[e].data)[0]))for(y[e]=[],t=0,o=a.length;t<o;++t)l=s(a[t],u),b.push(l),y[e][t]=l;else b.push.apply(b,x),y[e]=x.slice(0);else y[e]=[];x.length&&(x=i(x).sort(r),m=Math.min(m,x[0]),v=Math.max(v,x[x.length-1])),b.length&&(b=i(b).sort(r),m=Math.min(m,b[0]),v=Math.max(v,b[b.length-1])),m=s(g.min,u)||m,v=s(g.max,u)||v,m=m===p?+c().startOf("day"):m,v=v===h?+c().endOf("day")+1:v,u.min=Math.min(m,v),u.max=Math.max(m+1,v),u._horizontal=u.isHorizontal(),u._table=[],u._timestamps={data:b,datasets:y,labels:x}},buildTicks:function(){var e,t,n,r=this,i=r.min,o=r.max,a=r.options,d=a.time,h=[],v=[];switch(a.ticks.source){case"data":h=r._timestamps.data;break;case"labels":h=r._timestamps.labels;break;case"auto":default:h=function(e,t,n,r){var i,o=r.time,a=o.unit||function(e,t,n,r){var i,o,a=m.length;for(i=m.indexOf(e);i<a-1;++i)if((o=g[m[i]]).common&&Math.ceil((n-t)/((o.steps?o.steps[o.steps.length-1]:p)*o.size))<=r)return m[i];return m[a-1]}(o.minUnit,e,t,n),s=l(a),u=f.valueOrDefault(o.stepSize,o.unitStepSize),d="week"===a&&o.isoWeekday,h=r.ticks.major.enabled,v=g[a],b=c(e),y=c(t),x=[];for(u||(u=function(e,t,n,r){var i,o,a,s=t-e,l=g[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/((r||1)*u));for(i=0,o=c.length;i<o&&(a=c[i],!(Math.ceil(s/(u*a))<=r));++i);return a}(e,t,a,n)),d&&(b=b.isoWeekday(d),y=y.isoWeekday(d)),b=b.startOf(d?"day":a),(y=y.startOf(d?"day":a))<t&&y.add(1,a),i=c(b),h&&s&&!d&&!o.round&&(i.startOf(s),i.add(~~((b-i)/(v.size*u))*u,a));i<y;i.add(u,a))x.push(+i);return x.push(+i),x}(i,o,r.getLabelCapacity(i),a)}for("ticks"===a.bounds&&h.length&&(i=h[0],o=h[h.length-1]),i=s(d.min,r)||i,o=s(d.max,r)||o,e=0,t=h.length;e<t;++e)(n=h[e])>=i&&n<=o&&v.push(n);return r.min=i,r.max=o,r._unit=d.unit||function(e,t,n,r){var i,o,a=c.duration(c(r).diff(c(n)));for(i=m.length-1;i>=m.indexOf(t);i--)if(g[o=m[i]].common&&a.as(o)>=e.length)return o;return m[t?m.indexOf(t):0]}(v,d.minUnit,r.min,r.max),r._majorUnit=l(r._unit),r._table=function(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,o,a,s,l,u=[],c=[t];for(i=0,o=e.length;i<o;++i)(s=e[i])>t&&s<n&&c.push(s);for(c.push(n),i=0,o=c.length;i<o;++i)l=c[i+1],s=c[i],void 0!==(a=c[i-1])&&void 0!==l&&Math.round((l+a)/2)===s||u.push({time:s,pos:i/(o-1)});return u}(r._timestamps.data,i,o,a.distribution),r._offsets=u(r._table,v,i,o,a),function(e,t){var n,r,i,o,a=[];for(n=0,r=e.length;n<r;++n)i=e[n],o=!!t&&i===+c(i).startOf(t),a.push({value:i,major:o});return a}(v,r._majorUnit)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,i=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return f.isObject(s)&&(o=n.getRightValue(s)),i.tooltipFormat&&(o=a(o,i).format(i.tooltipFormat)),o},tickFormatFunction:function(e,t,n,r){var i=this,o=i.options,a=e.valueOf(),s=o.time.displayFormats,l=s[i._unit],u=i._majorUnit,c=s[u],d=e.clone().startOf(u).valueOf(),h=o.ticks.major,p=h.enabled&&u&&c&&a===d,g=e.format(r||(p?c:l)),m=p?h:o.ticks.minor,v=f.valueOrDefault(m.callback,m.userCallback);return v?v(g,t,n):g},convertTicksToLabels:function(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(this.tickFormatFunction(c(e[t].value),t,e));return r},getPixelForOffset:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,i=o(t._table,"time",e,"pos");return r+n*(t._offsets.left+i)/(t._offsets.left+1+t._offsets.right)},getPixelForValue:function(e,t,n){var r=this,i=null;if(void 0!==t&&void 0!==n&&(i=r._timestamps.datasets[n][t]),null===i&&(i=s(e,r)),null!==i)return r.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,r=o(t._table,"pos",(n?(e-(t._horizontal?t.left:t.top))/n:0)*(t._offsets.left+1+t._offsets.left)-t._offsets.right,"time");return c(r)},getLabelWidth:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=f.toRadians(t.maxRotation),i=Math.cos(r),o=Math.sin(r);return n*i+f.valueOrDefault(t.fontSize,d.global.defaultFontSize)*o},getLabelCapacity:function(e){var t=this,n=t.options.time.displayFormats.millisecond,r=t.tickFormatFunction(c(e),0,[],n),i=t.getLabelWidth(r),o=t.isHorizontal()?t.width:t.height;return Math.floor(o/i)}});e.scaleService.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});